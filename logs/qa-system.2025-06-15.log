2025-06-15 10:12:31 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 20808 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 10:12:31 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 10:12:31 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 10:12:31 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-06-15 10:12:31 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-06-15 10:12:32 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 10:12:32 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 10:12:32 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 10:12:32 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 10:12:32 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 JDBC repository interfaces.
2025-06-15 10:12:32 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 10:12:32 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 10:12:32 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-06-15 10:12:32 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 10:12:32 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 10:12:32 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 10:12:32 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 10:12:32 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 10:12:32 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 10:12:32 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 10:12:32 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 10:12:32 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 10:12:32 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 10:12:32 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 10:12:32 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1360 ms
2025-06-15 10:12:33 [restartedMain] WARN  o.a.c.c.C.[Tomcat].[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [E61CCCF4129F34794F7DE8670335993E]
2025-06-15 10:12:33 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 10:12:33 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-06-15 10:12:33 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 10:12:33 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 10:12:33 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 10:12:33 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 10:12:34 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 10:12:34 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 10:12:34 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 10:12:35 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 10:12:35 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 10:12:35 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 10:12:35 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 4.409 seconds (process running for 5.12)
2025-06-15 10:15:23 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-06-15 10:15:23 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 10:15:23 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-06-15 10:15:23 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 10:15:23 [Thread-7] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-06-15 10:15:23 [Thread-7] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-06-15 10:15:23 [Thread-7] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-06-15 10:15:23 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 20808 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 10:15:23 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 10:15:23 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 10:15:24 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 10:15:24 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 10:15:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 10:15:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 10:15:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 0 JDBC repository interfaces.
2025-06-15 10:15:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 10:15:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 10:15:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2025-06-15 10:15:24 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 10:15:24 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 10:15:24 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 10:15:24 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 10:15:24 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 10:15:24 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 10:15:24 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 10:15:24 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 10:15:24 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 10:15:24 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 10:15:24 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 10:15:24 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 523 ms
2025-06-15 10:15:24 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 10:15:24 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-2} inited
2025-06-15 10:15:24 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 10:15:24 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 10:15:24 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 10:15:24 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'chatController' defined in file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\controller\ChatController.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.example.qasystem.service.ChatService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-06-15 10:15:24 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-2} closing ...
2025-06-15 10:15:24 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-2} closed
2025-06-15 10:15:24 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-15 10:15:24 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-15 10:15:24 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.example.qasystem.controller.ChatController required a bean of type 'com.example.qasystem.service.ChatService' that could not be found.


Action:

Consider defining a bean of type 'com.example.qasystem.service.ChatService' in your configuration.

2025-06-15 10:15:26 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 20808 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 10:15:26 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 10:15:26 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 10:15:26 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 10:15:26 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 10:15:26 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 10:15:26 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 10:15:26 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 JDBC repository interfaces.
2025-06-15 10:15:26 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 10:15:26 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 10:15:26 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-06-15 10:15:26 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 10:15:26 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 10:15:26 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 10:15:26 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 10:15:26 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 10:15:26 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 10:15:26 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 10:15:26 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 10:15:26 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 10:15:26 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 10:15:26 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 10:15:26 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 173 ms
2025-06-15 10:15:26 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 10:15:26 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-3} inited
2025-06-15 10:15:26 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 10:15:26 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 10:15:26 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 10:15:26 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 10:15:26 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 10:15:26 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 10:15:26 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 10:15:26 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 10:15:26 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 10:15:26 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 10:15:26 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 0.512 seconds (process running for 176.381)
2025-06-15 10:15:26 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-06-15 10:15:50 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 10:15:50 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 10:15:50 [SpringApplicationShutdownHook] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-3} closing ...
2025-06-15 10:15:50 [SpringApplicationShutdownHook] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-3} closed
2025-06-15 10:15:52 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 66304 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 10:15:52 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 10:15:52 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 10:15:52 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-06-15 10:15:52 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-06-15 10:15:53 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 10:15:53 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 10:15:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 10:15:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 10:15:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 0 JDBC repository interfaces.
2025-06-15 10:15:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 10:15:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 10:15:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-06-15 10:15:53 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 10:15:53 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 10:15:53 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 10:15:53 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 10:15:53 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 10:15:53 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 10:15:53 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 10:15:53 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 10:15:53 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 10:15:53 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 10:15:53 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 10:15:53 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1032 ms
2025-06-15 10:15:54 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 10:15:54 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-06-15 10:15:54 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 10:15:54 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 10:15:54 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 10:15:54 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 10:15:54 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 10:15:54 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 10:15:55 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 10:15:55 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 10:15:55 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 10:15:55 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 10:15:55 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 2.882 seconds (process running for 3.285)
2025-06-15 10:16:04 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-15 10:16:04 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-15 10:16:04 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-06-15 10:16:04 [http-nio-8080-exec-1] DEBUG c.e.q.controller.UserController - 显示登录页面
2025-06-15 10:16:04 [http-nio-8080-exec-4] DEBUG c.e.q.controller.UserController - 显示登录页面
2025-06-15 10:16:12 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:16:12 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c9348d9] was not registered for synchronization because synchronization is not active
2025-06-15 10:16:12 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:15:54.245, closeCount=0, lastValidateTimeMillis=2025-06-15 10:15:54.246}] will not be managed by Spring
2025-06-15 10:16:12 [http-nio-8080-exec-5] DEBUG c.e.q.mapper.UserMapper.findByUser - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 10:16:12 [http-nio-8080-exec-5] DEBUG c.e.q.mapper.UserMapper.findByUser - ==> Parameters: ls1(String)
2025-06-15 10:16:12 [http-nio-8080-exec-5] DEBUG c.e.q.mapper.UserMapper.findByUser - <==      Total: 1
2025-06-15 10:16:12 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c9348d9]
2025-06-15 10:16:12 [http-nio-8080-exec-2] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 10:16:12 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 10:16:12 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:16:12 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fd8342d] was not registered for synchronization because synchronization is not active
2025-06-15 10:16:12 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:15:54.245, closeCount=0, lastValidateTimeMillis=2025-06-15 10:15:54.246}] will not be managed by Spring
2025-06-15 10:16:12 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 10:16:12 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 10:16:12 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 10:16:12 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fd8342d]
2025-06-15 10:16:12 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 10:16:12 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:16:12 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ca540d] was not registered for synchronization because synchronization is not active
2025-06-15 10:16:12 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:15:54.245, closeCount=0, lastValidateTimeMillis=2025-06-15 10:15:54.246}] will not be managed by Spring
2025-06-15 10:16:12 [http-nio-8080-exec-2] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM chat_history WHERE user_id = ? ORDER BY created_at
2025-06-15 10:16:12 [http-nio-8080-exec-2] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 10:16:12 [http-nio-8080-exec-2] DEBUG c.e.q.m.C.findByUserId - <==      Total: 43
2025-06-15 10:16:12 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ca540d]
2025-06-15 10:16:12 [http-nio-8080-exec-2] INFO  c.e.qasystem.service.ChatService - Retrieved 43 chat history entries for userId: 6
2025-06-15 10:16:12 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 10:16:12 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:16:12 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42c2e3e] was not registered for synchronization because synchronization is not active
2025-06-15 10:16:12 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:15:54.245, closeCount=0, lastValidateTimeMillis=2025-06-15 10:15:54.246}] will not be managed by Spring
2025-06-15 10:16:12 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 10:16:12 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 10:16:12 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 10:16:12 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42c2e3e]
2025-06-15 10:16:12 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:16:12 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ed4454e] was not registered for synchronization because synchronization is not active
2025-06-15 10:16:12 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:15:54.245, closeCount=0, lastValidateTimeMillis=2025-06-15 10:15:54.246}] will not be managed by Spring
2025-06-15 10:16:12 [http-nio-8080-exec-9] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM conversation WHERE user_id = ?
2025-06-15 10:16:12 [http-nio-8080-exec-9] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 10:16:12 [http-nio-8080-exec-9] DEBUG c.e.q.m.C.findByUserId - <==      Total: 13
2025-06-15 10:16:12 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ed4454e]
2025-06-15 10:16:34 [http-nio-8080-exec-1] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 最近好多雨，可能是有台风了
2025-06-15 10:16:34 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 10:16:34 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:16:34 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56ebdacc] was not registered for synchronization because synchronization is not active
2025-06-15 10:16:34 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:15:54.245, closeCount=0, lastValidateTimeMillis=2025-06-15 10:15:54.246}] will not be managed by Spring
2025-06-15 10:16:34 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 10:16:34 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 10:16:34 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 10:16:34 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56ebdacc]
2025-06-15 10:16:34 [http-nio-8080-exec-1] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 最近好多雨，可能是有台风了
2025-06-15 10:16:34 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:16:34 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@df7d12a]
2025-06-15 10:16:34 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:15:54.245, closeCount=0, lastValidateTimeMillis=2025-06-15 10:15:54.246}] will be managed by Spring
2025-06-15 10:16:34 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM chat_history WHERE user_id = ? ORDER BY created_at
2025-06-15 10:16:34 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 10:16:34 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.findByUserId - <==      Total: 43
2025-06-15 10:16:34 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@df7d12a]
2025-06-15 10:16:34 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@df7d12a] from current transaction
2025-06-15 10:16:34 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.insertChatHistory - ==>  Preparing: INSERT INTO chat_history (user_id, user_message, ai_response, version, created_at, conversation_id) VALUES (?, ?, ?,?, ?,?)
2025-06-15 10:16:34 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.insertChatHistory - ==> Parameters: 6(Long), 最近好多雨，可能是有台风了(String), null, 37(Long), 2025-06-15T10:16:34.441586(LocalDateTime), 16(Long)
2025-06-15 10:16:34 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.insertChatHistory - <==    Updates: 1
2025-06-15 10:16:34 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@df7d12a]
2025-06-15 10:16:34 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.ChatService - 保存历史记录: 最近好多雨，可能是有台风了
2025-06-15 10:16:34 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@df7d12a]
2025-06-15 10:16:34 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@df7d12a]
2025-06-15 10:16:34 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@df7d12a]
2025-06-15 10:16:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 




2025-06-15 10:16:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 是


2025-06-15 10:16:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 啊


2025-06-15 10:16:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:16:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 最近


2025-06-15 10:16:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 天气


2025-06-15 10:16:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 变化


2025-06-15 10:16:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 挺


2025-06-15 10:16:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 大的


2025-06-15 10:16:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:16:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 台风


2025-06-15 10:16:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 确实


2025-06-15 10:16:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 容易


2025-06-15 10:16:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 带来


2025-06-15 10:16:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 连续


2025-06-15 10:16:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 10:16:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 降雨


2025-06-15 10:16:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。


2025-06-15 10:16:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 如果你


2025-06-15 10:16:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 所在


2025-06-15 10:16:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的地方


2025-06-15 10:16:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 有


2025-06-15 10:16:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 台风


2025-06-15 10:16:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 预警


2025-06-15 10:16:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:16:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 记得


2025-06-15 10:16:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 多


2025-06-15 10:16:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 关注


2025-06-15 10:16:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 天气


2025-06-15 10:16:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 预报


2025-06-15 10:16:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:16:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 做好


2025-06-15 10:16:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 防范


2025-06-15 10:16:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 措施


2025-06-15 10:16:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 哦


2025-06-15 10:16:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ！


2025-06-15 10:16:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 如果有


2025-06-15 10:16:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 需要


2025-06-15 10:16:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:16:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 也可以


2025-06-15 10:16:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 随时


2025-06-15 10:16:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 告诉我


2025-06-15 10:16:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:16:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 我会


2025-06-15 10:16:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 尽力


2025-06-15 10:16:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 提供


2025-06-15 10:16:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 帮助


2025-06-15 10:16:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ！


2025-06-15 10:16:49 [boundedElastic-2] INFO  c.e.qasystem.service.ChatService - Streaming response completed for userId: 6, response: 是啊，最近天气变化挺大的，台风确实容易带来连续的降雨。如果你所在的地方有台风预警，记得多关注天气预报，做好防范措施哦！如果有需要，也可以随时告诉我，我会尽力提供帮助！
2025-06-15 10:16:49 [boundedElastic-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:16:49 [boundedElastic-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71606f0c] was not registered for synchronization because synchronization is not active
2025-06-15 10:16:49 [boundedElastic-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:15:54.245, closeCount=0, lastValidateTimeMillis=2025-06-15 10:15:54.246}] will not be managed by Spring
2025-06-15 10:16:49 [boundedElastic-2] DEBUG c.e.q.m.C.updateChatHistory - ==>  Preparing: Update chat_history SET ai_response = ? where version = ?
2025-06-15 10:16:49 [boundedElastic-2] DEBUG c.e.q.m.C.updateChatHistory - ==> Parameters: 是啊，最近天气变化挺大的，台风确实容易带来连续的降雨。如果你所在的地方有台风预警，记得多关注天气预报，做好防范措施哦！如果有需要，也可以随时告诉我，我会尽力提供帮助！(String), 37(Long)
2025-06-15 10:16:49 [boundedElastic-2] DEBUG c.e.q.m.C.updateChatHistory - <==    Updates: 1
2025-06-15 10:16:49 [boundedElastic-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71606f0c]
2025-06-15 10:16:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Updated AI response to chat history
2025-06-15 10:21:44 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-06-15 10:21:44 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 10:21:44 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-06-15 10:21:44 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 10:21:44 [Thread-7] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-06-15 10:21:44 [Thread-7] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-06-15 10:21:44 [Thread-7] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-06-15 10:21:44 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 66304 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 10:21:44 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 10:21:44 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 10:21:45 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 10:21:45 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 10:21:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 10:21:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 10:21:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 JDBC repository interfaces.
2025-06-15 10:21:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 10:21:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 10:21:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-06-15 10:21:45 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 10:21:45 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 10:21:45 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 10:21:45 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 10:21:45 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 10:21:45 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 10:21:45 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 10:21:45 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 10:21:45 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 10:21:45 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 10:21:45 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 10:21:45 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 391 ms
2025-06-15 10:21:45 [restartedMain] WARN  o.a.c.c.C.[Tomcat].[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [64173830999225558460B1F5AEC84E30]
2025-06-15 10:21:45 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 10:21:45 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-2} inited
2025-06-15 10:21:45 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 10:21:45 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 10:21:45 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 10:21:45 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'chatController': Resolution of declared constructors on bean Class [com.example.qasystem.controller.ChatController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@74dc3539] failed
2025-06-15 10:21:45 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-2} closing ...
2025-06-15 10:21:45 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-2} closed
2025-06-15 10:21:45 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-15 10:21:45 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-15 10:21:45 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'chatController': Resolution of declared constructors on bean Class [com.example.qasystem.controller.ChatController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@74dc3539] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:384)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1229)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.example.qasystem.QaSystemApplication.main(QaSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.lang.NoClassDefFoundError: com/example/qasystem/service/ChatService
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3373)
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2555)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:379)
	... 25 common frames omitted
Caused by: java.lang.ClassNotFoundException: com.example.qasystem.service.ChatService
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:467)
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)
	... 29 common frames omitted
2025-06-15 10:21:53 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 66304 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 10:21:53 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 10:21:53 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 10:21:54 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 10:21:54 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 10:21:54 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 10:21:54 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 10:21:54 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 JDBC repository interfaces.
2025-06-15 10:21:54 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 10:21:54 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 10:21:54 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2025-06-15 10:21:54 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 10:21:54 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 10:21:54 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 10:21:54 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 10:21:54 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 10:21:54 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 10:21:54 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 10:21:54 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 10:21:54 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 10:21:54 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 10:21:54 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 10:21:54 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 413 ms
2025-06-15 10:21:54 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 10:21:54 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-3} inited
2025-06-15 10:21:54 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 10:21:54 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 10:21:54 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 10:21:54 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 10:21:54 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 10:21:54 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 10:21:54 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 10:21:55 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 10:21:55 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 10:21:55 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 10:21:55 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 1.137 seconds (process running for 363.007)
2025-06-15 10:21:55 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-06-15 10:22:27 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 10:22:27 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 10:22:27 [SpringApplicationShutdownHook] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-3} closing ...
2025-06-15 10:22:27 [SpringApplicationShutdownHook] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-3} closed
2025-06-15 10:22:30 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 58580 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 10:22:30 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 10:22:30 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 10:22:30 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-06-15 10:22:30 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-06-15 10:22:31 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 10:22:31 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 10:22:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 10:22:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 10:22:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 0 JDBC repository interfaces.
2025-06-15 10:22:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 10:22:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 10:22:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-06-15 10:22:31 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 10:22:31 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 10:22:31 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 10:22:31 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 10:22:31 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 10:22:31 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 10:22:31 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 10:22:31 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 10:22:31 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 10:22:31 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 10:22:31 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 10:22:31 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1023 ms
2025-06-15 10:22:31 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 10:22:31 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-06-15 10:22:32 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 10:22:32 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 10:22:32 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 10:22:32 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 10:22:32 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 10:22:32 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 10:22:32 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 10:22:33 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 10:22:33 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 10:22:33 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 10:22:33 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 2.865 seconds (process running for 3.603)
2025-06-15 10:22:55 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-15 10:22:55 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-15 10:22:55 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-06-15 10:22:55 [http-nio-8080-exec-7] DEBUG c.e.q.controller.UserController - 显示登录页面
2025-06-15 10:23:04 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:23:04 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30cb2b06] was not registered for synchronization because synchronization is not active
2025-06-15 10:23:04 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:22:31.977, closeCount=0, lastValidateTimeMillis=2025-06-15 10:22:31.977}] will not be managed by Spring
2025-06-15 10:23:04 [http-nio-8080-exec-6] DEBUG c.e.q.mapper.UserMapper.findByUser - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 10:23:05 [http-nio-8080-exec-6] DEBUG c.e.q.mapper.UserMapper.findByUser - ==> Parameters: ls1(String)
2025-06-15 10:23:05 [http-nio-8080-exec-6] DEBUG c.e.q.mapper.UserMapper.findByUser - <==      Total: 1
2025-06-15 10:23:05 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30cb2b06]
2025-06-15 10:23:05 [http-nio-8080-exec-3] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 10:23:05 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 10:23:05 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:23:05 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@158cd3d] was not registered for synchronization because synchronization is not active
2025-06-15 10:23:05 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:22:31.977, closeCount=0, lastValidateTimeMillis=2025-06-15 10:22:31.977}] will not be managed by Spring
2025-06-15 10:23:05 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 10:23:05 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 10:23:05 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 10:23:05 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@158cd3d]
2025-06-15 10:23:05 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 10:23:05 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 10:23:05 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:23:05 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66a205f3] was not registered for synchronization because synchronization is not active
2025-06-15 10:23:05 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:22:31.977, closeCount=0, lastValidateTimeMillis=2025-06-15 10:22:31.977}] will not be managed by Spring
2025-06-15 10:23:05 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 10:23:05 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 10:23:05 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 10:23:05 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66a205f3]
2025-06-15 10:23:08 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:23:08 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ecfb3b2] was not registered for synchronization because synchronization is not active
2025-06-15 10:23:08 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:22:31.977, closeCount=0, lastValidateTimeMillis=2025-06-15 10:22:31.977}] will not be managed by Spring
2025-06-15 10:23:08 [http-nio-8080-exec-7] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 10:23:08 [http-nio-8080-exec-7] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 16(Long)
2025-06-15 10:23:08 [http-nio-8080-exec-7] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 5
2025-06-15 10:23:08 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ecfb3b2]
2025-06-15 10:23:27 [http-nio-8080-exec-2] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 我想知道台风是怎么形成的
2025-06-15 10:23:27 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 10:23:27 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:23:27 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fc2d2bd] was not registered for synchronization because synchronization is not active
2025-06-15 10:23:27 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:22:31.977, closeCount=0, lastValidateTimeMillis=2025-06-15 10:22:31.977}] will not be managed by Spring
2025-06-15 10:23:27 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 10:23:27 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 10:23:27 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 10:23:27 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fc2d2bd]
2025-06-15 10:23:27 [http-nio-8080-exec-2] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 我想知道台风是怎么形成的
2025-06-15 10:23:27 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:23:27 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3621b94e]
2025-06-15 10:23:27 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:22:31.977, closeCount=0, lastValidateTimeMillis=2025-06-15 10:22:31.977}] will be managed by Spring
2025-06-15 10:23:27 [http-nio-8080-exec-2] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM chat_history WHERE user_id = ? ORDER BY created_at
2025-06-15 10:23:27 [http-nio-8080-exec-2] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 10:23:27 [http-nio-8080-exec-2] DEBUG c.e.q.m.C.findByUserId - <==      Total: 44
2025-06-15 10:23:27 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3621b94e]
2025-06-15 10:23:27 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3621b94e] from current transaction
2025-06-15 10:23:27 [http-nio-8080-exec-2] DEBUG c.e.q.m.C.insertChatHistory - ==>  Preparing: INSERT INTO chat_history (user_id, user_message, ai_response, version, created_at, conversation_id) VALUES (?, ?, ?,?, ?,?)
2025-06-15 10:23:27 [http-nio-8080-exec-2] DEBUG c.e.q.m.C.insertChatHistory - ==> Parameters: 6(Long), 我想知道台风是怎么形成的(String), null, 38(Long), 2025-06-15T10:23:27.163136500(LocalDateTime), 16(Long)
2025-06-15 10:23:27 [http-nio-8080-exec-2] DEBUG c.e.q.m.C.insertChatHistory - <==    Updates: 1
2025-06-15 10:23:27 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3621b94e]
2025-06-15 10:23:27 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.ChatService - 保存历史记录: 我想知道台风是怎么形成的
2025-06-15 10:23:27 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3621b94e]
2025-06-15 10:23:27 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3621b94e]
2025-06-15 10:23:27 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3621b94e]
2025-06-15 10:23:45 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 


2025-06-15 10:23:45 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 台风
2025-06-15 10:23:45 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 是一种
2025-06-15 10:23:45 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 热带
2025-06-15 10:23:45 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 气
2025-06-15 10:23:45 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 旋
2025-06-15 10:23:45 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ，
2025-06-15 10:23:45 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 通常
2025-06-15 10:23:45 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 形成
2025-06-15 10:23:45 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 于
2025-06-15 10:23:45 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 热带
2025-06-15 10:23:45 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 或
2025-06-15 10:23:45 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 副
2025-06-15 10:23:45 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 热带
2025-06-15 10:23:45 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 海域
2025-06-15 10:23:45 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 。
2025-06-15 10:23:45 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 它的
2025-06-15 10:23:45 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 形成
2025-06-15 10:23:45 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 需要
2025-06-15 10:23:45 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 特定
2025-06-15 10:23:45 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 的
2025-06-15 10:23:46 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 气象
2025-06-15 10:23:46 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 条件
2025-06-15 10:23:46 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 和
2025-06-15 10:23:46 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 环境
2025-06-15 10:23:46 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 。
2025-06-15 10:23:46 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 以下是
2025-06-15 10:23:46 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 台风
2025-06-15 10:23:46 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 形成
2025-06-15 10:23:46 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 的主要
2025-06-15 10:23:46 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 原因
2025-06-15 10:23:46 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 和
2025-06-15 10:23:46 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 过程
2025-06-15 10:23:46 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ：


2025-06-15 10:23:46 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 
2025-06-15 10:23:46 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  
2025-06-15 10:23:46 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 1
2025-06-15 10:23:46 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: .
2025-06-15 10:23:46 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  
2025-06-15 10:23:46 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 热带
2025-06-15 10:23:46 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 洋
2025-06-15 10:23:46 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 面
2025-06-15 10:23:46 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 

2025-06-15 10:23:46 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 台风
2025-06-15 10:23:46 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 通常
2025-06-15 10:23:46 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 形成
2025-06-15 10:23:46 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 于
2025-06-15 10:23:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 热带
2025-06-15 10:23:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 或
2025-06-15 10:23:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 副
2025-06-15 10:23:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 热带
2025-06-15 10:23:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 海域
2025-06-15 10:23:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ，
2025-06-15 10:23:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 这些
2025-06-15 10:23:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 地区的
2025-06-15 10:23:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 海水
2025-06-15 10:23:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 温度
2025-06-15 10:23:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 较高
2025-06-15 10:23:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ，
2025-06-15 10:23:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 通常
2025-06-15 10:23:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 在
2025-06-15 10:23:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  
2025-06-15 10:23:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 2
2025-06-15 10:23:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 6
2025-06-15 10:23:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: .
2025-06-15 10:23:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 5
2025-06-15 10:23:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: °C
2025-06-15 10:23:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 
2025-06-15 10:23:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  
2025-06-15 10:23:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 以上
2025-06-15 10:23:47 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ，
2025-06-15 10:23:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 且
2025-06-15 10:23:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 水
2025-06-15 10:23:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 深
2025-06-15 10:23:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 至少
2025-06-15 10:23:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 有
2025-06-15 10:23:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  
2025-06-15 10:23:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 5
2025-06-15 10:23:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 0
2025-06-15 10:23:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 米
2025-06-15 10:23:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 
2025-06-15 10:23:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 。
2025-06-15 10:23:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 温暖
2025-06-15 10:23:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 的
2025-06-15 10:23:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 海水
2025-06-15 10:23:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 为
2025-06-15 10:23:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 台风
2025-06-15 10:23:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 提供了
2025-06-15 10:23:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 巨大的
2025-06-15 10:23:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 能量
2025-06-15 10:23:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 来源
2025-06-15 10:23:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 。


2025-06-15 10:23:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 
2025-06-15 10:23:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  
2025-06-15 10:23:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 2
2025-06-15 10:23:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: .
2025-06-15 10:23:48 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  
2025-06-15 10:23:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 大气
2025-06-15 10:23:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 不稳定
2025-06-15 10:23:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 

2025-06-15 10:23:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 台风
2025-06-15 10:23:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 的
2025-06-15 10:23:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 形成
2025-06-15 10:23:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 需要
2025-06-15 10:23:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 一个
2025-06-15 10:23:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 不稳定
2025-06-15 10:23:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 的大
2025-06-15 10:23:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 气
2025-06-15 10:23:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 环境
2025-06-15 10:23:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ，
2025-06-15 10:23:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 使得
2025-06-15 10:23:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 空气
2025-06-15 10:23:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 能够
2025-06-15 10:23:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 上升
2025-06-15 10:23:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 并
2025-06-15 10:23:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 形成
2025-06-15 10:23:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 对
2025-06-15 10:23:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 流
2025-06-15 10:23:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 。
2025-06-15 10:23:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 这种
2025-06-15 10:23:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 对
2025-06-15 10:23:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 流
2025-06-15 10:23:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 通常
2025-06-15 10:23:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 由
2025-06-15 10:23:49 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 赤
2025-06-15 10:23:50 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 道
2025-06-15 10:23:50 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 附近的
2025-06-15 10:23:50 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 季
2025-06-15 10:23:50 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 风
2025-06-15 10:23:50 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 或
2025-06-15 10:23:50 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 热带
2025-06-15 10:23:50 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 辐
2025-06-15 10:23:50 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 合
2025-06-15 10:23:50 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 带
2025-06-15 10:23:50 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: （
2025-06-15 10:23:50 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: IT
2025-06-15 10:23:50 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: C
2025-06-15 10:23:50 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: Z
2025-06-15 10:23:50 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ）
2025-06-15 10:23:50 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 触发
2025-06-15 10:23:50 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 。


2025-06-15 10:23:50 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 
2025-06-15 10:23:50 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  
2025-06-15 10:23:50 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 3
2025-06-15 10:23:50 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: .
2025-06-15 10:23:50 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  
2025-06-15 10:23:50 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 向
2025-06-15 10:23:50 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 赤
2025-06-15 10:23:50 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 道
2025-06-15 10:23:50 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 的
2025-06-15 10:23:50 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 科
2025-06-15 10:23:50 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 里
2025-06-15 10:23:51 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 奥
2025-06-15 10:23:51 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 利
2025-06-15 10:23:51 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 力
2025-06-15 10:23:51 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 

2025-06-15 10:23:51 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 地球
2025-06-15 10:23:51 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 的
2025-06-15 10:23:51 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 自
2025-06-15 10:23:51 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 转
2025-06-15 10:23:51 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 会产生
2025-06-15 10:23:51 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 科
2025-06-15 10:23:51 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 里
2025-06-15 10:23:51 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 奥
2025-06-15 10:23:51 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 利
2025-06-15 10:23:51 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 力
2025-06-15 10:23:51 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ，
2025-06-15 10:23:51 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 这种
2025-06-15 10:23:51 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 力
2025-06-15 10:23:51 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 在
2025-06-15 10:23:51 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 赤
2025-06-15 10:23:51 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 道
2025-06-15 10:23:51 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 附近
2025-06-15 10:23:51 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 较
2025-06-15 10:23:51 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 弱
2025-06-15 10:23:51 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ，
2025-06-15 10:23:52 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 但
2025-06-15 10:23:52 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 随着
2025-06-15 10:23:52 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 纬
2025-06-15 10:23:52 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 度
2025-06-15 10:23:52 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 的
2025-06-15 10:23:52 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 增加
2025-06-15 10:23:52 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 而
2025-06-15 10:23:52 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 增强
2025-06-15 10:23:52 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 。
2025-06-15 10:23:52 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 台风
2025-06-15 10:23:52 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 通常
2025-06-15 10:23:52 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 在
2025-06-15 10:23:52 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 距离
2025-06-15 10:23:52 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 赤
2025-06-15 10:23:52 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 道
2025-06-15 10:23:52 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  
2025-06-15 10:23:52 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 5
2025-06-15 10:23:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: -
2025-06-15 10:23:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 2
2025-06-15 10:23:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 0
2025-06-15 10:23:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 度
2025-06-15 10:23:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 
2025-06-15 10:23:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  的
2025-06-15 10:23:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 区域
2025-06-15 10:23:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 形成
2025-06-15 10:23:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ，
2025-06-15 10:23:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 科
2025-06-15 10:23:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 里
2025-06-15 10:23:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 奥
2025-06-15 10:23:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 利
2025-06-15 10:23:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 力
2025-06-15 10:23:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 使
2025-06-15 10:23:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 空气
2025-06-15 10:23:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 旋转
2025-06-15 10:23:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ，
2025-06-15 10:23:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 从而
2025-06-15 10:23:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 形成
2025-06-15 10:23:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 台风
2025-06-15 10:23:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 的
2025-06-15 10:23:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 旋转
2025-06-15 10:23:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 结构
2025-06-15 10:23:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 。


2025-06-15 10:23:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 
2025-06-15 10:23:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  
2025-06-15 10:23:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 4
2025-06-15 10:23:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: .
2025-06-15 10:23:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  
2025-06-15 10:23:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 初始
2025-06-15 10:23:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 扰
2025-06-15 10:23:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 动
2025-06-15 10:23:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 

2025-06-15 10:23:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 台风
2025-06-15 10:23:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 的
2025-06-15 10:23:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 形成
2025-06-15 10:23:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 通常
2025-06-15 10:23:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 始于
2025-06-15 10:23:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 一个
2025-06-15 10:23:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 热带
2025-06-15 10:23:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 扰
2025-06-15 10:23:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 动
2025-06-15 10:23:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ，
2025-06-15 10:23:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 即
2025-06-15 10:23:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 一组
2025-06-15 10:23:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 随机
2025-06-15 10:23:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 的
2025-06-15 10:23:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 低
2025-06-15 10:23:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 气
2025-06-15 10:23:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 压
2025-06-15 10:23:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 系统
2025-06-15 10:23:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 或
2025-06-15 10:23:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 对
2025-06-15 10:23:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 流
2025-06-15 10:23:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 云
2025-06-15 10:23:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 团
2025-06-15 10:23:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 。
2025-06-15 10:23:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 这些
2025-06-15 10:23:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 扰
2025-06-15 10:23:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 动
2025-06-15 10:23:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 在
2025-06-15 10:23:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 合适的
2025-06-15 10:23:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 条件下
2025-06-15 10:23:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 逐渐
2025-06-15 10:23:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 增强
2025-06-15 10:23:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ，
2025-06-15 10:23:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 形成
2025-06-15 10:23:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 一个
2025-06-15 10:23:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 有
2025-06-15 10:23:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 组织
2025-06-15 10:23:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 的
2025-06-15 10:23:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 旋转
2025-06-15 10:23:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 系统
2025-06-15 10:23:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 。


2025-06-15 10:23:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 
2025-06-15 10:23:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  
2025-06-15 10:23:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 5
2025-06-15 10:23:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: .
2025-06-15 10:23:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  
2025-06-15 10:23:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 发展阶段
2025-06-15 10:23:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 

2025-06-15 10:23:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: -
2025-06-15 10:23:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  
2025-06-15 10:23:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 初始
2025-06-15 10:23:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 阶段
2025-06-15 10:23:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 
2025-06-15 10:23:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ：
2025-06-15 10:23:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 热带
2025-06-15 10:23:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 扰
2025-06-15 10:23:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 动
2025-06-15 10:23:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 逐渐
2025-06-15 10:23:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 增强
2025-06-15 10:23:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ，
2025-06-15 10:23:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 形成
2025-06-15 10:23:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 热带
2025-06-15 10:23:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 低压
2025-06-15 10:23:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: （
2025-06-15 10:23:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: T
2025-06-15 10:23:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ropical
2025-06-15 10:23:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  Depression
2025-06-15 10:23:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ），
2025-06-15 10:23:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 风
2025-06-15 10:23:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 速
2025-06-15 10:23:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 低于
2025-06-15 10:23:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  
2025-06-15 10:23:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 1
2025-06-15 10:23:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 7
2025-06-15 10:23:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 米
2025-06-15 10:23:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: /
2025-06-15 10:23:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 秒
2025-06-15 10:23:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 
2025-06-15 10:23:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 。

2025-06-15 10:23:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: -
2025-06-15 10:23:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  
2025-06-15 10:23:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 发展阶段
2025-06-15 10:23:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 
2025-06-15 10:23:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ：
2025-06-15 10:23:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 随着
2025-06-15 10:23:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 对
2025-06-15 10:23:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 流
2025-06-15 10:23:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 的
2025-06-15 10:23:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 增强
2025-06-15 10:23:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 和
2025-06-15 10:23:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 气
2025-06-15 10:23:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 压
2025-06-15 10:23:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 的
2025-06-15 10:23:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 降低
2025-06-15 10:23:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ，
2025-06-15 10:23:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 热带
2025-06-15 10:23:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 低压
2025-06-15 10:23:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 进一步
2025-06-15 10:23:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 发展
2025-06-15 10:23:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 为
2025-06-15 10:23:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 热带
2025-06-15 10:23:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 风暴
2025-06-15 10:23:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: （
2025-06-15 10:23:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: T
2025-06-15 10:23:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ropical
2025-06-15 10:23:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  Storm
2025-06-15 10:23:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ），
2025-06-15 10:23:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 风
2025-06-15 10:23:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 速
2025-06-15 10:23:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 达到
2025-06-15 10:23:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  
2025-06-15 10:23:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 1
2025-06-15 10:23:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 7
2025-06-15 10:23:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: -
2025-06-15 10:23:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 2
2025-06-15 10:23:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 4
2025-06-15 10:23:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 米
2025-06-15 10:23:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: /
2025-06-15 10:23:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 秒
2025-06-15 10:23:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 
2025-06-15 10:23:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 。

2025-06-15 10:23:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: -
2025-06-15 10:23:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  
2025-06-15 10:23:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 成熟
2025-06-15 10:23:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 阶段
2025-06-15 10:23:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 
2025-06-15 10:23:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ：
2025-06-15 10:23:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 当
2025-06-15 10:23:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 风
2025-06-15 10:23:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 速
2025-06-15 10:23:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 达到
2025-06-15 10:23:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  
2025-06-15 10:23:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 2
2025-06-15 10:23:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 4
2025-06-15 10:23:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 米
2025-06-15 10:23:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: /
2025-06-15 10:23:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 秒
2025-06-15 10:23:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 
2025-06-15 10:23:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  
2025-06-15 10:23:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 以上
2025-06-15 10:23:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 时
2025-06-15 10:23:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ，
2025-06-15 10:24:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 热带
2025-06-15 10:24:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 风暴
2025-06-15 10:24:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 升级
2025-06-15 10:24:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 为
2025-06-15 10:24:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 台风
2025-06-15 10:24:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: （
2025-06-15 10:24:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: Ty
2025-06-15 10:24:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: phoon
2025-06-15 10:24:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  或
2025-06-15 10:24:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  Hurricane
2025-06-15 10:24:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ，
2025-06-15 10:24:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 具体
2025-06-15 10:24:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 名称
2025-06-15 10:24:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 因
2025-06-15 10:24:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 地区
2025-06-15 10:24:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 而
2025-06-15 10:24:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 异
2025-06-15 10:24:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ）
2025-06-15 10:24:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 。


2025-06-15 10:24:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 
2025-06-15 10:24:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  
2025-06-15 10:24:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 6
2025-06-15 10:24:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: .
2025-06-15 10:24:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  
2025-06-15 10:24:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 台风
2025-06-15 10:24:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 的
2025-06-15 10:24:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 结构
2025-06-15 10:24:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 

2025-06-15 10:24:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 台风
2025-06-15 10:24:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 通常
2025-06-15 10:24:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 由
2025-06-15 10:24:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 以下几个
2025-06-15 10:24:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 部分
2025-06-15 10:24:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 组成
2025-06-15 10:24:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ：

2025-06-15 10:24:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: -
2025-06-15 10:24:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  
2025-06-15 10:24:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 风
2025-06-15 10:24:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 眼
2025-06-15 10:24:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 
2025-06-15 10:24:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ：
2025-06-15 10:24:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 台风
2025-06-15 10:24:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 中心
2025-06-15 10:24:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 的
2025-06-15 10:24:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 低
2025-06-15 10:24:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 气
2025-06-15 10:24:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 压
2025-06-15 10:24:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 区域
2025-06-15 10:24:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ，
2025-06-15 10:24:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 风
2025-06-15 10:24:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 速
2025-06-15 10:24:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 较小
2025-06-15 10:24:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ，
2025-06-15 10:24:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 天气
2025-06-15 10:24:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 相对
2025-06-15 10:24:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 平静
2025-06-15 10:24:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 。

2025-06-15 10:24:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: -
2025-06-15 10:24:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  
2025-06-15 10:24:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 眼
2025-06-15 10:24:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 墙
2025-06-15 10:24:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 
2025-06-15 10:24:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ：
2025-06-15 10:24:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 围绕
2025-06-15 10:24:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 风
2025-06-15 10:24:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 眼
2025-06-15 10:24:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 的
2025-06-15 10:24:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 高
2025-06-15 10:24:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 风
2025-06-15 10:24:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 速
2025-06-15 10:24:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 区域
2025-06-15 10:24:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ，
2025-06-15 10:24:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 是
2025-06-15 10:24:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 台风
2025-06-15 10:24:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 最强
2025-06-15 10:24:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 风
2025-06-15 10:24:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 力
2025-06-15 10:24:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 所在
2025-06-15 10:24:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 。

2025-06-15 10:24:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: -
2025-06-15 10:24:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  
2025-06-15 10:24:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 螺旋
2025-06-15 10:24:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 雨
2025-06-15 10:24:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 带
2025-06-15 10:24:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 
2025-06-15 10:24:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ：
2025-06-15 10:24:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 从
2025-06-15 10:24:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 眼
2025-06-15 10:24:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 墙
2025-06-15 10:24:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 向外
2025-06-15 10:24:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 延伸
2025-06-15 10:24:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 的
2025-06-15 10:24:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 对
2025-06-15 10:24:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 流
2025-06-15 10:24:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 云
2025-06-15 10:24:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 带
2025-06-15 10:24:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ，
2025-06-15 10:24:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 带来
2025-06-15 10:24:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 强
2025-06-15 10:24:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 风
2025-06-15 10:24:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 和
2025-06-15 10:24:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 暴雨
2025-06-15 10:24:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 。


2025-06-15 10:24:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 
2025-06-15 10:24:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  
2025-06-15 10:24:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 7
2025-06-15 10:24:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: .
2025-06-15 10:24:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk:  
2025-06-15 10:24:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 维持
2025-06-15 10:24:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 和
2025-06-15 10:24:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 消
2025-06-15 10:24:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 散
2025-06-15 10:24:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 

2025-06-15 10:24:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 台风
2025-06-15 10:24:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 的
2025-06-15 10:24:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 维持
2025-06-15 10:24:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 需要
2025-06-15 10:24:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 持续
2025-06-15 10:24:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 的
2025-06-15 10:24:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 温暖
2025-06-15 10:24:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 海水
2025-06-15 10:24:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 和
2025-06-15 10:24:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 适宜
2025-06-15 10:24:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 的大
2025-06-15 10:24:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 气
2025-06-15 10:24:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 条件
2025-06-15 10:24:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 。
2025-06-15 10:24:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 当
2025-06-15 10:24:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 台风
2025-06-15 10:24:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 移动
2025-06-15 10:24:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 到
2025-06-15 10:24:05 [boundedElastic-2] INFO  c.e.qasystem.service.ChatService - Streaming response completed for userId: 6, response: 

台风是一种热带气旋，通常形成于热带或副热带海域。它的形成需要特定的气象条件和环境。以下是台风形成的主要原因和过程：

 1. 热带洋面
台风通常形成于热带或副热带海域，这些地区的海水温度较高，通常在 26.5°C 以上，且水深至少有 50米。温暖的海水为台风提供了巨大的能量来源。

 2. 大气不稳定
台风的形成需要一个不稳定的大气环境，使得空气能够上升并形成对流。这种对流通常由赤道附近的季风或热带辐合带（ITCZ）触发。

 3. 向赤道的科里奥利力
地球的自转会产生科里奥利力，这种力在赤道附近较弱，但随着纬度的增加而增强。台风通常在距离赤道 5-20度 的区域形成，科里奥利力使空气旋转，从而形成台风的旋转结构。

 4. 初始扰动
台风的形成通常始于一个热带扰动，即一组随机的低气压系统或对流云团。这些扰动在合适的条件下逐渐增强，形成一个有组织的旋转系统。

 5. 发展阶段
- 初始阶段：热带扰动逐渐增强，形成热带低压（Tropical Depression），风速低于 17米/秒。
- 发展阶段：随着对流的增强和气压的降低，热带低压进一步发展为热带风暴（Tropical Storm），风速达到 17-24米/秒。
- 成熟阶段：当风速达到 24米/秒 以上时，热带风暴升级为台风（Typhoon 或 Hurricane，具体名称因地区而异）。

 6. 台风的结构
台风通常由以下几个部分组成：
- 风眼：台风中心的低气压区域，风速较小，天气相对平静。
- 眼墙：围绕风眼的高风速区域，是台风最强风力所在。
- 螺旋雨带：从眼墙向外延伸的对流云带，带来强风和暴雨。

 7. 维持和消散
台风的维持需要持续的温暖海水和适宜的大气条件。当台风移动到
2025-06-15 10:24:05 [boundedElastic-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:24:05 [boundedElastic-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c7171c] was not registered for synchronization because synchronization is not active
2025-06-15 10:24:05 [boundedElastic-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:22:31.977, closeCount=0, lastValidateTimeMillis=2025-06-15 10:22:31.977}] will not be managed by Spring
2025-06-15 10:24:05 [boundedElastic-2] DEBUG c.e.q.m.C.updateChatHistory - ==>  Preparing: Update chat_history SET ai_response = ? where version = ?
2025-06-15 10:24:05 [boundedElastic-2] DEBUG c.e.q.m.C.updateChatHistory - ==> Parameters: 

台风是一种热带气旋，通常形成于热带或副热带海域。它的形成需要特定的气象条件和环境。以下是台风形成的主要原因和过程：

 1. 热带洋面
台风通常形成于热带或副热带海域，这些地区的海水温度较高，通常在 26.5°C 以上，且水深至少有 50米。温暖的海水为台风提供了巨大的能量来源。

 2. 大气不稳定
台风的形成需要一个不稳定的大气环境，使得空气能够上升并形成对流。这种对流通常由赤道附近的季风或热带辐合带（ITCZ）触发。

 3. 向赤道的科里奥利力
地球的自转会产生科里奥利力，这种力在赤道附近较弱，但随着纬度的增加而增强。台风通常在距离赤道 5-20度 的区域形成，科里奥利力使空气旋转，从而形成台风的旋转结构。

 4. 初始扰动
台风的形成通常始于一个热带扰动，即一组随机的低气压系统或对流云团。这些扰动在合适的条件下逐渐增强，形成一个有组织的旋转系统。

 5. 发展阶段
- 初始阶段：热带扰动逐渐增强，形成热带低压（Tropical Depression），风速低于 17米/秒。
- 发展阶段：随着对流的增强和气压的降低，热带低压进一步发展为热带风暴（Tropical Storm），风速达到 17-24米/秒。
- 成熟阶段：当风速达到 24米/秒 以上时，热带风暴升级为台风（Typhoon 或 Hurricane，具体名称因地区而异）。

 6. 台风的结构
台风通常由以下几个部分组成：
- 风眼：台风中心的低气压区域，风速较小，天气相对平静。
- 眼墙：围绕风眼的高风速区域，是台风最强风力所在。
- 螺旋雨带：从眼墙向外延伸的对流云带，带来强风和暴雨。

 7. 维持和消散
台风的维持需要持续的温暖海水和适宜的大气条件。当台风移动到(String), 38(Long)
2025-06-15 10:24:05 [boundedElastic-2] DEBUG c.e.q.m.C.updateChatHistory - <==    Updates: 1
2025-06-15 10:24:05 [boundedElastic-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c7171c]
2025-06-15 10:24:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Updated AI response to chat history
2025-06-15 10:31:55 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 10:31:55 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 10:31:55 [SpringApplicationShutdownHook] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-06-15 10:31:55 [SpringApplicationShutdownHook] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-06-15 10:31:59 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 57428 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 10:31:59 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 10:31:59 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 10:31:59 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-06-15 10:31:59 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-06-15 10:31:59 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 10:31:59 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 10:31:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 10:31:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 10:32:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 0 JDBC repository interfaces.
2025-06-15 10:32:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 10:32:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 10:32:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-06-15 10:32:00 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 10:32:00 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 10:32:00 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 10:32:00 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 10:32:00 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 10:32:00 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 10:32:00 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 10:32:00 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 10:32:00 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 10:32:00 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 10:32:00 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 10:32:00 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1158 ms
2025-06-15 10:32:00 [restartedMain] WARN  o.a.c.c.C.[Tomcat].[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [5FCC36CF208066A5E0B84BFF0BE5D0F7]
2025-06-15 10:32:00 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 10:32:00 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-06-15 10:32:00 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 10:32:00 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 10:32:00 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 10:32:01 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 10:32:01 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 10:32:01 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 10:32:01 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 10:32:01 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 10:32:01 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 10:32:02 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 10:32:02 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 3.16 seconds (process running for 3.553)
2025-06-15 10:32:08 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-15 10:32:08 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-15 10:32:08 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-15 10:32:08 [http-nio-8080-exec-3] DEBUG c.e.q.controller.UserController - 显示登录页面
2025-06-15 10:32:17 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:32:17 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d2a041d] was not registered for synchronization because synchronization is not active
2025-06-15 10:32:17 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:32:00.829, closeCount=0, lastValidateTimeMillis=2025-06-15 10:32:00.83}] will not be managed by Spring
2025-06-15 10:32:17 [http-nio-8080-exec-2] DEBUG c.e.q.mapper.UserMapper.findByUser - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 10:32:17 [http-nio-8080-exec-2] DEBUG c.e.q.mapper.UserMapper.findByUser - ==> Parameters: ls1(String)
2025-06-15 10:32:17 [http-nio-8080-exec-2] DEBUG c.e.q.mapper.UserMapper.findByUser - <==      Total: 1
2025-06-15 10:32:17 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d2a041d]
2025-06-15 10:32:17 [http-nio-8080-exec-4] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 10:32:17 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 10:32:17 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:32:17 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2166f12d] was not registered for synchronization because synchronization is not active
2025-06-15 10:32:17 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:32:00.829, closeCount=0, lastValidateTimeMillis=2025-06-15 10:32:00.83}] will not be managed by Spring
2025-06-15 10:32:17 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 10:32:17 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 10:32:17 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 10:32:17 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2166f12d]
2025-06-15 10:32:17 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 10:32:18 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 10:32:18 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:32:18 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cb12850] was not registered for synchronization because synchronization is not active
2025-06-15 10:32:18 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:32:00.829, closeCount=0, lastValidateTimeMillis=2025-06-15 10:32:00.83}] will not be managed by Spring
2025-06-15 10:32:18 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 10:32:18 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 10:32:18 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 10:32:18 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cb12850]
2025-06-15 10:32:20 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:32:20 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41b2702d] was not registered for synchronization because synchronization is not active
2025-06-15 10:32:20 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:32:00.829, closeCount=0, lastValidateTimeMillis=2025-06-15 10:32:00.83}] will not be managed by Spring
2025-06-15 10:32:20 [http-nio-8080-exec-7] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 10:32:20 [http-nio-8080-exec-7] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 15(Long)
2025-06-15 10:32:20 [http-nio-8080-exec-7] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 4
2025-06-15 10:32:20 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41b2702d]
2025-06-15 10:32:22 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:32:22 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b27e9f6] was not registered for synchronization because synchronization is not active
2025-06-15 10:32:22 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:32:00.829, closeCount=0, lastValidateTimeMillis=2025-06-15 10:32:00.83}] will not be managed by Spring
2025-06-15 10:32:22 [http-nio-8080-exec-9] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 10:32:22 [http-nio-8080-exec-9] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 16(Long)
2025-06-15 10:32:22 [http-nio-8080-exec-9] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 6
2025-06-15 10:32:22 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b27e9f6]
2025-06-15 10:32:40 [http-nio-8080-exec-10] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 继续上一次的话题
2025-06-15 10:32:40 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 10:32:40 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:32:40 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@708080e4] was not registered for synchronization because synchronization is not active
2025-06-15 10:32:40 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:32:00.829, closeCount=0, lastValidateTimeMillis=2025-06-15 10:32:00.83}] will not be managed by Spring
2025-06-15 10:32:40 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 10:32:40 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 10:32:40 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 10:32:40 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@708080e4]
2025-06-15 10:32:40 [http-nio-8080-exec-10] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 继续上一次的话题
2025-06-15 10:32:40 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:32:40 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12df18e5]
2025-06-15 10:32:40 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:32:00.829, closeCount=0, lastValidateTimeMillis=2025-06-15 10:32:00.83}] will be managed by Spring
2025-06-15 10:32:40 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM chat_history WHERE user_id = ? ORDER BY created_at
2025-06-15 10:32:40 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 10:32:40 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.findByUserId - <==      Total: 45
2025-06-15 10:32:40 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12df18e5]
2025-06-15 10:32:40 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12df18e5] from current transaction
2025-06-15 10:32:40 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.insertChatHistory - ==>  Preparing: INSERT INTO chat_history (user_id, user_message, ai_response, version, created_at, conversation_id) VALUES (?, ?, ?,?, ?,?)
2025-06-15 10:32:41 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.insertChatHistory - ==> Parameters: 6(Long), 继续上一次的话题(String), null, 39(Long), 2025-06-15T10:32:40.921725100(LocalDateTime), 16(Long)
2025-06-15 10:32:41 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.insertChatHistory - <==    Updates: 1
2025-06-15 10:32:41 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12df18e5]
2025-06-15 10:32:41 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.ChatService - 保存历史记录: 继续上一次的话题
2025-06-15 10:32:41 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12df18e5]
2025-06-15 10:32:41 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12df18e5]
2025-06-15 10:32:41 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12df18e5]
2025-06-15 10:32:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 




2025-06-15 10:32:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 当然


2025-06-15 10:32:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 可以


2025-06-15 10:32:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ！


2025-06-15 10:32:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 以下


2025-06-15 10:32:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 是一


2025-06-15 10:32:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 些


2025-06-15 10:32:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 适合


2025-06-15 10:32:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 在


2025-06-15 10:32:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 雨


2025-06-15 10:32:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 天


2025-06-15 10:32:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 阅读


2025-06-15 10:32:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 10:32:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 书籍


2025-06-15 10:32:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 推荐


2025-06-15 10:32:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:32:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 希望能


2025-06-15 10:32:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 让你


2025-06-15 10:32:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 在


2025-06-15 10:32:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 雨


2025-06-15 10:32:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 声


2025-06-15 10:32:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 中


2025-06-15 10:32:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 找到


2025-06-15 10:32:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 一份


2025-06-15 10:32:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 宁静


2025-06-15 10:32:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 与


2025-06-15 10:32:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 享受


2025-06-15 10:32:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ：




2025-06-15 10:32:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 1


2025-06-15 10:32:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: .


2025-06-15 10:32:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 10:32:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 《


2025-06-15 10:32:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 挪威


2025-06-15 10:32:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 10:32:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 森林


2025-06-15 10:32:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 》


2025-06-15 10:32:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 


2025-06-15 10:32:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  -


2025-06-15 10:32:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  村


2025-06-15 10:32:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 上


2025-06-15 10:32:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 春


2025-06-15 10:32:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 树


2025-06-15 10:32:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:   



2025-06-15 10:32:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:   


2025-06-15 10:32:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  这


2025-06-15 10:32:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 是一部


2025-06-15 10:32:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 充满


2025-06-15 10:32:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 青春


2025-06-15 10:32:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 、


2025-06-15 10:32:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 孤独


2025-06-15 10:32:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 与


2025-06-15 10:32:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 成长


2025-06-15 10:32:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的经典


2025-06-15 10:32:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 小说


2025-06-15 10:32:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:32:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 适合


2025-06-15 10:32:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 在


2025-06-15 10:32:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 雨


2025-06-15 10:32:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 天


2025-06-15 10:32:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 细细


2025-06-15 10:32:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 品味


2025-06-15 10:32:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。




2025-06-15 10:32:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 2


2025-06-15 10:32:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: .


2025-06-15 10:32:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 10:32:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 《


2025-06-15 10:32:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 百年


2025-06-15 10:32:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 孤独


2025-06-15 10:32:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 》


2025-06-15 10:32:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 


2025-06-15 10:32:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  -


2025-06-15 10:32:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  加


2025-06-15 10:32:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 西亚


2025-06-15 10:32:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ·


2025-06-15 10:32:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 马


2025-06-15 10:32:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 尔


2025-06-15 10:32:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 克斯


2025-06-15 10:32:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:   



2025-06-15 10:32:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:   


2025-06-15 10:32:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  这


2025-06-15 10:32:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 部


2025-06-15 10:32:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 魔


2025-06-15 10:32:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 幻


2025-06-15 10:32:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 现实


2025-06-15 10:32:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 主义


2025-06-15 10:32:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 10:32:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 杰


2025-06-15 10:32:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 作


2025-06-15 10:32:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:32:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 带你


2025-06-15 10:32:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 进入


2025-06-15 10:32:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 一个


2025-06-15 10:32:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 充满


2025-06-15 10:32:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 奇幻


2025-06-15 10:32:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 与


2025-06-15 10:32:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 现实


2025-06-15 10:32:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 交织


2025-06-15 10:32:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的世界


2025-06-15 10:32:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。




2025-06-15 10:32:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 3


2025-06-15 10:32:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: .


2025-06-15 10:32:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 10:32:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 《


2025-06-15 10:32:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 雨


2025-06-15 10:32:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 季


2025-06-15 10:32:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 不再


2025-06-15 10:32:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 来


2025-06-15 10:32:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 》


2025-06-15 10:32:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 


2025-06-15 10:32:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  -


2025-06-15 10:32:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  张


2025-06-15 10:32:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 晓


2025-06-15 10:32:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 风


2025-06-15 10:32:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:   



2025-06-15 10:32:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:   


2025-06-15 10:32:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  这


2025-06-15 10:32:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 是一


2025-06-15 10:32:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 本


2025-06-15 10:32:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 散文


2025-06-15 10:32:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 集


2025-06-15 10:32:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:32:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 充满了


2025-06-15 10:32:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 对


2025-06-15 10:32:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 自然


2025-06-15 10:32:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 、


2025-06-15 10:32:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 生活


2025-06-15 10:32:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 和


2025-06-15 10:32:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 情感


2025-06-15 10:32:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 10:32:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 细腻


2025-06-15 10:32:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 描写


2025-06-15 10:32:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:32:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 非常适合


2025-06-15 10:32:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 雨


2025-06-15 10:32:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 天


2025-06-15 10:32:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 阅读


2025-06-15 10:32:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。




2025-06-15 10:32:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 4


2025-06-15 10:32:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: .


2025-06-15 10:32:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 10:32:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 《


2025-06-15 10:32:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 小


2025-06-15 10:32:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 王子


2025-06-15 10:32:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 》


2025-06-15 10:32:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 


2025-06-15 10:32:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  -


2025-06-15 10:32:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  圣


2025-06-15 10:32:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 埃


2025-06-15 10:32:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 克


2025-06-15 10:32:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 苏


2025-06-15 10:32:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 佩


2025-06-15 10:32:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 里


2025-06-15 10:32:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:   



2025-06-15 10:32:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:   


2025-06-15 10:32:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  这


2025-06-15 10:32:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 部


2025-06-15 10:32:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 经典


2025-06-15 10:32:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 童话


2025-06-15 10:32:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 不仅


2025-06-15 10:32:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 适合


2025-06-15 10:32:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 孩子


2025-06-15 10:32:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:32:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 也


2025-06-15 10:32:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 适合


2025-06-15 10:32:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 成年人


2025-06-15 10:32:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 在


2025-06-15 10:32:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 雨


2025-06-15 10:32:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 天


2025-06-15 10:32:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 思考


2025-06-15 10:32:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 生活的


2025-06-15 10:32:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 意义


2025-06-15 10:32:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。




2025-06-15 10:32:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 5


2025-06-15 10:32:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: .


2025-06-15 10:32:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 10:32:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 《


2025-06-15 10:32:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 追


2025-06-15 10:32:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 风筝


2025-06-15 10:32:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的人


2025-06-15 10:33:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 》


2025-06-15 10:33:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 


2025-06-15 10:33:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  -


2025-06-15 10:33:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  卡


2025-06-15 10:33:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 勒


2025-06-15 10:33:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 德


2025-06-15 10:33:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ·


2025-06-15 10:33:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 胡


2025-06-15 10:33:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 赛


2025-06-15 10:33:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 尼


2025-06-15 10:33:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:   



2025-06-15 10:33:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:   


2025-06-15 10:33:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  这


2025-06-15 10:33:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 是一部


2025-06-15 10:33:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 关于


2025-06-15 10:33:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 友情


2025-06-15 10:33:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 、


2025-06-15 10:33:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 背叛


2025-06-15 10:33:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 与


2025-06-15 10:33:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 救


2025-06-15 10:33:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 赎


2025-06-15 10:33:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的小


2025-06-15 10:33:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 说


2025-06-15 10:33:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:33:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 情感


2025-06-15 10:33:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 真


2025-06-15 10:33:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 挚


2025-06-15 10:33:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:33:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 适合


2025-06-15 10:33:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 在


2025-06-15 10:33:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 雨


2025-06-15 10:33:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 天


2025-06-15 10:33:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 慢慢


2025-06-15 10:33:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 阅读


2025-06-15 10:33:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。




2025-06-15 10:33:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 6


2025-06-15 10:33:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: .


2025-06-15 10:33:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 10:33:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 《


2025-06-15 10:33:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 人间


2025-06-15 10:33:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 失


2025-06-15 10:33:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 格


2025-06-15 10:33:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 》


2025-06-15 10:33:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 


2025-06-15 10:33:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  -


2025-06-15 10:33:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  太


2025-06-15 10:33:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 宰


2025-06-15 10:33:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 治


2025-06-15 10:33:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:   



2025-06-15 10:33:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:   


2025-06-15 10:33:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  这


2025-06-15 10:33:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 部


2025-06-15 10:33:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 小说


2025-06-15 10:33:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 充满了


2025-06-15 10:33:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 对


2025-06-15 10:33:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 人性


2025-06-15 10:33:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 10:33:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 深刻


2025-06-15 10:33:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 思考


2025-06-15 10:33:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:33:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 适合


2025-06-15 10:33:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 在


2025-06-15 10:33:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 雨


2025-06-15 10:33:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 天


2025-06-15 10:33:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 感受


2025-06-15 10:33:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 内心的


2025-06-15 10:33:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 波动


2025-06-15 10:33:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。




2025-06-15 10:33:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 7


2025-06-15 10:33:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: .


2025-06-15 10:33:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 10:33:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 《


2025-06-15 10:33:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 雾


2025-06-15 10:33:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 都


2025-06-15 10:33:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 孤儿


2025-06-15 10:33:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 》


2025-06-15 10:33:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 


2025-06-15 10:33:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  -


2025-06-15 10:33:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  查


2025-06-15 10:33:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 尔斯


2025-06-15 10:33:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ·


2025-06-15 10:33:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 狄


2025-06-15 10:33:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 更


2025-06-15 10:33:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 斯


2025-06-15 10:33:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:   



2025-06-15 10:33:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:   


2025-06-15 10:33:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  这


2025-06-15 10:33:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 部


2025-06-15 10:33:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 经典


2025-06-15 10:33:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 小说


2025-06-15 10:33:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 描绘


2025-06-15 10:33:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 了


2025-06-15 10:33:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 伦敦


2025-06-15 10:33:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 10:33:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 阴


2025-06-15 10:33:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 郁


2025-06-15 10:33:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 氛围


2025-06-15 10:33:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:33:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 非常适合


2025-06-15 10:33:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 在


2025-06-15 10:33:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 雨


2025-06-15 10:33:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 天


2025-06-15 10:33:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 感受


2025-06-15 10:33:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 其中


2025-06-15 10:33:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 10:33:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 悲


2025-06-15 10:33:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 悯


2025-06-15 10:33:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 与


2025-06-15 10:33:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 希望


2025-06-15 10:33:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。




2025-06-15 10:33:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 8


2025-06-15 10:33:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: .


2025-06-15 10:33:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 10:33:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 《


2025-06-15 10:33:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 瓦


2025-06-15 10:33:03 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 尔


2025-06-15 10:33:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 登


2025-06-15 10:33:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 湖


2025-06-15 10:33:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 》


2025-06-15 10:33:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 


2025-06-15 10:33:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  -


2025-06-15 10:33:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  �梭


2025-06-15 10:33:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 罗


2025-06-15 10:33:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:   



2025-06-15 10:33:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:   


2025-06-15 10:33:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  这


2025-06-15 10:33:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 是一


2025-06-15 10:33:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 本


2025-06-15 10:33:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 关于


2025-06-15 10:33:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 自然


2025-06-15 10:33:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 与


2025-06-15 10:33:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 生活的


2025-06-15 10:33:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 哲学


2025-06-15 10:33:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 散文


2025-06-15 10:33:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:33:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 适合


2025-06-15 10:33:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 在


2025-06-15 10:33:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 雨


2025-06-15 10:33:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 天


2025-06-15 10:33:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 思考


2025-06-15 10:33:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 生命


2025-06-15 10:33:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的意义


2025-06-15 10:33:04 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。




2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 希望


2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 这些


2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 推荐


2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 能


2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 让你


2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 在


2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 雨


2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 天


2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 找到


2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 一本


2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 心仪的


2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 书


2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 享受


2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 阅读


2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的乐趣


2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ！


2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 如果你


2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 有


2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 特定


2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 类型


2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 偏好


2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 也可以


2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 告诉我


2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 我会


2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 为你


2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 进一步


2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 推荐


2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ！


2025-06-15 10:33:05 [boundedElastic-2] INFO  c.e.qasystem.service.ChatService - Streaming response completed for userId: 6, response: data: 



data: 当然

data: 可以

data: ！

data: 以下

data: 是一

data: 些

data: 适合

data: 在

data: 雨

data: 天

data: 阅读

data: 的

data: 书籍

data: 推荐

data: ，

data: 希望能

data: 让你

data: 在

data: 雨

data: 声

data: 中

data: 找到

data: 一份

data: 宁静

data: 与

data: 享受

data: ：



data: 1

data: .

data:  

data: 《

data: 挪威

data: 的

data: 森林

data: 》

data: 

data:  -

data:  村

data: 上

data: 春

data: 树

data:   


data:   

data:  这

data: 是一部

data: 充满

data: 青春

data: 、

data: 孤独

data: 与

data: 成长

data: 的经典

data: 小说

data: ，

data: 适合

data: 在

data: 雨

data: 天

data: 细细

data: 品味

data: 。



data: 2

data: .

data:  

data: 《

data: 百年

data: 孤独

data: 》

data: 

data:  -

data:  加

data: 西亚

data: ·

data: 马

data: 尔

data: 克斯

data:   


data:   

data:  这

data: 部

data: 魔

data: 幻

data: 现实

data: 主义

data: 的

data: 杰

data: 作

data: ，

data: 带你

data: 进入

data: 一个

data: 充满

data: 奇幻

data: 与

data: 现实

data: 交织

data: 的世界

data: 。



data: 3

data: .

data:  

data: 《

data: 雨

data: 季

data: 不再

data: 来

data: 》

data: 

data:  -

data:  张

data: 晓

data: 风

data:   


data:   

data:  这

data: 是一

data: 本

data: 散文

data: 集

data: ，

data: 充满了

data: 对

data: 自然

data: 、

data: 生活

data: 和

data: 情感

data: 的

data: 细腻

data: 描写

data: ，

data: 非常适合

data: 雨

data: 天

data: 阅读

data: 。



data: 4

data: .

data:  

data: 《

data: 小

data: 王子

data: 》

data: 

data:  -

data:  圣

data: 埃

data: 克

data: 苏

data: 佩

data: 里

data:   


data:   

data:  这

data: 部

data: 经典

data: 童话

data: 不仅

data: 适合

data: 孩子

data: ，

data: 也

data: 适合

data: 成年人

data: 在

data: 雨

data: 天

data: 思考

data: 生活的

data: 意义

data: 。



data: 5

data: .

data:  

data: 《

data: 追

data: 风筝

data: 的人

data: 》

data: 

data:  -

data:  卡

data: 勒

data: 德

data: ·

data: 胡

data: 赛

data: 尼

data:   


data:   

data:  这

data: 是一部

data: 关于

data: 友情

data: 、

data: 背叛

data: 与

data: 救

data: 赎

data: 的小

data: 说

data: ，

data: 情感

data: 真

data: 挚

data: ，

data: 适合

data: 在

data: 雨

data: 天

data: 慢慢

data: 阅读

data: 。



data: 6

data: .

data:  

data: 《

data: 人间

data: 失

data: 格

data: 》

data: 

data:  -

data:  太

data: 宰

data: 治

data:   


data:   

data:  这

data: 部

data: 小说

data: 充满了

data: 对

data: 人性

data: 的

data: 深刻

data: 思考

data: ，

data: 适合

data: 在

data: 雨

data: 天

data: 感受

data: 内心的

data: 波动

data: 。



data: 7

data: .

data:  

data: 《

data: 雾

data: 都

data: 孤儿

data: 》

data: 

data:  -

data:  查

data: 尔斯

data: ·

data: 狄

data: 更

data: 斯

data:   


data:   

data:  这

data: 部

data: 经典

data: 小说

data: 描绘

data: 了

data: 伦敦

data: 的

data: 阴

data: 郁

data: 氛围

data: ，

data: 非常适合

data: 在

data: 雨

data: 天

data: 感受

data: 其中

data: 的

data: 悲

data: 悯

data: 与

data: 希望

data: 。



data: 8

data: .

data:  

data: 《

data: 瓦

data: 尔

data: 登

data: 湖

data: 》

data: 

data:  -

data:  �梭

data: 罗

data:   


data:   

data:  这

data: 是一

data: 本

data: 关于

data: 自然

data: 与

data: 生活的

data: 哲学

data: 散文

data: ，

data: 适合

data: 在

data: 雨

data: 天

data: 思考

data: 生命

data: 的意义

data: 。



data: 希望

data: 这些

data: 推荐

data: 能

data: 让你

data: 在

data: 雨

data: 天

data: 找到

data: 一本

data: 心仪的

data: 书

data: ，

data: 享受

data: 阅读

data: 的乐趣

data: ！

data: 如果你

data: 有

data: 特定

data: 的

data: 类型

data: 偏好

data: ，

data: 也可以

data: 告诉我

data: ，

data: 我会

data: 为你

data: 进一步

data: 推荐

data: ！


2025-06-15 10:33:05 [boundedElastic-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:33:05 [boundedElastic-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73e72479] was not registered for synchronization because synchronization is not active
2025-06-15 10:33:05 [boundedElastic-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:32:00.829, closeCount=0, lastValidateTimeMillis=2025-06-15 10:32:00.83}] will not be managed by Spring
2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.q.m.C.updateChatHistory - ==>  Preparing: Update chat_history SET ai_response = ? where version = ?
2025-06-15 10:33:05 [boundedElastic-2] DEBUG c.e.q.m.C.updateChatHistory - ==> Parameters: data: 



data: 当然

data: 可以

data: ！

data: 以下

data: 是一

data: 些

data: 适合

data: 在

data: 雨

data: 天

data: 阅读

data: 的

data: 书籍

data: 推荐

data: ，

data: 希望能

data: 让你

data: 在

data: 雨

data: 声

data: 中

data: 找到

data: 一份

data: 宁静

data: 与

data: 享受

data: ：



data: 1

data: .

data:  

data: 《

data: 挪威

data: 的

data: 森林

data: 》

data: 

data:  -

data:  村

data: 上

data: 春

data: 树

data:   


data:   

data:  这

data: 是一部

data: 充满

data: 青春

data: 、

data: 孤独

data: 与

data: 成长

data: 的经典

data: 小说

data: ，

data: 适合

data: 在

data: 雨

data: 天

data: 细细

data: 品味

data: 。



data: 2

data: .

data:  

data: 《

data: 百年

data: 孤独

data: 》

data: 

data:  -

data:  加

data: 西亚

data: ·

data: 马

data: 尔

data: 克斯

data:   


data:   

data:  这

data: 部

data: 魔

data: 幻

data: 现实

data: 主义

data: 的

data: 杰

data: 作

data: ，

data: 带你

data: 进入

data: 一个

data: 充满

data: 奇幻

data: 与

data: 现实

data: 交织

data: 的世界

data: 。



data: 3

data: .

data:  

data: 《

data: 雨

data: 季

data: 不再

data: 来

data: 》

data: 

data:  -

data:  张

data: 晓

data: 风

data:   


data:   

data:  这

data: 是一

data: 本

data: 散文

data: 集

data: ，

data: 充满了

data: 对

data: 自然

data: 、

data: 生活

data: 和

data: 情感

data: 的

data: 细腻

data: 描写

data: ，

data: 非常适合

data: 雨

data: 天

data: 阅读

data: 。



data: 4

data: .

data:  

data: 《

data: 小

data: 王子

data: 》

data: 

data:  -

data:  圣

data: 埃

data: 克

data: 苏

data: 佩

data: 里

data:   


data:   

data:  这

data: 部

data: 经典

data: 童话

data: 不仅

data: 适合

data: 孩子

data: ，

data: 也

data: 适合

data: 成年人

data: 在

data: 雨

data: 天

data: 思考

data: 生活的

data: 意义

data: 。



data: 5

data: .

data:  

data: 《

data: 追

data: 风筝

data: 的人

data: 》

data: 

data:  -

data:  卡

data: 勒

data: 德

data: ·

data: 胡

data: 赛

data: 尼

data:   


data:   

data:  这

data: 是一部

data: 关于

data: 友情

data: 、

data: 背叛

data: 与

data: 救

data: 赎

data: 的小

data: 说

data: ，

data: 情感

data: 真

data: 挚

data: ，

data: 适合

data: 在

data: 雨

data: 天

data: 慢慢

data: 阅读

data: 。



data: 6

data: .

data:  

data: 《

data: 人间

data: 失

data: 格

data: 》

data: 

data:  -

data:  太

data: 宰

data: 治

data:   


data:   

data:  这

data: 部

data: 小说

data: 充满了

data: 对

data: 人性

data: 的

data: 深刻

data: 思考

data: ，

data: 适合

data: 在

data: 雨

data: 天

data: 感受

data: 内心的

data: 波动

data: 。



data: 7

data: .

data:  

data: 《

data: 雾

data: 都

data: 孤儿

data: 》

data: 

data:  -

data:  查

data: 尔斯

data: ·

data: 狄

data: 更

data: 斯

data:   


data:   

data:  这

data: 部

data: 经典

data: 小说

data: 描绘

data: 了

data: 伦敦

data: 的

data: 阴

data: 郁

data: 氛围

data: ，

data: 非常适合

data: 在

data: 雨

data: 天

data: 感受

data: 其中

data: 的

data: 悲

data: 悯

data: 与

data: 希望

data: 。



data: 8

data: .

data:  

data: 《

data: 瓦

data: 尔

data: 登

data: 湖

data: 》

data: 

data:  -

data:  �梭

data: 罗

data:   


data:   

data:  这

data: 是一

data: 本

data: 关于

data: 自然

data: 与

data: 生活的

data: 哲学

data: 散文

data: ，

data: 适合

data: 在

data: 雨

data: 天

data: 思考

data: 生命

data: 的意义

data: 。



data: 希望

data: 这些

data: 推荐

data: 能

data: 让你

data: 在

data: 雨

data: 天

data: 找到

data: 一本

data: 心仪的

data: 书

data: ，

data: 享受

data: 阅读

data: 的乐趣

data: ！

data: 如果你

data: 有

data: 特定

data: 的

data: 类型

data: 偏好

data: ，

data: 也可以

data: 告诉我

data: ，

data: 我会

data: 为你

data: 进一步

data: 推荐

data: ！

(String), 39(Long)
2025-06-15 10:33:06 [boundedElastic-2] DEBUG c.e.q.m.C.updateChatHistory - <==    Updates: 1
2025-06-15 10:33:06 [boundedElastic-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73e72479]
2025-06-15 10:33:06 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Updated AI response to chat history
2025-06-15 10:43:57 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 10:43:57 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 10:43:57 [SpringApplicationShutdownHook] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-06-15 10:43:57 [SpringApplicationShutdownHook] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-06-15 10:44:01 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 39048 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 10:44:01 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 10:44:01 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 10:44:01 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-06-15 10:44:01 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-06-15 10:44:01 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 10:44:01 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 10:44:01 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 10:44:01 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 10:44:01 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 0 JDBC repository interfaces.
2025-06-15 10:44:01 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 10:44:01 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 10:44:01 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-06-15 10:44:01 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 10:44:01 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 10:44:01 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 10:44:01 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 10:44:01 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 10:44:01 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 10:44:02 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 10:44:02 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 10:44:02 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 10:44:02 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 10:44:02 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 10:44:02 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1020 ms
2025-06-15 10:44:02 [restartedMain] WARN  o.a.c.c.C.[Tomcat].[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [B3C62AEBF005AEEC14F0747816350D73]
2025-06-15 10:44:02 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 10:44:02 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-06-15 10:44:02 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 10:44:02 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 10:44:02 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 10:44:02 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 10:44:03 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 10:44:03 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 10:44:03 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 10:44:03 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 10:44:03 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 10:44:03 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 10:44:03 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 2.964 seconds (process running for 3.302)
2025-06-15 10:44:09 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-15 10:44:09 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-15 10:44:09 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-06-15 10:44:09 [http-nio-8080-exec-2] DEBUG c.e.q.controller.UserController - 显示登录页面
2025-06-15 10:44:15 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:44:15 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5373583f] was not registered for synchronization because synchronization is not active
2025-06-15 10:44:15 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:44:02.623, closeCount=0, lastValidateTimeMillis=2025-06-15 10:44:02.623}] will not be managed by Spring
2025-06-15 10:44:15 [http-nio-8080-exec-3] DEBUG c.e.q.mapper.UserMapper.findByUser - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 10:44:16 [http-nio-8080-exec-3] DEBUG c.e.q.mapper.UserMapper.findByUser - ==> Parameters: ls1(String)
2025-06-15 10:44:16 [http-nio-8080-exec-3] DEBUG c.e.q.mapper.UserMapper.findByUser - <==      Total: 1
2025-06-15 10:44:16 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5373583f]
2025-06-15 10:44:16 [http-nio-8080-exec-9] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 10:44:16 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 10:44:16 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:44:16 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cc5ea21] was not registered for synchronization because synchronization is not active
2025-06-15 10:44:16 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:44:02.623, closeCount=0, lastValidateTimeMillis=2025-06-15 10:44:02.623}] will not be managed by Spring
2025-06-15 10:44:16 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 10:44:16 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 10:44:16 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 10:44:16 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cc5ea21]
2025-06-15 10:44:16 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 10:44:16 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 10:44:16 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:44:16 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b9e9a5d] was not registered for synchronization because synchronization is not active
2025-06-15 10:44:16 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:44:02.623, closeCount=0, lastValidateTimeMillis=2025-06-15 10:44:02.623}] will not be managed by Spring
2025-06-15 10:44:16 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 10:44:16 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 10:44:16 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 10:44:16 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b9e9a5d]
2025-06-15 10:44:19 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:44:19 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@642a76be] was not registered for synchronization because synchronization is not active
2025-06-15 10:44:19 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:44:02.623, closeCount=0, lastValidateTimeMillis=2025-06-15 10:44:02.623}] will not be managed by Spring
2025-06-15 10:44:19 [http-nio-8080-exec-8] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 10:44:19 [http-nio-8080-exec-8] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 16(Long)
2025-06-15 10:44:19 [http-nio-8080-exec-8] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 7
2025-06-15 10:44:19 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@642a76be]
2025-06-15 10:44:42 [http-nio-8080-exec-4] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 你好
2025-06-15 10:44:42 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 10:44:42 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:44:42 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c5eff29] was not registered for synchronization because synchronization is not active
2025-06-15 10:44:42 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:44:02.623, closeCount=0, lastValidateTimeMillis=2025-06-15 10:44:02.623}] will not be managed by Spring
2025-06-15 10:44:42 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 10:44:42 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 10:44:42 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 10:44:42 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c5eff29]
2025-06-15 10:44:42 [http-nio-8080-exec-4] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 你好
2025-06-15 10:44:42 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:44:42 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4aad5bf8]
2025-06-15 10:44:42 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:44:02.623, closeCount=0, lastValidateTimeMillis=2025-06-15 10:44:02.623}] will be managed by Spring
2025-06-15 10:44:42 [http-nio-8080-exec-4] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM chat_history WHERE user_id = ? ORDER BY created_at
2025-06-15 10:44:42 [http-nio-8080-exec-4] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 10:44:42 [http-nio-8080-exec-4] DEBUG c.e.q.m.C.findByUserId - <==      Total: 46
2025-06-15 10:44:42 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4aad5bf8]
2025-06-15 10:44:42 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4aad5bf8] from current transaction
2025-06-15 10:44:42 [http-nio-8080-exec-4] DEBUG c.e.q.m.C.insertChatHistory - ==>  Preparing: INSERT INTO chat_history (user_id, user_message, ai_response, version, created_at, conversation_id) VALUES (?, ?, ?,?, ?,?)
2025-06-15 10:44:42 [http-nio-8080-exec-4] DEBUG c.e.q.m.C.insertChatHistory - ==> Parameters: 6(Long), 你好(String), null, 40(Long), 2025-06-15T10:44:42.600671400(LocalDateTime), 16(Long)
2025-06-15 10:44:42 [http-nio-8080-exec-4] DEBUG c.e.q.m.C.insertChatHistory - <==    Updates: 1
2025-06-15 10:44:42 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4aad5bf8]
2025-06-15 10:44:42 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.ChatService - 保存历史记录: 你好
2025-06-15 10:44:42 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4aad5bf8]
2025-06-15 10:44:42 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4aad5bf8]
2025-06-15 10:44:42 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4aad5bf8]
2025-06-15 10:44:52 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 




2025-06-15 10:44:52 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 你好


2025-06-15 10:44:52 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ！


2025-06-15 10:44:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 很高兴


2025-06-15 10:44:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 见到


2025-06-15 10:44:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 你


2025-06-15 10:44:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 。


2025-06-15 10:44:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 有什么


2025-06-15 10:44:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 我可以


2025-06-15 10:44:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 帮忙


2025-06-15 10:44:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 的


2025-06-15 10:44:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 吗


2025-06-15 10:44:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ？


2025-06-15 10:44:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 无论是


2025-06-15 10:44:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 推荐


2025-06-15 10:44:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 书籍


2025-06-15 10:44:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 、


2025-06-15 10:44:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 解答


2025-06-15 10:44:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 问题


2025-06-15 10:44:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ，


2025-06-15 10:44:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 还是


2025-06-15 10:44:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 陪你


2025-06-15 10:44:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 聊天


2025-06-15 10:44:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ，


2025-06-15 10:44:53 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 我


2025-06-15 10:44:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 都在


2025-06-15 10:44:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 这儿


2025-06-15 10:44:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 哦


2025-06-15 10:44:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ！


2025-06-15 10:44:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 😊


2025-06-15 10:44:54 [boundedElastic-2] INFO  c.e.qasystem.service.ChatService - Streaming response completed for userId: 6, response: 



你好

！

很高兴

见到

你

。

有什么

我可以

帮忙

的

吗

？

无论是

推荐

书籍

、

解答

问题

，

还是

陪你

聊天

，

我

都在

这儿

哦

！

😊


2025-06-15 10:44:54 [boundedElastic-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:44:54 [boundedElastic-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3273a408] was not registered for synchronization because synchronization is not active
2025-06-15 10:44:54 [boundedElastic-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:44:02.623, closeCount=0, lastValidateTimeMillis=2025-06-15 10:44:02.623}] will not be managed by Spring
2025-06-15 10:44:54 [boundedElastic-2] DEBUG c.e.q.m.C.updateChatHistory - ==>  Preparing: Update chat_history SET ai_response = ? where version = ?
2025-06-15 10:44:54 [boundedElastic-2] DEBUG c.e.q.m.C.updateChatHistory - ==> Parameters: 



你好

！

很高兴

见到

你

。

有什么

我可以

帮忙

的

吗

？

无论是

推荐

书籍

、

解答

问题

，

还是

陪你

聊天

，

我

都在

这儿

哦

！

😊

(String), 40(Long)
2025-06-15 10:44:54 [boundedElastic-2] DEBUG c.e.q.m.C.updateChatHistory - <==    Updates: 1
2025-06-15 10:44:54 [boundedElastic-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3273a408]
2025-06-15 10:44:54 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Updated AI response to chat history
2025-06-15 10:53:20 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-06-15 10:53:20 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 10:53:20 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-06-15 10:53:21 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 10:53:21 [Thread-7] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-06-15 10:53:21 [Thread-7] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-06-15 10:53:21 [Thread-7] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-06-15 10:53:21 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 39048 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 10:53:21 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 10:53:21 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 10:53:21 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 10:53:21 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 10:53:21 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 10:53:21 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 10:53:21 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 2 ms. Found 0 JDBC repository interfaces.
2025-06-15 10:53:21 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 10:53:21 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 10:53:21 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-06-15 10:53:21 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 10:53:21 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 10:53:21 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 10:53:21 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 10:53:21 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 10:53:21 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 10:53:21 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 10:53:21 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 10:53:21 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 10:53:21 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 10:53:21 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 10:53:21 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 291 ms
2025-06-15 10:53:21 [restartedMain] WARN  o.a.c.c.C.[Tomcat].[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [AA932B794B91EDA9261A83B34FDB9C12]
2025-06-15 10:53:21 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 10:53:21 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-2} inited
2025-06-15 10:53:21 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 10:53:21 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 10:53:21 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 10:53:21 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 10:53:21 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 10:53:21 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 10:53:21 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 10:53:21 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 10:53:21 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 10:53:21 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 10:53:21 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 0.772 seconds (process running for 561.502)
2025-06-15 10:53:21 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-06-15 10:53:23 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-06-15 10:53:23 [Thread-26] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 10:53:23 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-06-15 10:53:23 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 10:53:23 [Thread-26] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-06-15 10:53:23 [Thread-26] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-2} closing ...
2025-06-15 10:53:23 [Thread-26] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-2} closed
2025-06-15 10:53:23 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 39048 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 10:53:23 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 10:53:23 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 10:53:23 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 10:53:23 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 10:53:23 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 10:53:23 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 10:53:23 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 JDBC repository interfaces.
2025-06-15 10:53:23 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 10:53:23 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 10:53:23 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-06-15 10:53:23 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 10:53:23 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 10:53:23 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 10:53:23 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 10:53:23 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 10:53:23 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 10:53:23 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 10:53:23 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 10:53:23 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 10:53:23 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 10:53:23 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 10:53:23 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 222 ms
2025-06-15 10:53:23 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 10:53:23 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-3} inited
2025-06-15 10:53:24 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 10:53:24 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 10:53:24 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 10:53:24 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 10:53:24 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 10:53:24 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 10:53:24 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 10:53:24 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 10:53:24 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 10:53:24 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 10:53:24 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 0.822 seconds (process running for 563.942)
2025-06-15 10:53:24 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-06-15 10:53:52 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 10:53:52 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 10:53:52 [SpringApplicationShutdownHook] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-3} closing ...
2025-06-15 10:53:52 [SpringApplicationShutdownHook] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-3} closed
2025-06-15 10:53:55 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 41700 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 10:53:55 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 10:53:55 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 10:53:55 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-06-15 10:53:55 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-06-15 10:53:55 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 10:53:55 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 10:53:55 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 10:53:55 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 10:53:55 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 0 JDBC repository interfaces.
2025-06-15 10:53:55 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 10:53:55 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 10:53:55 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-06-15 10:53:55 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 10:53:55 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 10:53:55 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 10:53:55 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 10:53:55 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 10:53:55 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 10:53:56 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 10:53:56 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 10:53:56 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 10:53:56 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 10:53:56 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 10:53:56 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1221 ms
2025-06-15 10:53:56 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 10:53:56 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-06-15 10:53:56 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 10:53:56 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 10:53:56 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 10:53:57 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 10:53:57 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 10:53:57 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 10:53:57 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 10:53:57 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 10:53:57 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 10:53:57 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 10:53:57 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 3.344 seconds (process running for 3.826)
2025-06-15 10:54:08 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-15 10:54:08 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-15 10:54:08 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-15 10:54:08 [http-nio-8080-exec-3] DEBUG c.e.q.controller.UserController - 显示登录页面
2025-06-15 10:54:17 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:54:17 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@207f996c] was not registered for synchronization because synchronization is not active
2025-06-15 10:54:17 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:53:56.709, closeCount=0, lastValidateTimeMillis=2025-06-15 10:53:56.709}] will not be managed by Spring
2025-06-15 10:54:17 [http-nio-8080-exec-2] DEBUG c.e.q.mapper.UserMapper.findByUser - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 10:54:17 [http-nio-8080-exec-2] DEBUG c.e.q.mapper.UserMapper.findByUser - ==> Parameters: ls1(String)
2025-06-15 10:54:17 [http-nio-8080-exec-2] DEBUG c.e.q.mapper.UserMapper.findByUser - <==      Total: 1
2025-06-15 10:54:17 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@207f996c]
2025-06-15 10:54:17 [http-nio-8080-exec-9] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 10:54:17 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 10:54:17 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:54:17 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@429421ce] was not registered for synchronization because synchronization is not active
2025-06-15 10:54:17 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:53:56.709, closeCount=0, lastValidateTimeMillis=2025-06-15 10:53:56.709}] will not be managed by Spring
2025-06-15 10:54:17 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 10:54:17 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 10:54:17 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 10:54:17 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@429421ce]
2025-06-15 10:54:17 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 10:54:18 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 10:54:18 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:54:18 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e5efaa1] was not registered for synchronization because synchronization is not active
2025-06-15 10:54:18 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:53:56.709, closeCount=0, lastValidateTimeMillis=2025-06-15 10:53:56.709}] will not be managed by Spring
2025-06-15 10:54:18 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 10:54:18 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 10:54:18 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 10:54:18 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e5efaa1]
2025-06-15 10:54:20 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:54:20 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c347d49] was not registered for synchronization because synchronization is not active
2025-06-15 10:54:20 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:53:56.709, closeCount=0, lastValidateTimeMillis=2025-06-15 10:53:56.709}] will not be managed by Spring
2025-06-15 10:54:20 [http-nio-8080-exec-8] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 10:54:20 [http-nio-8080-exec-8] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 16(Long)
2025-06-15 10:54:20 [http-nio-8080-exec-8] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 8
2025-06-15 10:54:20 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c347d49]
2025-06-15 10:54:42 [http-nio-8080-exec-4] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 简要介绍一下台风的成因
2025-06-15 10:54:42 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 10:54:42 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:54:42 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48578ad6] was not registered for synchronization because synchronization is not active
2025-06-15 10:54:42 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:53:56.709, closeCount=0, lastValidateTimeMillis=2025-06-15 10:53:56.709}] will not be managed by Spring
2025-06-15 10:54:42 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 10:54:42 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 10:54:42 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 10:54:42 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48578ad6]
2025-06-15 10:54:42 [http-nio-8080-exec-4] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 简要介绍一下台风的成因
2025-06-15 10:54:42 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:54:42 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@601452f7]
2025-06-15 10:54:42 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:53:56.709, closeCount=0, lastValidateTimeMillis=2025-06-15 10:53:56.709}] will be managed by Spring
2025-06-15 10:54:42 [http-nio-8080-exec-4] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM chat_history WHERE user_id = ? ORDER BY created_at
2025-06-15 10:54:42 [http-nio-8080-exec-4] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 10:54:42 [http-nio-8080-exec-4] DEBUG c.e.q.m.C.findByUserId - <==      Total: 47
2025-06-15 10:54:42 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@601452f7]
2025-06-15 10:54:42 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@601452f7] from current transaction
2025-06-15 10:54:42 [http-nio-8080-exec-4] DEBUG c.e.q.m.C.insertChatHistory - ==>  Preparing: INSERT INTO chat_history (user_id, user_message, ai_response, version, created_at, conversation_id) VALUES (?, ?, ?,?, ?,?)
2025-06-15 10:54:42 [http-nio-8080-exec-4] DEBUG c.e.q.m.C.insertChatHistory - ==> Parameters: 6(Long), 简要介绍一下台风的成因(String), null, 41(Long), 2025-06-15T10:54:42.856783200(LocalDateTime), 16(Long)
2025-06-15 10:54:42 [http-nio-8080-exec-4] DEBUG c.e.q.m.C.insertChatHistory - <==    Updates: 1
2025-06-15 10:54:42 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@601452f7]
2025-06-15 10:54:42 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.ChatService - 保存历史记录: 简要介绍一下台风的成因
2025-06-15 10:54:42 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@601452f7]
2025-06-15 10:54:42 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@601452f7]
2025-06-15 10:54:42 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@601452f7]
2025-06-15 10:54:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 




2025-06-15 10:54:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 台风


2025-06-15 10:54:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 是一种


2025-06-15 10:54:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 热带


2025-06-15 10:54:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 气


2025-06-15 10:54:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 旋


2025-06-15 10:54:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:54:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 其


2025-06-15 10:54:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 形成


2025-06-15 10:54:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 需要


2025-06-15 10:54:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 特定


2025-06-15 10:54:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 10:54:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 气象


2025-06-15 10:54:55 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 和


2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 海洋


2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 条件


2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。


2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 以下是


2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 台风


2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 形成


2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的主要


2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 原因


2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ：




2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 1


2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: .


2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 温暖


2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 海水


2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 


2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ：


2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 台风


2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 通常


2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 在


2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 热带


2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 海洋


2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 上


2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 形成


2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 海水


2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 温度


2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 需要


2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 达到


2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 2


2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 6


2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: .


2025-06-15 10:54:56 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 5


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: °C


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 以上


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 以


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 提供


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 足够的


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 热量


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 和


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 水


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 汽


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。




2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 2


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: .


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 大气


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 对


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 流


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ：


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 温暖


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 海水


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 蒸发


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 水


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 汽


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 上升


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 形成


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 对


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 流


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 导致


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 空气


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 膨胀


2025-06-15 10:54:57 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 和


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 上升


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 形成


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 低压


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 区


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。




2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 3


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: .


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 地球


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 自


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 转


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ：


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 科


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 里


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 奥


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 利


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 效应


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 使


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 上升


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 空气


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 向


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 右


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 偏


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 转


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 形成


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 旋转


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 气


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 流


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 从而


2025-06-15 10:54:58 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 产生


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 台风


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 旋转


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 结构


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。




2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 4


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: .


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 垂直


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 风


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 切


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 变


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ：


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 较低


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 垂直


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 风


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 切


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 变


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 有助于


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 台风


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的发展


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 因为它


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 不会


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 破坏


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 对


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 流


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 结构


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。




2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 5


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: .


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 初始


2025-06-15 10:54:59 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 扰


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 动


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ：


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 台风


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 通常


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 由


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 热带


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 扰


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 动


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 或


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 低压


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 系统


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 发展


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 而来


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 这些


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 初始


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 扰


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 动


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 为


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 台风


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 形成


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 提供了


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 动力


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。




2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 6


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: .


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 赤


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 道


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 附近的


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 低压


2025-06-15 10:55:00 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 带


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ：


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 赤


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 道


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 附近的


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 低压


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 带


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 提供了


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 适宜


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 环境


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 使得


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 空气


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 上升


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 并


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 形成


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 对


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 流


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。




2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 7


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: .


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 季


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 风


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的影响


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ：


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 在


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 某些


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 地区


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 季


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 风


2025-06-15 10:55:01 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 活动


2025-06-15 10:55:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 可能


2025-06-15 10:55:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 促进


2025-06-15 10:55:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 台风


2025-06-15 10:55:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 10:55:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 生成


2025-06-15 10:55:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。




2025-06-15 10:55:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 综


2025-06-15 10:55:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 上


2025-06-15 10:55:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 所述


2025-06-15 10:55:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:55:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 台风


2025-06-15 10:55:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 10:55:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 形成


2025-06-15 10:55:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 是一个


2025-06-15 10:55:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 复杂


2025-06-15 10:55:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的过程


2025-06-15 10:55:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 10:55:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 涉及


2025-06-15 10:55:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 多个


2025-06-15 10:55:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 因素


2025-06-15 10:55:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 10:55:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 综


2025-06-15 10:55:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 合作


2025-06-15 10:55:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 用


2025-06-15 10:55:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。


2025-06-15 10:55:02 [boundedElastic-2] INFO  c.e.qasystem.service.ChatService - Streaming response completed for userId: 6, response: data: 



data: 台风

data: 是一种

data: 热带

data: 气

data: 旋

data: ，

data: 其

data: 形成

data: 需要

data: 特定

data: 的

data: 气象

data: 和

data: 海洋

data: 条件

data: 。

data: 以下是

data: 台风

data: 形成

data: 的主要

data: 原因

data: ：



data: 1

data: .

data:  

data: 温暖

data: 的

data: 海水

data: 

data: ：

data: 台风

data: 通常

data: 在

data: 热带

data: 海洋

data: 上

data: 形成

data: ，

data: 海水

data: 温度

data: 需要

data: 达到

data: 2

data: 6

data: .

data: 5

data: °C

data: 以上

data: ，

data: 以

data: 提供

data: 足够的

data: 热量

data: 和

data: 水

data: 汽

data: 。



data: 2

data: .

data:  

data: 大气

data: 对

data: 流

data: 

data: ：

data: 温暖

data: 的

data: 海水

data: 蒸发

data: ，

data: 水

data: 汽

data: 上升

data: 形成

data: 对

data: 流

data: ，

data: 导致

data: 空气

data: 膨胀

data: 和

data: 上升

data: ，

data: 形成

data: 低压

data: 区

data: 。



data: 3

data: .

data:  

data: 地球

data: 自

data: 转

data: 

data: ：

data: 科

data: 里

data: 奥

data: 利

data: 效应

data: 使

data: 上升

data: 的

data: 空气

data: 向

data: 右

data: 偏

data: 转

data: ，

data: 形成

data: 旋转

data: 的

data: 气

data: 流

data: ，

data: 从而

data: 产生

data: 台风

data: 的

data: 旋转

data: 结构

data: 。



data: 4

data: .

data:  

data: 垂直

data: 风

data: 切

data: 变

data: 

data: ：

data: 较低

data: 的

data: 垂直

data: 风

data: 切

data: 变

data: 有助于

data: 台风

data: 的发展

data: ，

data: 因为它

data: 不会

data: 破坏

data: 对

data: 流

data: 结构

data: 。



data: 5

data: .

data:  

data: 初始

data: 扰

data: 动

data: 

data: ：

data: 台风

data: 通常

data: 由

data: 热带

data: 扰

data: 动

data: 或

data: 低压

data: 系统

data: 发展

data: 而来

data: ，

data: 这些

data: 初始

data: 扰

data: 动

data: 为

data: 台风

data: 的

data: 形成

data: 提供了

data: 动力

data: 。



data: 6

data: .

data:  

data: 赤

data: 道

data: 附近的

data: 低压

data: 带

data: 

data: ：

data: 赤

data: 道

data: 附近的

data: 低压

data: 带

data: 提供了

data: 适宜

data: 的

data: 环境

data: ，

data: 使得

data: 空气

data: 上升

data: 并

data: 形成

data: 对

data: 流

data: 。



data: 7

data: .

data:  

data: 季

data: 风

data: 的影响

data: 

data: ：

data: 在

data: 某些

data: 地区

data: ，

data: 季

data: 风

data: 活动

data: 可能

data: 促进

data: 台风

data: 的

data: 生成

data: 。



data: 综

data: 上

data: 所述

data: ，

data: 台风

data: 的

data: 形成

data: 是一个

data: 复杂

data: 的过程

data: ，

data: 涉及

data: 多个

data: 因素

data: 的

data: 综

data: 合作

data: 用

data: 。


2025-06-15 10:55:02 [boundedElastic-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 10:55:02 [boundedElastic-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@723d2a4b] was not registered for synchronization because synchronization is not active
2025-06-15 10:55:02 [boundedElastic-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:53:56.709, closeCount=0, lastValidateTimeMillis=2025-06-15 10:53:56.709}] will not be managed by Spring
2025-06-15 10:55:02 [boundedElastic-2] DEBUG c.e.q.m.C.updateChatHistory - ==>  Preparing: Update chat_history SET ai_response = ? where version = ?
2025-06-15 10:55:02 [boundedElastic-2] DEBUG c.e.q.m.C.updateChatHistory - ==> Parameters: data: 



data: 台风

data: 是一种

data: 热带

data: 气

data: 旋

data: ，

data: 其

data: 形成

data: 需要

data: 特定

data: 的

data: 气象

data: 和

data: 海洋

data: 条件

data: 。

data: 以下是

data: 台风

data: 形成

data: 的主要

data: 原因

data: ：



data: 1

data: .

data:  

data: 温暖

data: 的

data: 海水

data: 

data: ：

data: 台风

data: 通常

data: 在

data: 热带

data: 海洋

data: 上

data: 形成

data: ，

data: 海水

data: 温度

data: 需要

data: 达到

data: 2

data: 6

data: .

data: 5

data: °C

data: 以上

data: ，

data: 以

data: 提供

data: 足够的

data: 热量

data: 和

data: 水

data: 汽

data: 。



data: 2

data: .

data:  

data: 大气

data: 对

data: 流

data: 

data: ：

data: 温暖

data: 的

data: 海水

data: 蒸发

data: ，

data: 水

data: 汽

data: 上升

data: 形成

data: 对

data: 流

data: ，

data: 导致

data: 空气

data: 膨胀

data: 和

data: 上升

data: ，

data: 形成

data: 低压

data: 区

data: 。



data: 3

data: .

data:  

data: 地球

data: 自

data: 转

data: 

data: ：

data: 科

data: 里

data: 奥

data: 利

data: 效应

data: 使

data: 上升

data: 的

data: 空气

data: 向

data: 右

data: 偏

data: 转

data: ，

data: 形成

data: 旋转

data: 的

data: 气

data: 流

data: ，

data: 从而

data: 产生

data: 台风

data: 的

data: 旋转

data: 结构

data: 。



data: 4

data: .

data:  

data: 垂直

data: 风

data: 切

data: 变

data: 

data: ：

data: 较低

data: 的

data: 垂直

data: 风

data: 切

data: 变

data: 有助于

data: 台风

data: 的发展

data: ，

data: 因为它

data: 不会

data: 破坏

data: 对

data: 流

data: 结构

data: 。



data: 5

data: .

data:  

data: 初始

data: 扰

data: 动

data: 

data: ：

data: 台风

data: 通常

data: 由

data: 热带

data: 扰

data: 动

data: 或

data: 低压

data: 系统

data: 发展

data: 而来

data: ，

data: 这些

data: 初始

data: 扰

data: 动

data: 为

data: 台风

data: 的

data: 形成

data: 提供了

data: 动力

data: 。



data: 6

data: .

data:  

data: 赤

data: 道

data: 附近的

data: 低压

data: 带

data: 

data: ：

data: 赤

data: 道

data: 附近的

data: 低压

data: 带

data: 提供了

data: 适宜

data: 的

data: 环境

data: ，

data: 使得

data: 空气

data: 上升

data: 并

data: 形成

data: 对

data: 流

data: 。



data: 7

data: .

data:  

data: 季

data: 风

data: 的影响

data: 

data: ：

data: 在

data: 某些

data: 地区

data: ，

data: 季

data: 风

data: 活动

data: 可能

data: 促进

data: 台风

data: 的

data: 生成

data: 。



data: 综

data: 上

data: 所述

data: ，

data: 台风

data: 的

data: 形成

data: 是一个

data: 复杂

data: 的过程

data: ，

data: 涉及

data: 多个

data: 因素

data: 的

data: 综

data: 合作

data: 用

data: 。

(String), 41(Long)
2025-06-15 10:55:02 [boundedElastic-2] DEBUG c.e.q.m.C.updateChatHistory - <==    Updates: 1
2025-06-15 10:55:02 [boundedElastic-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@723d2a4b]
2025-06-15 10:55:02 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Updated AI response to chat history
2025-06-15 11:01:35 [http-nio-8080-exec-2] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 11:01:35 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 11:01:35 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 11:01:35 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b4a07c1] was not registered for synchronization because synchronization is not active
2025-06-15 11:01:35 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:53:56.709, closeCount=0, lastValidateTimeMillis=2025-06-15 11:01:35.792}] will not be managed by Spring
2025-06-15 11:01:35 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 11:01:35 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 11:01:35 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 11:01:35 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b4a07c1]
2025-06-15 11:01:35 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 11:01:35 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 11:01:35 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 11:01:35 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25243062] was not registered for synchronization because synchronization is not active
2025-06-15 11:01:35 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:53:56.709, closeCount=0, lastValidateTimeMillis=2025-06-15 11:01:35.792}] will not be managed by Spring
2025-06-15 11:01:35 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 11:01:35 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 11:01:35 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 11:01:35 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25243062]
2025-06-15 11:01:37 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 11:01:37 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18f343c7] was not registered for synchronization because synchronization is not active
2025-06-15 11:01:37 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:53:56.709, closeCount=0, lastValidateTimeMillis=2025-06-15 11:01:35.792}] will not be managed by Spring
2025-06-15 11:01:37 [http-nio-8080-exec-7] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 11:01:37 [http-nio-8080-exec-7] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 16(Long)
2025-06-15 11:01:37 [http-nio-8080-exec-7] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 9
2025-06-15 11:01:37 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18f343c7]
2025-06-15 11:01:43 [http-nio-8080-exec-8] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 你好
2025-06-15 11:01:43 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 11:01:43 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 11:01:43 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@598dcb4a] was not registered for synchronization because synchronization is not active
2025-06-15 11:01:43 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:53:56.709, closeCount=0, lastValidateTimeMillis=2025-06-15 11:01:35.792}] will not be managed by Spring
2025-06-15 11:01:43 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 11:01:43 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 11:01:43 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 11:01:43 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@598dcb4a]
2025-06-15 11:01:43 [http-nio-8080-exec-8] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 你好
2025-06-15 11:01:43 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 11:01:43 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c5e9d42]
2025-06-15 11:01:43 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:53:56.709, closeCount=0, lastValidateTimeMillis=2025-06-15 11:01:35.792}] will be managed by Spring
2025-06-15 11:01:43 [http-nio-8080-exec-8] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM chat_history WHERE user_id = ? ORDER BY created_at
2025-06-15 11:01:43 [http-nio-8080-exec-8] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 11:01:43 [http-nio-8080-exec-8] DEBUG c.e.q.m.C.findByUserId - <==      Total: 48
2025-06-15 11:01:43 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c5e9d42]
2025-06-15 11:01:43 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c5e9d42] from current transaction
2025-06-15 11:01:43 [http-nio-8080-exec-8] DEBUG c.e.q.m.C.insertChatHistory - ==>  Preparing: INSERT INTO chat_history (user_id, user_message, ai_response, version, created_at, conversation_id) VALUES (?, ?, ?,?, ?,?)
2025-06-15 11:01:43 [http-nio-8080-exec-8] DEBUG c.e.q.m.C.insertChatHistory - ==> Parameters: 6(Long), 你好(String), null, 42(Long), 2025-06-15T11:01:43.364755200(LocalDateTime), 16(Long)
2025-06-15 11:01:43 [http-nio-8080-exec-8] DEBUG c.e.q.m.C.insertChatHistory - <==    Updates: 1
2025-06-15 11:01:43 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c5e9d42]
2025-06-15 11:01:43 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.ChatService - 保存历史记录: 你好
2025-06-15 11:01:43 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c5e9d42]
2025-06-15 11:01:43 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c5e9d42]
2025-06-15 11:01:43 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c5e9d42]
2025-06-15 11:01:55 [boundedElastic-4] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 




2025-06-15 11:01:55 [boundedElastic-4] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 你好


2025-06-15 11:01:55 [boundedElastic-4] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 呀


2025-06-15 11:01:55 [boundedElastic-4] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ！


2025-06-15 11:01:55 [boundedElastic-4] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 👋


2025-06-15 11:01:55 [boundedElastic-4] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 11:01:55 [boundedElastic-4] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 今天


2025-06-15 11:01:56 [boundedElastic-4] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 过得


2025-06-15 11:01:56 [boundedElastic-4] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 怎么样


2025-06-15 11:01:56 [boundedElastic-4] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ？


2025-06-15 11:01:56 [boundedElastic-4] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 有什么


2025-06-15 11:01:56 [boundedElastic-4] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 想


2025-06-15 11:01:56 [boundedElastic-4] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 聊


2025-06-15 11:01:56 [boundedElastic-4] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 11:01:56 [boundedElastic-4] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 或者


2025-06-15 11:01:56 [boundedElastic-4] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 需要


2025-06-15 11:01:56 [boundedElastic-4] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 帮忙


2025-06-15 11:01:56 [boundedElastic-4] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 11:01:56 [boundedElastic-4] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 吗


2025-06-15 11:01:56 [boundedElastic-4] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ？


2025-06-15 11:01:56 [boundedElastic-4] INFO  c.e.qasystem.service.ChatService - Streaming response completed for userId: 6, response: data: 



data: 你好

data: 呀

data: ！

data: 👋

data:  

data: 今天

data: 过得

data: 怎么样

data: ？

data: 有什么

data: 想

data: 聊

data: 的

data: 或者

data: 需要

data: 帮忙

data: 的

data: 吗

data: ？


2025-06-15 11:01:56 [boundedElastic-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 11:01:56 [boundedElastic-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@356de7fc] was not registered for synchronization because synchronization is not active
2025-06-15 11:01:56 [boundedElastic-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:53:56.709, closeCount=0, lastValidateTimeMillis=2025-06-15 11:01:35.792}] will not be managed by Spring
2025-06-15 11:01:56 [boundedElastic-4] DEBUG c.e.q.m.C.updateChatHistory - ==>  Preparing: Update chat_history SET ai_response = ? where version = ?
2025-06-15 11:01:56 [boundedElastic-4] DEBUG c.e.q.m.C.updateChatHistory - ==> Parameters: data: 



data: 你好

data: 呀

data: ！

data: 👋

data:  

data: 今天

data: 过得

data: 怎么样

data: ？

data: 有什么

data: 想

data: 聊

data: 的

data: 或者

data: 需要

data: 帮忙

data: 的

data: 吗

data: ？

(String), 42(Long)
2025-06-15 11:01:56 [boundedElastic-4] DEBUG c.e.q.m.C.updateChatHistory - <==    Updates: 1
2025-06-15 11:01:56 [boundedElastic-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@356de7fc]
2025-06-15 11:01:56 [boundedElastic-4] DEBUG c.e.qasystem.service.ChatService - Updated AI response to chat history
2025-06-15 11:02:31 [http-nio-8080-exec-1] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 我今天过的还行，就是下雨让地面好湿
2025-06-15 11:02:31 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 11:02:31 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 11:02:31 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31544646] was not registered for synchronization because synchronization is not active
2025-06-15 11:02:31 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:53:56.709, closeCount=0, lastValidateTimeMillis=2025-06-15 11:01:35.792}] will not be managed by Spring
2025-06-15 11:02:31 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 11:02:31 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 11:02:31 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 11:02:31 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31544646]
2025-06-15 11:02:31 [http-nio-8080-exec-1] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 我今天过的还行，就是下雨让地面好湿
2025-06-15 11:02:31 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 11:02:31 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d65c061]
2025-06-15 11:02:31 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:53:56.709, closeCount=0, lastValidateTimeMillis=2025-06-15 11:01:35.792}] will be managed by Spring
2025-06-15 11:02:31 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM chat_history WHERE user_id = ? ORDER BY created_at
2025-06-15 11:02:31 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 11:02:31 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.findByUserId - <==      Total: 49
2025-06-15 11:02:31 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d65c061]
2025-06-15 11:02:31 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d65c061] from current transaction
2025-06-15 11:02:31 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.insertChatHistory - ==>  Preparing: INSERT INTO chat_history (user_id, user_message, ai_response, version, created_at, conversation_id) VALUES (?, ?, ?,?, ?,?)
2025-06-15 11:02:31 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.insertChatHistory - ==> Parameters: 6(Long), 我今天过的还行，就是下雨让地面好湿(String), null, 43(Long), 2025-06-15T11:02:31.673224700(LocalDateTime), 16(Long)
2025-06-15 11:02:31 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.insertChatHistory - <==    Updates: 1
2025-06-15 11:02:31 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d65c061]
2025-06-15 11:02:31 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.ChatService - 保存历史记录: 我今天过的还行，就是下雨让地面好湿
2025-06-15 11:02:31 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d65c061]
2025-06-15 11:02:31 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d65c061]
2025-06-15 11:02:31 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d65c061]
2025-06-15 11:02:45 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 




2025-06-15 11:02:45 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 你好


2025-06-15 11:02:45 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ！


2025-06-15 11:02:45 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 听起来


2025-06-15 11:02:45 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 今天的


2025-06-15 11:02:45 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 雨


2025-06-15 11:02:45 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 下


2025-06-15 11:02:45 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 得


2025-06-15 11:02:45 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 不小


2025-06-15 11:02:45 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 呢


2025-06-15 11:02:45 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:02:45 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 确实


2025-06-15 11:02:45 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 会让


2025-06-15 11:02:45 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 地面


2025-06-15 11:02:45 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 变得


2025-06-15 11:02:45 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 湿


2025-06-15 11:02:45 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 滑


2025-06-15 11:02:45 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。


2025-06-15 11:02:45 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 如果你


2025-06-15 11:02:45 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 有


2025-06-15 11:02:45 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 计划


2025-06-15 11:02:45 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 外出


2025-06-15 11:02:46 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:02:46 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 记得


2025-06-15 11:02:46 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 穿


2025-06-15 11:02:46 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 防


2025-06-15 11:02:46 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 滑


2025-06-15 11:02:46 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 11:02:46 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 鞋子


2025-06-15 11:02:46 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:02:46 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 小心


2025-06-15 11:02:46 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 脚下


2025-06-15 11:02:46 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 哦


2025-06-15 11:02:46 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ！


2025-06-15 11:02:46 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 如果


2025-06-15 11:02:46 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 是在


2025-06-15 11:02:46 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 家


2025-06-15 11:02:46 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的话


2025-06-15 11:02:46 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:02:46 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 雨


2025-06-15 11:02:46 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 天


2025-06-15 11:02:46 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 也是一个


2025-06-15 11:02:46 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 放松


2025-06-15 11:02:46 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的好


2025-06-15 11:02:46 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 机会


2025-06-15 11:02:47 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:02:47 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 比如


2025-06-15 11:02:47 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 看看


2025-06-15 11:02:47 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 书


2025-06-15 11:02:47 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 、


2025-06-15 11:02:47 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 听听


2025-06-15 11:02:47 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 音乐


2025-06-15 11:02:47 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:02:47 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 或者


2025-06-15 11:02:47 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 尝试


2025-06-15 11:02:47 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 一些


2025-06-15 11:02:47 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 简单的


2025-06-15 11:02:47 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 烘焙


2025-06-15 11:02:47 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:02:48 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 享受


2025-06-15 11:02:48 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 一下


2025-06-15 11:02:48 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 宁静


2025-06-15 11:02:48 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 11:02:48 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 时光


2025-06-15 11:02:48 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。


2025-06-15 11:02:48 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 希望


2025-06-15 11:02:48 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 你


2025-06-15 11:02:48 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 今天


2025-06-15 11:02:48 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 过得


2025-06-15 11:02:48 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 愉快


2025-06-15 11:02:48 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ！


2025-06-15 11:02:48 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 😊


2025-06-15 11:02:48 [boundedElastic-3] INFO  c.e.qasystem.service.ChatService - Streaming response completed for userId: 6, response: data: 



data: 你好

data: ！

data: 听起来

data: 今天的

data: 雨

data: 下

data: 得

data: 不小

data: 呢

data: ，

data: 确实

data: 会让

data: 地面

data: 变得

data: 湿

data: 滑

data: 。

data: 如果你

data: 有

data: 计划

data: 外出

data: ，

data: 记得

data: 穿

data: 防

data: 滑

data: 的

data: 鞋子

data: ，

data: 小心

data: 脚下

data: 哦

data: ！

data: 如果

data: 是在

data: 家

data: 的话

data: ，

data: 雨

data: 天

data: 也是一个

data: 放松

data: 的好

data: 机会

data: ，

data: 比如

data: 看看

data: 书

data: 、

data: 听听

data: 音乐

data: ，

data: 或者

data: 尝试

data: 一些

data: 简单的

data: 烘焙

data: ，

data: 享受

data: 一下

data: 宁静

data: 的

data: 时光

data: 。

data: 希望

data: 你

data: 今天

data: 过得

data: 愉快

data: ！

data: 😊


2025-06-15 11:02:48 [boundedElastic-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 11:02:48 [boundedElastic-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d2d3cca] was not registered for synchronization because synchronization is not active
2025-06-15 11:02:48 [boundedElastic-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:53:56.709, closeCount=0, lastValidateTimeMillis=2025-06-15 11:01:35.792}] will not be managed by Spring
2025-06-15 11:02:48 [boundedElastic-3] DEBUG c.e.q.m.C.updateChatHistory - ==>  Preparing: Update chat_history SET ai_response = ? where version = ?
2025-06-15 11:02:48 [boundedElastic-3] DEBUG c.e.q.m.C.updateChatHistory - ==> Parameters: data: 



data: 你好

data: ！

data: 听起来

data: 今天的

data: 雨

data: 下

data: 得

data: 不小

data: 呢

data: ，

data: 确实

data: 会让

data: 地面

data: 变得

data: 湿

data: 滑

data: 。

data: 如果你

data: 有

data: 计划

data: 外出

data: ，

data: 记得

data: 穿

data: 防

data: 滑

data: 的

data: 鞋子

data: ，

data: 小心

data: 脚下

data: 哦

data: ！

data: 如果

data: 是在

data: 家

data: 的话

data: ，

data: 雨

data: 天

data: 也是一个

data: 放松

data: 的好

data: 机会

data: ，

data: 比如

data: 看看

data: 书

data: 、

data: 听听

data: 音乐

data: ，

data: 或者

data: 尝试

data: 一些

data: 简单的

data: 烘焙

data: ，

data: 享受

data: 一下

data: 宁静

data: 的

data: 时光

data: 。

data: 希望

data: 你

data: 今天

data: 过得

data: 愉快

data: ！

data: 😊

(String), 43(Long)
2025-06-15 11:02:48 [boundedElastic-3] DEBUG c.e.q.m.C.updateChatHistory - <==    Updates: 1
2025-06-15 11:02:48 [boundedElastic-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d2d3cca]
2025-06-15 11:02:48 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Updated AI response to chat history
2025-06-15 11:08:00 [http-nio-8080-exec-9] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 11:08:00 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 11:08:00 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 11:08:00 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c66164b] was not registered for synchronization because synchronization is not active
2025-06-15 11:08:00 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:53:56.709, closeCount=0, lastValidateTimeMillis=2025-06-15 11:08:00.718}] will not be managed by Spring
2025-06-15 11:08:00 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 11:08:00 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 11:08:00 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 11:08:00 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c66164b]
2025-06-15 11:08:00 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 11:08:00 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 11:08:00 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 11:08:00 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4eae725f] was not registered for synchronization because synchronization is not active
2025-06-15 11:08:00 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:53:56.709, closeCount=0, lastValidateTimeMillis=2025-06-15 11:08:00.718}] will not be managed by Spring
2025-06-15 11:08:00 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 11:08:00 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 11:08:00 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 11:08:00 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4eae725f]
2025-06-15 11:08:02 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 11:08:02 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41fb98f1] was not registered for synchronization because synchronization is not active
2025-06-15 11:08:02 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:53:56.709, closeCount=0, lastValidateTimeMillis=2025-06-15 11:08:00.718}] will not be managed by Spring
2025-06-15 11:08:02 [http-nio-8080-exec-4] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 11:08:02 [http-nio-8080-exec-4] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 16(Long)
2025-06-15 11:08:02 [http-nio-8080-exec-4] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 11
2025-06-15 11:08:02 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41fb98f1]
2025-06-15 11:08:33 [http-nio-8080-exec-10] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 有什么适合在下雨天做的事情？
2025-06-15 11:08:33 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 11:08:33 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 11:08:33 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c8d04a9] was not registered for synchronization because synchronization is not active
2025-06-15 11:08:33 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:53:56.709, closeCount=0, lastValidateTimeMillis=2025-06-15 11:08:00.718}] will not be managed by Spring
2025-06-15 11:08:33 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 11:08:33 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 11:08:33 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 11:08:33 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c8d04a9]
2025-06-15 11:08:33 [http-nio-8080-exec-10] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 有什么适合在下雨天做的事情？
2025-06-15 11:08:33 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 11:08:33 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@290ffd4b]
2025-06-15 11:08:33 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:53:56.709, closeCount=0, lastValidateTimeMillis=2025-06-15 11:08:00.718}] will be managed by Spring
2025-06-15 11:08:33 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM chat_history WHERE user_id = ? ORDER BY created_at
2025-06-15 11:08:33 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 11:08:33 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.findByUserId - <==      Total: 50
2025-06-15 11:08:33 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@290ffd4b]
2025-06-15 11:08:33 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@290ffd4b] from current transaction
2025-06-15 11:08:33 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.insertChatHistory - ==>  Preparing: INSERT INTO chat_history (user_id, user_message, ai_response, version, created_at, conversation_id) VALUES (?, ?, ?,?, ?,?)
2025-06-15 11:08:33 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.insertChatHistory - ==> Parameters: 6(Long), 有什么适合在下雨天做的事情？(String), null, 44(Long), 2025-06-15T11:08:33.728142900(LocalDateTime), 16(Long)
2025-06-15 11:08:33 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.insertChatHistory - <==    Updates: 1
2025-06-15 11:08:33 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@290ffd4b]
2025-06-15 11:08:33 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.ChatService - 保存历史记录: 有什么适合在下雨天做的事情？
2025-06-15 11:08:33 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@290ffd4b]
2025-06-15 11:08:33 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@290ffd4b]
2025-06-15 11:08:33 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@290ffd4b]
2025-06-15 11:08:52 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 




2025-06-15 11:08:52 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 下雨


2025-06-15 11:08:52 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 天


2025-06-15 11:08:52 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 确实


2025-06-15 11:08:53 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 是个


2025-06-15 11:08:53 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 享受


2025-06-15 11:08:53 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 宁静


2025-06-15 11:08:53 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 和


2025-06-15 11:08:53 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 放松


2025-06-15 11:08:53 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的好


2025-06-15 11:08:53 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 机会


2025-06-15 11:08:53 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ！


2025-06-15 11:08:53 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 以下


2025-06-15 11:08:53 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 是一


2025-06-15 11:08:53 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 些


2025-06-15 11:08:53 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 适合


2025-06-15 11:08:53 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 在


2025-06-15 11:08:53 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 下雨


2025-06-15 11:08:53 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 天


2025-06-15 11:08:53 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 做的事情


2025-06-15 11:08:53 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:08:53 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 希望能


2025-06-15 11:08:53 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 给你


2025-06-15 11:08:54 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 灵感


2025-06-15 11:08:54 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ：




2025-06-15 11:08:54 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 


2025-06-15 11:08:54 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 11:08:54 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 1


2025-06-15 11:08:54 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: .


2025-06-15 11:08:54 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 11:08:54 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 享受


2025-06-15 11:08:54 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 一杯


2025-06-15 11:08:54 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 热


2025-06-15 11:08:54 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 饮


2025-06-15 11:08:54 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 



2025-06-15 11:08:54 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:   


2025-06-15 11:08:54 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  -


2025-06-15 11:08:54 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  喝


2025-06-15 11:08:54 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 一杯


2025-06-15 11:08:54 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 热


2025-06-15 11:08:55 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 茶


2025-06-15 11:08:55 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 、


2025-06-15 11:08:55 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 咖啡


2025-06-15 11:08:55 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 或


2025-06-15 11:08:55 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 热


2025-06-15 11:08:55 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 可


2025-06-15 11:08:55 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 可


2025-06-15 11:08:55 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:08:55 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 感受


2025-06-15 11:08:55 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 温暖


2025-06-15 11:08:55 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 从


2025-06-15 11:08:55 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 内


2025-06-15 11:08:55 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 而


2025-06-15 11:08:55 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 外


2025-06-15 11:08:55 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 11:08:55 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 蔓延


2025-06-15 11:08:55 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。


2025-06-15 11:08:55 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 雨


2025-06-15 11:08:55 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 声


2025-06-15 11:08:56 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 和


2025-06-15 11:08:56 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 热


2025-06-15 11:08:56 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 饮


2025-06-15 11:08:56 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 11:08:56 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 香气


2025-06-15 11:08:56 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 完美


2025-06-15 11:08:56 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 搭配


2025-06-15 11:08:56 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。




2025-06-15 11:08:56 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 


2025-06-15 11:08:56 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 11:08:56 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 2


2025-06-15 11:08:56 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: .


2025-06-15 11:08:56 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 11:08:56 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 阅读


2025-06-15 11:08:56 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 一本


2025-06-15 11:08:56 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 好


2025-06-15 11:08:56 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 书


2025-06-15 11:08:56 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 



2025-06-15 11:08:56 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:   


2025-06-15 11:08:57 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  -


2025-06-15 11:08:57 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  雨


2025-06-15 11:08:57 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 天


2025-06-15 11:08:57 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 是


2025-06-15 11:08:57 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 阅读


2025-06-15 11:08:57 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的最佳


2025-06-15 11:08:57 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 时机


2025-06-15 11:08:57 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ！


2025-06-15 11:08:57 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 选


2025-06-15 11:08:57 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 一本


2025-06-15 11:08:57 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 你喜欢


2025-06-15 11:08:57 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 11:08:57 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 书


2025-06-15 11:08:57 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:08:57 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 窝


2025-06-15 11:08:57 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 在


2025-06-15 11:08:58 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 沙发


2025-06-15 11:08:58 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 或


2025-06-15 11:08:58 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 椅子


2025-06-15 11:08:58 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 上


2025-06-15 11:08:58 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:08:58 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 沉浸在


2025-06-15 11:08:58 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 故事


2025-06-15 11:08:58 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 中


2025-06-15 11:08:58 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。




2025-06-15 11:08:58 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 


2025-06-15 11:08:58 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 11:08:58 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 3


2025-06-15 11:08:58 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: .


2025-06-15 11:08:58 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 11:08:58 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 学习


2025-06-15 11:08:58 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 新


2025-06-15 11:08:58 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 技能


2025-06-15 11:08:58 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 



2025-06-15 11:08:58 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:   


2025-06-15 11:08:59 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  -


2025-06-15 11:08:59 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  利


2025-06-15 11:08:59 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 用


2025-06-15 11:08:59 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 雨


2025-06-15 11:08:59 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 天


2025-06-15 11:08:59 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的时间


2025-06-15 11:08:59 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 学习


2025-06-15 11:08:59 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 一项


2025-06-15 11:08:59 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 新


2025-06-15 11:08:59 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 技能


2025-06-15 11:08:59 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:08:59 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 比如


2025-06-15 11:08:59 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 弹


2025-06-15 11:08:59 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 吉他


2025-06-15 11:08:59 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 、


2025-06-15 11:08:59 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 学


2025-06-15 11:08:59 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 画画


2025-06-15 11:08:59 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 、


2025-06-15 11:09:00 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 做


2025-06-15 11:09:00 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 手工


2025-06-15 11:09:00 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 、


2025-06-15 11:09:00 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 学


2025-06-15 11:09:00 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 编程


2025-06-15 11:09:00 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:09:00 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 或者


2025-06-15 11:09:00 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 提升


2025-06-15 11:09:00 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 语言


2025-06-15 11:09:00 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 能力


2025-06-15 11:09:00 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。




2025-06-15 11:09:00 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 


2025-06-15 11:09:00 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 11:09:00 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 4


2025-06-15 11:09:00 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: .


2025-06-15 11:09:00 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 11:09:00 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 写


2025-06-15 11:09:00 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 日记


2025-06-15 11:09:01 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 或


2025-06-15 11:09:01 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 创作


2025-06-15 11:09:01 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 



2025-06-15 11:09:01 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:   


2025-06-15 11:09:01 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  -


2025-06-15 11:09:01 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  雨


2025-06-15 11:09:01 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 天


2025-06-15 11:09:01 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 11:09:01 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 氛围


2025-06-15 11:09:01 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 很


2025-06-15 11:09:01 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 适合


2025-06-15 11:09:01 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 写作


2025-06-15 11:09:01 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。


2025-06-15 11:09:01 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 你可以


2025-06-15 11:09:01 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 写


2025-06-15 11:09:01 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 日记


2025-06-15 11:09:02 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 、


2025-06-15 11:09:02 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 创作


2025-06-15 11:09:02 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 故事


2025-06-15 11:09:02 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 、


2025-06-15 11:09:02 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 写


2025-06-15 11:09:02 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 诗


2025-06-15 11:09:02 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:09:02 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 或者


2025-06-15 11:09:02 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 记录


2025-06-15 11:09:02 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 自己的


2025-06-15 11:09:02 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 心情


2025-06-15 11:09:02 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。




2025-06-15 11:09:02 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 


2025-06-15 11:09:02 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 11:09:03 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 5


2025-06-15 11:09:03 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: .


2025-06-15 11:09:03 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 11:09:03 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 听


2025-06-15 11:09:03 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 音乐


2025-06-15 11:09:03 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 或


2025-06-15 11:09:03 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 看


2025-06-15 11:09:03 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 一场


2025-06-15 11:09:03 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 电影


2025-06-15 11:09:03 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 



2025-06-15 11:09:03 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:   


2025-06-15 11:09:03 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  -


2025-06-15 11:09:03 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  找


2025-06-15 11:09:03 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 一部


2025-06-15 11:09:04 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 喜欢


2025-06-15 11:09:04 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 11:09:04 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 电影


2025-06-15 11:09:04 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:09:04 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 或者


2025-06-15 11:09:04 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 听


2025-06-15 11:09:04 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 一张


2025-06-15 11:09:04 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 喜欢


2025-06-15 11:09:04 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 11:09:04 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 专辑


2025-06-15 11:09:04 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:09:04 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 感受


2025-06-15 11:09:04 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 音乐


2025-06-15 11:09:04 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 和


2025-06-15 11:09:04 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 电影


2025-06-15 11:09:04 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 带来的


2025-06-15 11:09:04 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 治愈


2025-06-15 11:09:04 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 感


2025-06-15 11:09:05 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。




2025-06-15 11:09:05 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 


2025-06-15 11:09:05 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 11:09:05 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 6


2025-06-15 11:09:05 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: .


2025-06-15 11:09:05 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 11:09:05 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 尝试


2025-06-15 11:09:05 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 新


2025-06-15 11:09:05 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 食


2025-06-15 11:09:05 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 谱


2025-06-15 11:09:05 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 



2025-06-15 11:09:05 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:   


2025-06-15 11:09:05 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  -


2025-06-15 11:09:05 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  在


2025-06-15 11:09:05 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 家


2025-06-15 11:09:05 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 做


2025-06-15 11:09:05 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 一顿


2025-06-15 11:09:06 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 丰


2025-06-15 11:09:06 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 盛


2025-06-15 11:09:06 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 11:09:06 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 晚餐


2025-06-15 11:09:06 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:09:06 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 或者


2025-06-15 11:09:06 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 尝试


2025-06-15 11:09:06 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 一些


2025-06-15 11:09:06 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 平时


2025-06-15 11:09:06 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 没


2025-06-15 11:09:06 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 时间


2025-06-15 11:09:06 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 做的


2025-06-15 11:09:06 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 美食


2025-06-15 11:09:06 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。


2025-06-15 11:09:06 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 雨


2025-06-15 11:09:06 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 天


2025-06-15 11:09:06 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 11:09:06 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 氛围


2025-06-15 11:09:06 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 很


2025-06-15 11:09:07 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 适合


2025-06-15 11:09:07 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 享受


2025-06-15 11:09:07 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 美食


2025-06-15 11:09:07 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。




2025-06-15 11:09:07 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 


2025-06-15 11:09:07 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 11:09:07 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 7


2025-06-15 11:09:07 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: .


2025-06-15 11:09:07 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 11:09:07 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 整理


2025-06-15 11:09:07 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 房间


2025-06-15 11:09:07 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 



2025-06-15 11:09:07 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:   


2025-06-15 11:09:07 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  -


2025-06-15 11:09:07 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  利


2025-06-15 11:09:07 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 用


2025-06-15 11:09:07 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 雨


2025-06-15 11:09:08 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 天


2025-06-15 11:09:08 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的时间


2025-06-15 11:09:08 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 整理


2025-06-15 11:09:08 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 房间


2025-06-15 11:09:08 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:09:08 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 清理


2025-06-15 11:09:08 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 杂物


2025-06-15 11:09:08 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:09:08 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 给


2025-06-15 11:09:08 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 家里


2025-06-15 11:09:08 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 来


2025-06-15 11:09:08 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 个


2025-06-15 11:09:08 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 大


2025-06-15 11:09:08 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 扫


2025-06-15 11:09:08 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 除


2025-06-15 11:09:08 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。


2025-06-15 11:09:08 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 完成后


2025-06-15 11:09:08 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 会


2025-06-15 11:09:09 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 感到


2025-06-15 11:09:09 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 特别


2025-06-15 11:09:09 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 放松


2025-06-15 11:09:09 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。




2025-06-15 11:09:09 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 


2025-06-15 11:09:09 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 11:09:09 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 8


2025-06-15 11:09:09 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: .


2025-06-15 11:09:09 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 11:09:09 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 冥


2025-06-15 11:09:09 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 想


2025-06-15 11:09:09 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 或


2025-06-15 11:09:09 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 瑜伽


2025-06-15 11:09:09 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 



2025-06-15 11:09:09 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:   


2025-06-15 11:09:10 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  -


2025-06-15 11:09:10 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  雨


2025-06-15 11:09:10 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 天


2025-06-15 11:09:10 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 11:09:10 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 宁静


2025-06-15 11:09:10 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 氛围


2025-06-15 11:09:10 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 非常适合


2025-06-15 11:09:10 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 冥


2025-06-15 11:09:10 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 想


2025-06-15 11:09:10 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 或


2025-06-15 11:09:10 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 做


2025-06-15 11:09:10 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 瑜伽


2025-06-15 11:09:10 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:09:10 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 帮助


2025-06-15 11:09:10 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 你


2025-06-15 11:09:10 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 放松


2025-06-15 11:09:10 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 身心


2025-06-15 11:09:10 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:09:10 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 缓解


2025-06-15 11:09:10 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 压力


2025-06-15 11:09:11 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。




2025-06-15 11:09:11 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 


2025-06-15 11:09:11 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 11:09:11 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 9


2025-06-15 11:09:11 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: .


2025-06-15 11:09:11 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 11:09:11 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 画画


2025-06-15 11:09:11 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 或


2025-06-15 11:09:11 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 手工


2025-06-15 11:09:11 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 创作


2025-06-15 11:09:11 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 



2025-06-15 11:09:11 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:   


2025-06-15 11:09:11 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  -


2025-06-15 11:09:11 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  如果


2025-06-15 11:09:11 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 你


2025-06-15 11:09:11 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 有


2025-06-15 11:09:11 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 绘画


2025-06-15 11:09:12 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 或


2025-06-15 11:09:12 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 手工


2025-06-15 11:09:12 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的兴趣


2025-06-15 11:09:12 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:09:12 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 雨


2025-06-15 11:09:12 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 天


2025-06-15 11:09:12 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 是个


2025-06-15 11:09:12 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 不错的


2025-06-15 11:09:12 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 创作


2025-06-15 11:09:12 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 时机


2025-06-15 11:09:12 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。


2025-06-15 11:09:12 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 画


2025-06-15 11:09:12 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 一幅


2025-06-15 11:09:12 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 画


2025-06-15 11:09:12 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 、


2025-06-15 11:09:12 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 做


2025-06-15 11:09:12 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 手工


2025-06-15 11:09:13 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:09:13 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 或者


2025-06-15 11:09:13 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 制作


2025-06-15 11:09:13 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 一些


2025-06-15 11:09:13 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 小


2025-06-15 11:09:13 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 装饰


2025-06-15 11:09:13 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。




2025-06-15 11:09:13 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 


2025-06-15 11:09:13 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 11:09:13 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 1


2025-06-15 11:09:13 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 0


2025-06-15 11:09:13 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: .


2025-06-15 11:09:13 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 11:09:13 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 和


2025-06-15 11:09:13 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 朋友


2025-06-15 11:09:13 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 聊天


2025-06-15 11:09:13 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 



2025-06-15 11:09:14 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:   


2025-06-15 11:09:14 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  -


2025-06-15 11:09:14 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  如果


2025-06-15 11:09:14 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 天气


2025-06-15 11:09:14 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 不适合


2025-06-15 11:09:14 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 外出


2025-06-15 11:09:14 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:09:14 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 可以


2025-06-15 11:09:14 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 和


2025-06-15 11:09:14 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 朋友


2025-06-15 11:09:14 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 视频


2025-06-15 11:09:14 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 聊天


2025-06-15 11:09:14 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:09:14 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 分享


2025-06-15 11:09:14 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 彼此


2025-06-15 11:09:14 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的生活


2025-06-15 11:09:14 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:09:14 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 或者


2025-06-15 11:09:15 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 一起


2025-06-15 11:09:15 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 玩


2025-06-15 11:09:15 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 在线


2025-06-15 11:09:15 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 游戏


2025-06-15 11:09:15 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。




2025-06-15 11:09:15 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 


2025-06-15 11:09:15 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 11:09:15 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 1


2025-06-15 11:09:15 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 1


2025-06-15 11:09:15 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: .


2025-06-15 11:09:15 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 11:09:15 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 泡


2025-06-15 11:09:15 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 一杯


2025-06-15 11:09:15 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 香


2025-06-15 11:09:15 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 薰


2025-06-15 11:09:15 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 蜡


2025-06-15 11:09:15 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 烛


2025-06-15 11:09:15 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 



2025-06-15 11:09:15 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:   


2025-06-15 11:09:16 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  -


2025-06-15 11:09:16 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  点


2025-06-15 11:09:16 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 上


2025-06-15 11:09:16 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 一支


2025-06-15 11:09:16 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 喜欢


2025-06-15 11:09:16 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 11:09:16 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 香


2025-06-15 11:09:16 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 薰


2025-06-15 11:09:16 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 蜡


2025-06-15 11:09:16 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 烛


2025-06-15 11:09:16 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:09:16 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 感受


2025-06-15 11:09:16 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 香气


2025-06-15 11:09:16 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 和


2025-06-15 11:09:16 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 雨


2025-06-15 11:09:16 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 声


2025-06-15 11:09:16 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 带来的


2025-06-15 11:09:16 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 放松


2025-06-15 11:09:17 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 感


2025-06-15 11:09:17 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。




2025-06-15 11:09:17 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 


2025-06-15 11:09:17 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 11:09:17 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 1


2025-06-15 11:09:17 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 2


2025-06-15 11:09:17 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: .


2025-06-15 11:09:17 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 11:09:17 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 观察


2025-06-15 11:09:17 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 雨


2025-06-15 11:09:17 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 景


2025-06-15 11:09:17 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 



2025-06-15 11:09:17 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:   


2025-06-15 11:09:17 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  -


2025-06-15 11:09:17 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  如果


2025-06-15 11:09:17 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 喜欢


2025-06-15 11:09:18 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 下雨


2025-06-15 11:09:18 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 11:09:18 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 氛围


2025-06-15 11:09:18 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:09:18 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 可以


2025-06-15 11:09:18 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 坐在


2025-06-15 11:09:18 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 窗


2025-06-15 11:09:18 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 边


2025-06-15 11:09:18 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:09:18 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 静静地


2025-06-15 11:09:18 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 观察


2025-06-15 11:09:18 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 雨


2025-06-15 11:09:18 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 景


2025-06-15 11:09:18 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:09:18 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 感受


2025-06-15 11:09:18 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 大自然


2025-06-15 11:09:18 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 11:09:18 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 宁静


2025-06-15 11:09:18 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。




2025-06-15 11:09:19 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 


2025-06-15 11:09:19 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 11:09:19 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 1


2025-06-15 11:09:19 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 3


2025-06-15 11:09:19 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: .


2025-06-15 11:09:19 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  


2025-06-15 11:09:19 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 尝试


2025-06-15 11:09:19 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 雨


2025-06-15 11:09:19 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 中


2025-06-15 11:09:19 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 散步


2025-06-15 11:09:19 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: （


2025-06-15 11:09:19 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 小心


2025-06-15 11:09:19 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 地


2025-06-15 11:09:19 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 滑


2025-06-15 11:09:19 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ）


2025-06-15 11:09:19 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 



2025-06-15 11:09:19 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:   


2025-06-15 11:09:19 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  -


2025-06-15 11:09:20 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data:  如果


2025-06-15 11:09:20 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 雨


2025-06-15 11:09:20 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 不大


2025-06-15 11:09:20 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:09:20 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 可以


2025-06-15 11:09:20 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 穿


2025-06-15 11:09:20 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 好


2025-06-15 11:09:20 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 雨


2025-06-15 11:09:20 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 具


2025-06-15 11:09:20 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:09:20 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 去


2025-06-15 11:09:20 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 户外


2025-06-15 11:09:20 [boundedElastic-6] INFO  c.e.qasystem.service.ChatService - Streaming response completed for userId: 6, response: data: 



data: 下雨

data: 天

data: 确实

data: 是个

data: 享受

data: 宁静

data: 和

data: 放松

data: 的好

data: 机会

data: ！

data: 以下

data: 是一

data: 些

data: 适合

data: 在

data: 下雨

data: 天

data: 做的事情

data: ，

data: 希望能

data: 给你

data: 灵感

data: ：



data: 

data:  

data: 1

data: .

data:  

data: 享受

data: 一杯

data: 热

data: 饮

data: 


data:   

data:  -

data:  喝

data: 一杯

data: 热

data: 茶

data: 、

data: 咖啡

data: 或

data: 热

data: 可

data: 可

data: ，

data: 感受

data: 温暖

data: 从

data: 内

data: 而

data: 外

data: 的

data: 蔓延

data: 。

data: 雨

data: 声

data: 和

data: 热

data: 饮

data: 的

data: 香气

data: 完美

data: 搭配

data: 。



data: 

data:  

data: 2

data: .

data:  

data: 阅读

data: 一本

data: 好

data: 书

data: 


data:   

data:  -

data:  雨

data: 天

data: 是

data: 阅读

data: 的最佳

data: 时机

data: ！

data: 选

data: 一本

data: 你喜欢

data: 的

data: 书

data: ，

data: 窝

data: 在

data: 沙发

data: 或

data: 椅子

data: 上

data: ，

data: 沉浸在

data: 故事

data: 中

data: 。



data: 

data:  

data: 3

data: .

data:  

data: 学习

data: 新

data: 技能

data: 


data:   

data:  -

data:  利

data: 用

data: 雨

data: 天

data: 的时间

data: 学习

data: 一项

data: 新

data: 技能

data: ，

data: 比如

data: 弹

data: 吉他

data: 、

data: 学

data: 画画

data: 、

data: 做

data: 手工

data: 、

data: 学

data: 编程

data: ，

data: 或者

data: 提升

data: 语言

data: 能力

data: 。



data: 

data:  

data: 4

data: .

data:  

data: 写

data: 日记

data: 或

data: 创作

data: 


data:   

data:  -

data:  雨

data: 天

data: 的

data: 氛围

data: 很

data: 适合

data: 写作

data: 。

data: 你可以

data: 写

data: 日记

data: 、

data: 创作

data: 故事

data: 、

data: 写

data: 诗

data: ，

data: 或者

data: 记录

data: 自己的

data: 心情

data: 。



data: 

data:  

data: 5

data: .

data:  

data: 听

data: 音乐

data: 或

data: 看

data: 一场

data: 电影

data: 


data:   

data:  -

data:  找

data: 一部

data: 喜欢

data: 的

data: 电影

data: ，

data: 或者

data: 听

data: 一张

data: 喜欢

data: 的

data: 专辑

data: ，

data: 感受

data: 音乐

data: 和

data: 电影

data: 带来的

data: 治愈

data: 感

data: 。



data: 

data:  

data: 6

data: .

data:  

data: 尝试

data: 新

data: 食

data: 谱

data: 


data:   

data:  -

data:  在

data: 家

data: 做

data: 一顿

data: 丰

data: 盛

data: 的

data: 晚餐

data: ，

data: 或者

data: 尝试

data: 一些

data: 平时

data: 没

data: 时间

data: 做的

data: 美食

data: 。

data: 雨

data: 天

data: 的

data: 氛围

data: 很

data: 适合

data: 享受

data: 美食

data: 。



data: 

data:  

data: 7

data: .

data:  

data: 整理

data: 房间

data: 


data:   

data:  -

data:  利

data: 用

data: 雨

data: 天

data: 的时间

data: 整理

data: 房间

data: ，

data: 清理

data: 杂物

data: ，

data: 给

data: 家里

data: 来

data: 个

data: 大

data: 扫

data: 除

data: 。

data: 完成后

data: 会

data: 感到

data: 特别

data: 放松

data: 。



data: 

data:  

data: 8

data: .

data:  

data: 冥

data: 想

data: 或

data: 瑜伽

data: 


data:   

data:  -

data:  雨

data: 天

data: 的

data: 宁静

data: 氛围

data: 非常适合

data: 冥

data: 想

data: 或

data: 做

data: 瑜伽

data: ，

data: 帮助

data: 你

data: 放松

data: 身心

data: ，

data: 缓解

data: 压力

data: 。



data: 

data:  

data: 9

data: .

data:  

data: 画画

data: 或

data: 手工

data: 创作

data: 


data:   

data:  -

data:  如果

data: 你

data: 有

data: 绘画

data: 或

data: 手工

data: 的兴趣

data: ，

data: 雨

data: 天

data: 是个

data: 不错的

data: 创作

data: 时机

data: 。

data: 画

data: 一幅

data: 画

data: 、

data: 做

data: 手工

data: ，

data: 或者

data: 制作

data: 一些

data: 小

data: 装饰

data: 。



data: 

data:  

data: 1

data: 0

data: .

data:  

data: 和

data: 朋友

data: 聊天

data: 


data:   

data:  -

data:  如果

data: 天气

data: 不适合

data: 外出

data: ，

data: 可以

data: 和

data: 朋友

data: 视频

data: 聊天

data: ，

data: 分享

data: 彼此

data: 的生活

data: ，

data: 或者

data: 一起

data: 玩

data: 在线

data: 游戏

data: 。



data: 

data:  

data: 1

data: 1

data: .

data:  

data: 泡

data: 一杯

data: 香

data: 薰

data: 蜡

data: 烛

data: 


data:   

data:  -

data:  点

data: 上

data: 一支

data: 喜欢

data: 的

data: 香

data: 薰

data: 蜡

data: 烛

data: ，

data: 感受

data: 香气

data: 和

data: 雨

data: 声

data: 带来的

data: 放松

data: 感

data: 。



data: 

data:  

data: 1

data: 2

data: .

data:  

data: 观察

data: 雨

data: 景

data: 


data:   

data:  -

data:  如果

data: 喜欢

data: 下雨

data: 的

data: 氛围

data: ，

data: 可以

data: 坐在

data: 窗

data: 边

data: ，

data: 静静地

data: 观察

data: 雨

data: 景

data: ，

data: 感受

data: 大自然

data: 的

data: 宁静

data: 。



data: 

data:  

data: 1

data: 3

data: .

data:  

data: 尝试

data: 雨

data: 中

data: 散步

data: （

data: 小心

data: 地

data: 滑

data: ）

data: 


data:   

data:  -

data:  如果

data: 雨

data: 不大

data: ，

data: 可以

data: 穿

data: 好

data: 雨

data: 具

data: ，

data: 去

data: 户外


2025-06-15 11:09:20 [boundedElastic-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 11:09:20 [boundedElastic-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29025bd9] was not registered for synchronization because synchronization is not active
2025-06-15 11:09:20 [boundedElastic-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 10:53:56.709, closeCount=0, lastValidateTimeMillis=2025-06-15 11:08:00.718}] will not be managed by Spring
2025-06-15 11:09:20 [boundedElastic-6] DEBUG c.e.q.m.C.updateChatHistory - ==>  Preparing: Update chat_history SET ai_response = ? where version = ?
2025-06-15 11:09:20 [boundedElastic-6] DEBUG c.e.q.m.C.updateChatHistory - ==> Parameters: data: 



data: 下雨

data: 天

data: 确实

data: 是个

data: 享受

data: 宁静

data: 和

data: 放松

data: 的好

data: 机会

data: ！

data: 以下

data: 是一

data: 些

data: 适合

data: 在

data: 下雨

data: 天

data: 做的事情

data: ，

data: 希望能

data: 给你

data: 灵感

data: ：



data: 

data:  

data: 1

data: .

data:  

data: 享受

data: 一杯

data: 热

data: 饮

data: 


data:   

data:  -

data:  喝

data: 一杯

data: 热

data: 茶

data: 、

data: 咖啡

data: 或

data: 热

data: 可

data: 可

data: ，

data: 感受

data: 温暖

data: 从

data: 内

data: 而

data: 外

data: 的

data: 蔓延

data: 。

data: 雨

data: 声

data: 和

data: 热

data: 饮

data: 的

data: 香气

data: 完美

data: 搭配

data: 。



data: 

data:  

data: 2

data: .

data:  

data: 阅读

data: 一本

data: 好

data: 书

data: 


data:   

data:  -

data:  雨

data: 天

data: 是

data: 阅读

data: 的最佳

data: 时机

data: ！

data: 选

data: 一本

data: 你喜欢

data: 的

data: 书

data: ，

data: 窝

data: 在

data: 沙发

data: 或

data: 椅子

data: 上

data: ，

data: 沉浸在

data: 故事

data: 中

data: 。



data: 

data:  

data: 3

data: .

data:  

data: 学习

data: 新

data: 技能

data: 


data:   

data:  -

data:  利

data: 用

data: 雨

data: 天

data: 的时间

data: 学习

data: 一项

data: 新

data: 技能

data: ，

data: 比如

data: 弹

data: 吉他

data: 、

data: 学

data: 画画

data: 、

data: 做

data: 手工

data: 、

data: 学

data: 编程

data: ，

data: 或者

data: 提升

data: 语言

data: 能力

data: 。



data: 

data:  

data: 4

data: .

data:  

data: 写

data: 日记

data: 或

data: 创作

data: 


data:   

data:  -

data:  雨

data: 天

data: 的

data: 氛围

data: 很

data: 适合

data: 写作

data: 。

data: 你可以

data: 写

data: 日记

data: 、

data: 创作

data: 故事

data: 、

data: 写

data: 诗

data: ，

data: 或者

data: 记录

data: 自己的

data: 心情

data: 。



data: 

data:  

data: 5

data: .

data:  

data: 听

data: 音乐

data: 或

data: 看

data: 一场

data: 电影

data: 


data:   

data:  -

data:  找

data: 一部

data: 喜欢

data: 的

data: 电影

data: ，

data: 或者

data: 听

data: 一张

data: 喜欢

data: 的

data: 专辑

data: ，

data: 感受

data: 音乐

data: 和

data: 电影

data: 带来的

data: 治愈

data: 感

data: 。



data: 

data:  

data: 6

data: .

data:  

data: 尝试

data: 新

data: 食

data: 谱

data: 


data:   

data:  -

data:  在

data: 家

data: 做

data: 一顿

data: 丰

data: 盛

data: 的

data: 晚餐

data: ，

data: 或者

data: 尝试

data: 一些

data: 平时

data: 没

data: 时间

data: 做的

data: 美食

data: 。

data: 雨

data: 天

data: 的

data: 氛围

data: 很

data: 适合

data: 享受

data: 美食

data: 。



data: 

data:  

data: 7

data: .

data:  

data: 整理

data: 房间

data: 


data:   

data:  -

data:  利

data: 用

data: 雨

data: 天

data: 的时间

data: 整理

data: 房间

data: ，

data: 清理

data: 杂物

data: ，

data: 给

data: 家里

data: 来

data: 个

data: 大

data: 扫

data: 除

data: 。

data: 完成后

data: 会

data: 感到

data: 特别

data: 放松

data: 。



data: 

data:  

data: 8

data: .

data:  

data: 冥

data: 想

data: 或

data: 瑜伽

data: 


data:   

data:  -

data:  雨

data: 天

data: 的

data: 宁静

data: 氛围

data: 非常适合

data: 冥

data: 想

data: 或

data: 做

data: 瑜伽

data: ，

data: 帮助

data: 你

data: 放松

data: 身心

data: ，

data: 缓解

data: 压力

data: 。



data: 

data:  

data: 9

data: .

data:  

data: 画画

data: 或

data: 手工

data: 创作

data: 


data:   

data:  -

data:  如果

data: 你

data: 有

data: 绘画

data: 或

data: 手工

data: 的兴趣

data: ，

data: 雨

data: 天

data: 是个

data: 不错的

data: 创作

data: 时机

data: 。

data: 画

data: 一幅

data: 画

data: 、

data: 做

data: 手工

data: ，

data: 或者

data: 制作

data: 一些

data: 小

data: 装饰

data: 。



data: 

data:  

data: 1

data: 0

data: .

data:  

data: 和

data: 朋友

data: 聊天

data: 


data:   

data:  -

data:  如果

data: 天气

data: 不适合

data: 外出

data: ，

data: 可以

data: 和

data: 朋友

data: 视频

data: 聊天

data: ，

data: 分享

data: 彼此

data: 的生活

data: ，

data: 或者

data: 一起

data: 玩

data: 在线

data: 游戏

data: 。



data: 

data:  

data: 1

data: 1

data: .

data:  

data: 泡

data: 一杯

data: 香

data: 薰

data: 蜡

data: 烛

data: 


data:   

data:  -

data:  点

data: 上

data: 一支

data: 喜欢

data: 的

data: 香

data: 薰

data: 蜡

data: 烛

data: ，

data: 感受

data: 香气

data: 和

data: 雨

data: 声

data: 带来的

data: 放松

data: 感

data: 。



data: 

data:  

data: 1

data: 2

data: .

data:  

data: 观察

data: 雨

data: 景

data: 


data:   

data:  -

data:  如果

data: 喜欢

data: 下雨

data: 的

data: 氛围

data: ，

data: 可以

data: 坐在

data: 窗

data: 边

data: ，

data: 静静地

data: 观察

data: 雨

data: 景

data: ，

data: 感受

data: 大自然

data: 的

data: 宁静

data: 。



data: 

data:  

data: 1

data: 3

data: .

data:  

data: 尝试

data: 雨

data: 中

data: 散步

data: （

data: 小心

data: 地

data: 滑

data: ）

data: 


data:   

data:  -

data:  如果

data: 雨

data: 不大

data: ，

data: 可以

data: 穿

data: 好

data: 雨

data: 具

data: ，

data: 去

data: 户外

(String), 44(Long)
2025-06-15 11:09:20 [boundedElastic-6] DEBUG c.e.q.m.C.updateChatHistory - <==    Updates: 1
2025-06-15 11:09:20 [boundedElastic-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29025bd9]
2025-06-15 11:09:20 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Updated AI response to chat history
2025-06-15 11:20:08 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-06-15 11:20:08 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 11:20:08 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-06-15 11:20:09 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 11:20:09 [Thread-7] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-06-15 11:20:09 [Thread-7] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-06-15 11:20:09 [Thread-7] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-06-15 11:20:09 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 41700 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 11:20:09 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 11:20:09 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 11:20:09 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 11:20:09 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 11:20:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 11:20:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 11:20:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 0 JDBC repository interfaces.
2025-06-15 11:20:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 11:20:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 11:20:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-06-15 11:20:09 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 11:20:09 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 11:20:09 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 11:20:09 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 11:20:09 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 11:20:09 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 11:20:09 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 11:20:09 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 11:20:09 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 11:20:09 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 11:20:09 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 11:20:09 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 282 ms
2025-06-15 11:20:09 [restartedMain] WARN  o.a.c.c.C.[Tomcat].[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [AF4166A9DBFF2304F0B6BBC1B734FE47]
2025-06-15 11:20:09 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 11:20:09 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-2} inited
2025-06-15 11:20:09 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 11:20:09 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 11:20:09 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 11:20:09 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'chatController' defined in file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\controller\ChatController.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.example.qasystem.service.ChatService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-06-15 11:20:09 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-2} closing ...
2025-06-15 11:20:09 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-2} closed
2025-06-15 11:20:09 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-15 11:20:09 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-15 11:20:09 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.example.qasystem.controller.ChatController required a bean of type 'com.example.qasystem.service.ChatService' that could not be found.


Action:

Consider defining a bean of type 'com.example.qasystem.service.ChatService' in your configuration.

2025-06-15 11:20:11 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 41700 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 11:20:11 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 11:20:11 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 11:20:11 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 11:20:11 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 11:20:11 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 11:20:11 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 11:20:11 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 JDBC repository interfaces.
2025-06-15 11:20:11 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 11:20:11 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 11:20:11 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-06-15 11:20:11 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 11:20:11 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 11:20:11 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 11:20:11 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 11:20:11 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 11:20:11 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 11:20:11 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 11:20:11 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 11:20:11 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 11:20:11 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 11:20:11 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 11:20:11 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 235 ms
2025-06-15 11:20:11 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 11:20:11 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-3} inited
2025-06-15 11:20:11 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 11:20:11 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 11:20:11 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 11:20:11 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 11:20:11 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 11:20:11 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 11:20:11 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 11:20:11 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 11:20:11 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 11:20:11 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 11:20:11 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 0.577 seconds (process running for 1577.73)
2025-06-15 11:20:11 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-06-15 11:20:41 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 1 deletion, 1 modification)
2025-06-15 11:20:41 [Thread-26] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 11:20:41 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-06-15 11:20:41 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 11:20:41 [Thread-26] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-06-15 11:20:41 [Thread-26] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-3} closing ...
2025-06-15 11:20:41 [Thread-26] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-3} closed
2025-06-15 11:20:41 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 41700 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 11:20:41 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 11:20:41 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 11:20:42 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 11:20:42 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 11:20:42 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 11:20:42 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 11:20:42 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 JDBC repository interfaces.
2025-06-15 11:20:42 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 11:20:42 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 11:20:42 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-06-15 11:20:42 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 11:20:42 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 11:20:42 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 11:20:42 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 11:20:42 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 11:20:42 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 11:20:42 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 11:20:42 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 11:20:42 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 11:20:42 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 11:20:42 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 11:20:42 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 199 ms
2025-06-15 11:20:42 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 11:20:42 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-4} inited
2025-06-15 11:20:42 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 11:20:42 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 11:20:42 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 11:20:42 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 11:20:42 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 11:20:42 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 11:20:42 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 11:20:42 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 11:20:42 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 11:20:42 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 11:20:42 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 0.506 seconds (process running for 1608.315)
2025-06-15 11:20:42 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-06-15 11:20:43 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-06-15 11:20:43 [Thread-35] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 11:20:43 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-06-15 11:20:44 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 11:20:44 [Thread-35] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-06-15 11:20:44 [Thread-35] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-4} closing ...
2025-06-15 11:20:44 [Thread-35] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-4} closed
2025-06-15 11:20:44 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 41700 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 11:20:44 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 11:20:44 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 11:20:44 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 11:20:44 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 11:20:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 11:20:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 11:20:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 JDBC repository interfaces.
2025-06-15 11:20:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 11:20:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 11:20:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-06-15 11:20:44 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 11:20:44 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 11:20:44 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 11:20:44 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 11:20:44 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 11:20:44 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 11:20:44 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 11:20:44 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 11:20:44 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 11:20:44 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 11:20:44 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 11:20:44 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 172 ms
2025-06-15 11:20:44 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 11:20:44 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-5} inited
2025-06-15 11:20:44 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 11:20:44 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 11:20:44 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 11:20:44 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 11:20:44 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 11:20:44 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 11:20:44 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 11:20:44 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 11:20:44 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 11:20:44 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 11:20:44 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 0.491 seconds (process running for 1610.421)
2025-06-15 11:20:44 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-06-15 11:20:47 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-15 11:20:47 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-15 11:20:47 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-15 11:20:47 [http-nio-8080-exec-10] DEBUG c.e.q.controller.UserController - 显示登录页面
2025-06-15 11:28:21 [http-nio-8080-exec-5] DEBUG c.e.q.controller.UserController - 显示登录页面
2025-06-15 11:28:26 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 11:28:26 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e681e02] was not registered for synchronization because synchronization is not active
2025-06-15 11:28:26 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 11:20:44.334, closeCount=0, lastValidateTimeMillis=2025-06-15 11:28:26.824}] will not be managed by Spring
2025-06-15 11:28:26 [http-nio-8080-exec-6] DEBUG c.e.q.mapper.UserMapper.findByUser - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 11:28:26 [http-nio-8080-exec-6] DEBUG c.e.q.mapper.UserMapper.findByUser - ==> Parameters: ls1(String)
2025-06-15 11:28:26 [http-nio-8080-exec-6] DEBUG c.e.q.mapper.UserMapper.findByUser - <==      Total: 1
2025-06-15 11:28:26 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e681e02]
2025-06-15 11:28:26 [http-nio-8080-exec-8] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 11:28:26 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 11:28:26 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 11:28:26 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68220af8] was not registered for synchronization because synchronization is not active
2025-06-15 11:28:26 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 11:20:44.334, closeCount=0, lastValidateTimeMillis=2025-06-15 11:28:26.824}] will not be managed by Spring
2025-06-15 11:28:26 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 11:28:26 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 11:28:26 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 11:28:26 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68220af8]
2025-06-15 11:28:26 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 11:28:27 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 11:28:27 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 11:28:27 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@284ef016] was not registered for synchronization because synchronization is not active
2025-06-15 11:28:27 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 11:20:44.334, closeCount=0, lastValidateTimeMillis=2025-06-15 11:28:26.824}] will not be managed by Spring
2025-06-15 11:28:27 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 11:28:27 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 11:28:27 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 11:28:27 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@284ef016]
2025-06-15 11:28:28 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 11:28:28 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b44e7f9] was not registered for synchronization because synchronization is not active
2025-06-15 11:28:28 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 11:20:44.334, closeCount=0, lastValidateTimeMillis=2025-06-15 11:28:26.824}] will not be managed by Spring
2025-06-15 11:28:28 [http-nio-8080-exec-2] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 11:28:28 [http-nio-8080-exec-2] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 16(Long)
2025-06-15 11:28:28 [http-nio-8080-exec-2] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 12
2025-06-15 11:28:28 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b44e7f9]
2025-06-15 11:28:34 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 11:28:34 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76894ce9] was not registered for synchronization because synchronization is not active
2025-06-15 11:28:34 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 11:20:44.334, closeCount=0, lastValidateTimeMillis=2025-06-15 11:28:26.824}] will not be managed by Spring
2025-06-15 11:28:34 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 11:28:34 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 14(Long)
2025-06-15 11:28:34 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 1
2025-06-15 11:28:34 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76894ce9]
2025-06-15 11:28:35 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 11:28:35 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c151b68] was not registered for synchronization because synchronization is not active
2025-06-15 11:28:35 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 11:20:44.334, closeCount=0, lastValidateTimeMillis=2025-06-15 11:28:26.824}] will not be managed by Spring
2025-06-15 11:28:35 [http-nio-8080-exec-4] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 11:28:35 [http-nio-8080-exec-4] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 13(Long)
2025-06-15 11:28:35 [http-nio-8080-exec-4] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 1
2025-06-15 11:28:35 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c151b68]
2025-06-15 11:28:40 [http-nio-8080-exec-6] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 你好
2025-06-15 11:28:40 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 11:28:40 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 11:28:40 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@204995f4] was not registered for synchronization because synchronization is not active
2025-06-15 11:28:40 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 11:20:44.334, closeCount=0, lastValidateTimeMillis=2025-06-15 11:28:26.824}] will not be managed by Spring
2025-06-15 11:28:40 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 11:28:40 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 11:28:40 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 11:28:40 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@204995f4]
2025-06-15 11:28:40 [http-nio-8080-exec-6] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 你好
2025-06-15 11:28:40 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 11:28:40 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31224487]
2025-06-15 11:28:40 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 11:20:44.334, closeCount=0, lastValidateTimeMillis=2025-06-15 11:28:26.824}] will be managed by Spring
2025-06-15 11:28:40 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM chat_history WHERE user_id = ? ORDER BY created_at
2025-06-15 11:28:40 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 11:28:40 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.findByUserId - <==      Total: 51
2025-06-15 11:28:40 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31224487]
2025-06-15 11:28:40 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31224487] from current transaction
2025-06-15 11:28:40 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.insertChatHistory - ==>  Preparing: INSERT INTO chat_history (user_id, user_message, ai_response, version, created_at, conversation_id) VALUES (?, ?, ?,?, ?,?)
2025-06-15 11:28:40 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.insertChatHistory - ==> Parameters: 6(Long), 你好(String), null, 45(Long), 2025-06-15T11:28:40.538106600(LocalDateTime), 14(Long)
2025-06-15 11:28:40 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.insertChatHistory - <==    Updates: 1
2025-06-15 11:28:40 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31224487]
2025-06-15 11:28:40 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.ChatService - 保存历史记录: 你好
2025-06-15 11:28:40 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31224487]
2025-06-15 11:28:40 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31224487]
2025-06-15 11:28:40 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31224487]
2025-06-15 11:28:48 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 你好


2025-06-15 11:28:48 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ！


2025-06-15 11:28:48 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 我


2025-06-15 11:28:49 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 是一个


2025-06-15 11:28:49 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 智能


2025-06-15 11:28:49 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 助手


2025-06-15 11:28:49 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ，


2025-06-15 11:28:49 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 很高兴


2025-06-15 11:28:49 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 为您提供


2025-06-15 11:28:49 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 帮助


2025-06-15 11:28:49 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。


2025-06-15 11:28:49 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 请问


2025-06-15 11:28:49 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 有什么


2025-06-15 11:28:49 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 我可以


2025-06-15 11:28:49 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 为您


2025-06-15 11:28:49 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 解答


2025-06-15 11:28:49 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 或


2025-06-15 11:28:49 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 协助


2025-06-15 11:28:49 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 的


2025-06-15 11:28:49 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 吗


2025-06-15 11:28:49 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: ？


2025-06-15 11:28:49 [boundedElastic-8] INFO  c.e.qasystem.service.ChatService - Streaming response completed for userId: 6, response: 你好

！

我

是一个

智能

助手

，

很高兴

为您提供

帮助

。

请问

有什么

我可以

为您

解答

或

协助

的

吗

？


2025-06-15 11:28:49 [boundedElastic-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 11:28:49 [boundedElastic-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c21ddb5] was not registered for synchronization because synchronization is not active
2025-06-15 11:28:49 [boundedElastic-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 11:20:44.334, closeCount=0, lastValidateTimeMillis=2025-06-15 11:28:26.824}] will not be managed by Spring
2025-06-15 11:28:49 [boundedElastic-8] DEBUG c.e.q.m.C.updateChatHistory - ==>  Preparing: Update chat_history SET ai_response = ? where version = ?
2025-06-15 11:28:49 [boundedElastic-8] DEBUG c.e.q.m.C.updateChatHistory - ==> Parameters: 你好

！

我

是一个

智能

助手

，

很高兴

为您提供

帮助

。

请问

有什么

我可以

为您

解答

或

协助

的

吗

？

(String), 45(Long)
2025-06-15 11:28:49 [boundedElastic-8] DEBUG c.e.q.m.C.updateChatHistory - <==    Updates: 1
2025-06-15 11:28:49 [boundedElastic-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c21ddb5]
2025-06-15 11:28:49 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Updated AI response to chat history
2025-06-15 11:29:46 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 11:29:47 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 11:29:47 [SpringApplicationShutdownHook] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-5} closing ...
2025-06-15 11:29:47 [SpringApplicationShutdownHook] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-5} closed
2025-06-15 12:08:26 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 69512 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 12:08:26 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 12:08:26 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 12:08:27 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-06-15 12:08:27 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-06-15 12:08:27 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 12:08:27 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 12:08:27 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 12:08:27 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 12:08:27 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 0 JDBC repository interfaces.
2025-06-15 12:08:27 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 12:08:27 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 12:08:27 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-06-15 12:08:27 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 12:08:27 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 12:08:27 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 12:08:27 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 12:08:27 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 12:08:27 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 12:08:28 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 12:08:28 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 12:08:28 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 12:08:28 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 12:08:28 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 12:08:28 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1174 ms
2025-06-15 12:08:28 [restartedMain] WARN  o.a.c.c.C.[Tomcat].[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [79D4561DD05CAE110010C734F0A67371]
2025-06-15 12:08:28 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 12:08:28 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-06-15 12:08:28 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 12:08:28 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 12:08:28 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 12:08:28 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 12:08:29 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 12:08:29 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 12:08:29 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 12:08:29 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 12:08:29 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 12:08:29 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 12:08:29 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 3.231 seconds (process running for 3.868)
2025-06-15 12:09:48 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 1 deletion, 1 modification)
2025-06-15 12:09:48 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 12:09:48 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-06-15 12:09:48 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 12:09:48 [Thread-7] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-06-15 12:09:48 [Thread-7] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-06-15 12:09:48 [Thread-7] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-06-15 12:09:48 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 69512 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 12:09:48 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 12:09:48 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 12:09:49 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 12:09:49 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 12:09:49 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 12:09:49 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 12:09:49 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 2 ms. Found 0 JDBC repository interfaces.
2025-06-15 12:09:49 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 12:09:49 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 12:09:49 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-06-15 12:09:49 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 12:09:49 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 12:09:49 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 12:09:49 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 12:09:49 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 12:09:49 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 12:09:49 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 12:09:49 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 12:09:49 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 12:09:49 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 12:09:49 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 12:09:49 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 250 ms
2025-06-15 12:09:49 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 12:09:49 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-2} inited
2025-06-15 12:09:49 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 12:09:49 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 12:09:49 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 12:09:49 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 12:09:49 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 12:09:49 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 12:09:49 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 12:09:49 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 12:09:49 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 12:09:49 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 12:09:49 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 0.597 seconds (process running for 83.561)
2025-06-15 12:09:49 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-06-15 12:09:50 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-06-15 12:09:50 [Thread-9] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 12:09:50 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-06-15 12:09:51 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 12:09:51 [Thread-9] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-06-15 12:09:51 [Thread-9] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-2} closing ...
2025-06-15 12:09:51 [Thread-9] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-2} closed
2025-06-15 12:09:51 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 69512 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 12:09:51 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 12:09:51 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 12:09:51 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 12:09:51 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 12:09:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 12:09:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 12:09:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 JDBC repository interfaces.
2025-06-15 12:09:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 12:09:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 12:09:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-06-15 12:09:51 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 12:09:51 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 12:09:51 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 12:09:51 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 12:09:51 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 12:09:51 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 12:09:51 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 12:09:51 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 12:09:51 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 12:09:51 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 12:09:51 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 12:09:51 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 174 ms
2025-06-15 12:09:51 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 12:09:51 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-3} inited
2025-06-15 12:09:51 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 12:09:51 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 12:09:51 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 12:09:51 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 12:09:51 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 12:09:51 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 12:09:51 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 12:09:51 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 12:09:51 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 12:09:51 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 12:09:51 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 0.504 seconds (process running for 85.723)
2025-06-15 12:09:51 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-06-15 12:09:53 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-15 12:09:53 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-15 12:09:53 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-15 12:09:53 [http-nio-8080-exec-1] DEBUG c.e.q.controller.UserController - 显示登录页面
2025-06-15 12:09:58 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:09:58 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@587cb003] was not registered for synchronization because synchronization is not active
2025-06-15 12:09:58 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:09:51.445, closeCount=0, lastValidateTimeMillis=2025-06-15 12:09:51.445}] will not be managed by Spring
2025-06-15 12:09:58 [http-nio-8080-exec-2] DEBUG c.e.q.mapper.UserMapper.findByUser - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 12:09:59 [http-nio-8080-exec-2] DEBUG c.e.q.mapper.UserMapper.findByUser - ==> Parameters: ls1(String)
2025-06-15 12:09:59 [http-nio-8080-exec-2] DEBUG c.e.q.mapper.UserMapper.findByUser - <==      Total: 1
2025-06-15 12:09:59 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@587cb003]
2025-06-15 12:09:59 [http-nio-8080-exec-5] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 12:09:59 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 12:09:59 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:09:59 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ba040da] was not registered for synchronization because synchronization is not active
2025-06-15 12:09:59 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:09:51.445, closeCount=0, lastValidateTimeMillis=2025-06-15 12:09:51.445}] will not be managed by Spring
2025-06-15 12:09:59 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 12:09:59 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 12:09:59 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 12:09:59 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ba040da]
2025-06-15 12:09:59 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 12:09:59 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 12:09:59 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:09:59 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d3d936] was not registered for synchronization because synchronization is not active
2025-06-15 12:09:59 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:09:51.445, closeCount=0, lastValidateTimeMillis=2025-06-15 12:09:51.445}] will not be managed by Spring
2025-06-15 12:09:59 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 12:09:59 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 12:09:59 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 12:09:59 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d3d936]
2025-06-15 12:10:01 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:10:01 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76848866] was not registered for synchronization because synchronization is not active
2025-06-15 12:10:01 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:09:51.445, closeCount=0, lastValidateTimeMillis=2025-06-15 12:09:51.445}] will not be managed by Spring
2025-06-15 12:10:01 [http-nio-8080-exec-9] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 12:10:01 [http-nio-8080-exec-9] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 16(Long)
2025-06-15 12:10:01 [http-nio-8080-exec-9] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 12
2025-06-15 12:10:01 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76848866]
2025-06-15 12:10:03 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:10:03 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c578f37] was not registered for synchronization because synchronization is not active
2025-06-15 12:10:03 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:09:51.445, closeCount=0, lastValidateTimeMillis=2025-06-15 12:09:51.445}] will not be managed by Spring
2025-06-15 12:10:03 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 12:10:03 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 13(Long)
2025-06-15 12:10:03 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 1
2025-06-15 12:10:03 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c578f37]
2025-06-15 12:10:07 [http-nio-8080-exec-1] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 你好
2025-06-15 12:10:07 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 12:10:07 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:10:07 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12237a9] was not registered for synchronization because synchronization is not active
2025-06-15 12:10:07 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:09:51.445, closeCount=0, lastValidateTimeMillis=2025-06-15 12:09:51.445}] will not be managed by Spring
2025-06-15 12:10:07 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 12:10:07 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 12:10:07 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 12:10:07 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12237a9]
2025-06-15 12:10:07 [http-nio-8080-exec-1] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 你好
2025-06-15 12:10:07 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:10:07 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@667ecd97]
2025-06-15 12:10:07 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:09:51.445, closeCount=0, lastValidateTimeMillis=2025-06-15 12:09:51.445}] will be managed by Spring
2025-06-15 12:10:07 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM chat_history WHERE user_id = ? ORDER BY created_at
2025-06-15 12:10:07 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 12:10:07 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.findByUserId - <==      Total: 52
2025-06-15 12:10:07 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@667ecd97]
2025-06-15 12:10:07 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@667ecd97] from current transaction
2025-06-15 12:10:07 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.insertChatHistory - ==>  Preparing: INSERT INTO chat_history (user_id, user_message, ai_response, version, created_at, conversation_id) VALUES (?, ?, ?,?, ?,?)
2025-06-15 12:10:08 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.insertChatHistory - ==> Parameters: 6(Long), 你好(String), null, 46(Long), 2025-06-15T12:10:07.957028400(LocalDateTime), 13(Long)
2025-06-15 12:10:08 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.insertChatHistory - <==    Updates: 1
2025-06-15 12:10:08 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@667ecd97]
2025-06-15 12:10:08 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.ChatService - 保存历史记录: 你好
2025-06-15 12:10:08 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@667ecd97]
2025-06-15 12:10:08 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@667ecd97]
2025-06-15 12:10:08 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@667ecd97]
2025-06-15 12:10:19 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 你好


2025-06-15 12:10:19 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ！


2025-06-15 12:10:19 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 我是


2025-06-15 12:10:19 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 智能


2025-06-15 12:10:19 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 助手


2025-06-15 12:10:20 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ，


2025-06-15 12:10:20 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 有什么


2025-06-15 12:10:20 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 我可以


2025-06-15 12:10:20 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 帮


2025-06-15 12:10:20 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 你的


2025-06-15 12:10:20 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 吗


2025-06-15 12:10:20 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ？


2025-06-15 12:10:20 [boundedElastic-2] WARN  c.e.qasystem.service.ChatService - Short response detected: 你好

！

我是

智能

助手

，

有什么

我可以

帮

你的

吗

？


2025-06-15 12:10:20 [boundedElastic-2] INFO  c.e.qasystem.service.ChatService - Streaming response completed for userId: 6, response: 你好

！

我是

智能

助手

，

有什么

我可以

帮

你的

吗

？

（回答可能不完整，请尝试重新提问）
2025-06-15 12:10:20 [boundedElastic-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:10:20 [boundedElastic-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c59b329] was not registered for synchronization because synchronization is not active
2025-06-15 12:10:20 [boundedElastic-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:09:51.445, closeCount=0, lastValidateTimeMillis=2025-06-15 12:09:51.445}] will not be managed by Spring
2025-06-15 12:10:20 [boundedElastic-2] DEBUG c.e.q.m.C.updateChatHistory - ==>  Preparing: Update chat_history SET ai_response = ? where version = ?
2025-06-15 12:10:20 [boundedElastic-2] DEBUG c.e.q.m.C.updateChatHistory - ==> Parameters: 你好

！

我是

智能

助手

，

有什么

我可以

帮

你的

吗

？

（回答可能不完整，请尝试重新提问）(String), 46(Long)
2025-06-15 12:10:20 [boundedElastic-2] DEBUG c.e.q.m.C.updateChatHistory - <==    Updates: 1
2025-06-15 12:10:20 [boundedElastic-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c59b329]
2025-06-15 12:10:20 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Updated AI response to chat history
2025-06-15 12:11:05 [http-nio-8080-exec-6] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 你知道台风吗
2025-06-15 12:11:05 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 12:11:05 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:11:05 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71356013] was not registered for synchronization because synchronization is not active
2025-06-15 12:11:05 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:09:51.445, closeCount=0, lastValidateTimeMillis=2025-06-15 12:09:51.445}] will not be managed by Spring
2025-06-15 12:11:05 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 12:11:05 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 12:11:05 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 12:11:05 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71356013]
2025-06-15 12:11:05 [http-nio-8080-exec-6] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 你知道台风吗
2025-06-15 12:11:05 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:11:05 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dcd687f]
2025-06-15 12:11:05 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:09:51.445, closeCount=0, lastValidateTimeMillis=2025-06-15 12:09:51.445}] will be managed by Spring
2025-06-15 12:11:05 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM chat_history WHERE user_id = ? ORDER BY created_at
2025-06-15 12:11:05 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 12:11:05 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.findByUserId - <==      Total: 53
2025-06-15 12:11:05 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dcd687f]
2025-06-15 12:11:05 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dcd687f] from current transaction
2025-06-15 12:11:05 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.insertChatHistory - ==>  Preparing: INSERT INTO chat_history (user_id, user_message, ai_response, version, created_at, conversation_id) VALUES (?, ?, ?,?, ?,?)
2025-06-15 12:11:05 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.insertChatHistory - ==> Parameters: 6(Long), 你知道台风吗(String), null, 47(Long), 2025-06-15T12:11:05.594585300(LocalDateTime), 13(Long)
2025-06-15 12:11:05 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.insertChatHistory - <==    Updates: 1
2025-06-15 12:11:05 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dcd687f]
2025-06-15 12:11:05 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.ChatService - 保存历史记录: 你知道台风吗
2025-06-15 12:11:05 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dcd687f]
2025-06-15 12:11:05 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dcd687f]
2025-06-15 12:11:05 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dcd687f]
2025-06-15 12:11:16 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 是


2025-06-15 12:11:16 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 的


2025-06-15 12:11:16 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ，


2025-06-15 12:11:16 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 我知道


2025-06-15 12:11:16 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 台风


2025-06-15 12:11:16 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 。


2025-06-15 12:11:17 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 台风


2025-06-15 12:11:17 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 是一种


2025-06-15 12:11:17 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 强烈的


2025-06-15 12:11:17 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 热带


2025-06-15 12:11:17 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 气


2025-06-15 12:11:17 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 旋


2025-06-15 12:11:17 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ，


2025-06-15 12:11:17 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 通常


2025-06-15 12:11:17 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 在


2025-06-15 12:11:17 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 西北


2025-06-15 12:11:17 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 太平洋


2025-06-15 12:11:17 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 地区


2025-06-15 12:11:17 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 形成


2025-06-15 12:11:17 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ，


2025-06-15 12:11:17 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 伴随着


2025-06-15 12:11:17 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 大


2025-06-15 12:11:17 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 风


2025-06-15 12:11:17 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 、


2025-06-15 12:11:17 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 暴雨


2025-06-15 12:11:17 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 和


2025-06-15 12:11:18 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 风暴


2025-06-15 12:11:18 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 潮


2025-06-15 12:11:18 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 。


2025-06-15 12:11:18 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 它们


2025-06-15 12:11:18 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 可能会


2025-06-15 12:11:18 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 对


2025-06-15 12:11:18 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 沿海


2025-06-15 12:11:18 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 地区


2025-06-15 12:11:18 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 和


2025-06-15 12:11:18 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 岛屿


2025-06-15 12:11:18 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 造成


2025-06-15 12:11:18 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 严重的


2025-06-15 12:11:18 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 破坏


2025-06-15 12:11:18 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ，


2025-06-15 12:11:18 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 包括


2025-06-15 12:11:18 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 洪水


2025-06-15 12:11:18 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 、


2025-06-15 12:11:18 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 房屋


2025-06-15 12:11:18 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 损


2025-06-15 12:11:19 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 毁


2025-06-15 12:11:19 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 和


2025-06-15 12:11:19 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 基础设施


2025-06-15 12:11:19 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 破坏


2025-06-15 12:11:19 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 。


2025-06-15 12:11:19 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 了解


2025-06-15 12:11:19 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 台风


2025-06-15 12:11:19 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 的


2025-06-15 12:11:19 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 预警


2025-06-15 12:11:19 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 信息


2025-06-15 12:11:19 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 并


2025-06-15 12:11:19 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 采取


2025-06-15 12:11:19 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 适当的


2025-06-15 12:11:19 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 预防


2025-06-15 12:11:19 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 措施


2025-06-15 12:11:19 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 非常重要


2025-06-15 12:11:19 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: ，


2025-06-15 12:11:19 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 以


2025-06-15 12:11:19 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 减少


2025-06-15 12:11:19 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 其


2025-06-15 12:11:20 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 对


2025-06-15 12:11:20 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 人们


2025-06-15 12:11:20 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 生活


2025-06-15 12:11:20 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 和


2025-06-15 12:11:20 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 财产


2025-06-15 12:11:20 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 的影响


2025-06-15 12:11:20 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 。


2025-06-15 12:11:20 [boundedElastic-1] INFO  c.e.qasystem.service.ChatService - Streaming response completed for userId: 6, response: 是

的

，

我知道

台风

。

台风

是一种

强烈的

热带

气

旋

，

通常

在

西北

太平洋

地区

形成

，

伴随着

大

风

、

暴雨

和

风暴

潮

。

它们

可能会

对

沿海

地区

和

岛屿

造成

严重的

破坏

，

包括

洪水

、

房屋

损

毁

和

基础设施

破坏

。

了解

台风

的

预警

信息

并

采取

适当的

预防

措施

非常重要

，

以

减少

其

对

人们

生活

和

财产

的影响

。


2025-06-15 12:11:20 [boundedElastic-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:11:20 [boundedElastic-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7feb7272] was not registered for synchronization because synchronization is not active
2025-06-15 12:11:20 [boundedElastic-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:09:51.445, closeCount=0, lastValidateTimeMillis=2025-06-15 12:09:51.445}] will not be managed by Spring
2025-06-15 12:11:20 [boundedElastic-1] DEBUG c.e.q.m.C.updateChatHistory - ==>  Preparing: Update chat_history SET ai_response = ? where version = ?
2025-06-15 12:11:20 [boundedElastic-1] DEBUG c.e.q.m.C.updateChatHistory - ==> Parameters: 是

的

，

我知道

台风

。

台风

是一种

强烈的

热带

气

旋

，

通常

在

西北

太平洋

地区

形成

，

伴随着

大

风

、

暴雨

和

风暴

潮

。

它们

可能会

对

沿海

地区

和

岛屿

造成

严重的

破坏

，

包括

洪水

、

房屋

损

毁

和

基础设施

破坏

。

了解

台风

的

预警

信息

并

采取

适当的

预防

措施

非常重要

，

以

减少

其

对

人们

生活

和

财产

的影响

。

(String), 47(Long)
2025-06-15 12:11:20 [boundedElastic-1] DEBUG c.e.q.m.C.updateChatHistory - <==    Updates: 1
2025-06-15 12:11:20 [boundedElastic-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7feb7272]
2025-06-15 12:11:20 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Updated AI response to chat history
2025-06-15 12:22:39 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-06-15 12:22:39 [Thread-14] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 12:22:39 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-06-15 12:22:39 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 12:22:39 [Thread-14] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-06-15 12:22:39 [Thread-14] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-3} closing ...
2025-06-15 12:22:39 [Thread-14] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-3} closed
2025-06-15 12:22:39 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 69512 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 12:22:39 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 12:22:39 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 12:22:40 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 12:22:40 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 12:22:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 12:22:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 12:22:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 JDBC repository interfaces.
2025-06-15 12:22:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 12:22:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 12:22:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-06-15 12:22:40 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 12:22:40 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 12:22:40 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 12:22:40 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 12:22:40 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 12:22:40 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 12:22:40 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 12:22:40 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 12:22:40 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 12:22:40 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 12:22:40 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 12:22:40 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 400 ms
2025-06-15 12:22:40 [restartedMain] WARN  o.a.c.c.C.[Tomcat].[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [FF436F60F74CC6079398379EAC4CC332]
2025-06-15 12:22:40 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 12:22:40 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-4} inited
2025-06-15 12:22:40 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 12:22:40 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 12:22:40 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 12:22:40 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'chatController': Resolution of declared constructors on bean Class [com.example.qasystem.controller.ChatController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@699b78f] failed
2025-06-15 12:22:40 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-4} closing ...
2025-06-15 12:22:40 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-4} closed
2025-06-15 12:22:40 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-15 12:22:40 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-15 12:22:40 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'chatController': Resolution of declared constructors on bean Class [com.example.qasystem.controller.ChatController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@699b78f] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:384)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1229)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.example.qasystem.QaSystemApplication.main(QaSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.lang.NoClassDefFoundError: com/example/qasystem/service/ChatService
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3373)
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2555)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:379)
	... 25 common frames omitted
Caused by: java.lang.ClassNotFoundException: com.example.qasystem.service.ChatService
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:467)
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)
	... 29 common frames omitted
2025-06-15 12:27:59 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 69512 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 12:27:59 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 12:27:59 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 12:27:59 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 12:27:59 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 12:27:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 12:27:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 12:27:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 2 ms. Found 0 JDBC repository interfaces.
2025-06-15 12:27:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 12:27:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 12:27:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-06-15 12:27:59 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 12:27:59 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 12:27:59 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 12:27:59 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 12:27:59 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 12:27:59 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 12:27:59 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 12:27:59 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 12:27:59 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 12:27:59 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 12:27:59 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 12:27:59 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 242 ms
2025-06-15 12:27:59 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 12:27:59 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-5} inited
2025-06-15 12:27:59 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 12:27:59 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 12:27:59 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 12:27:59 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'chatController': Resolution of declared constructors on bean Class [com.example.qasystem.controller.ChatController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@3ffd43b3] failed
2025-06-15 12:27:59 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-5} closing ...
2025-06-15 12:27:59 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-5} closed
2025-06-15 12:27:59 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-15 12:27:59 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-15 12:27:59 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'chatController': Resolution of declared constructors on bean Class [com.example.qasystem.controller.ChatController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@3ffd43b3] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:384)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1229)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.example.qasystem.QaSystemApplication.main(QaSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.lang.NoClassDefFoundError: com/example/qasystem/service/ChatService
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3373)
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2555)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:379)
	... 25 common frames omitted
Caused by: java.lang.ClassNotFoundException: com.example.qasystem.service.ChatService
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:467)
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)
	... 29 common frames omitted
2025-06-15 12:28:01 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 69512 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 12:28:01 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 12:28:01 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 12:28:01 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 12:28:01 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 12:28:01 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 12:28:01 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 12:28:01 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 JDBC repository interfaces.
2025-06-15 12:28:01 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 12:28:01 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 12:28:01 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-06-15 12:28:01 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 12:28:01 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 12:28:01 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 12:28:01 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 12:28:01 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 12:28:01 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 12:28:01 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 12:28:01 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 12:28:01 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 12:28:01 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 12:28:01 [restartedMain] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 12:28:01 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 189 ms
2025-06-15 12:28:01 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 12:28:01 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-6} inited
2025-06-15 12:28:01 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 12:28:01 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 12:28:01 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 12:28:01 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 12:28:01 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 12:28:01 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 12:28:01 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 12:28:01 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 12:28:01 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 12:28:01 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 12:28:01 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 0.518 seconds (process running for 1175.665)
2025-06-15 12:28:01 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-06-15 12:28:03 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-15 12:28:03 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-15 12:28:03 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-06-15 12:28:03 [http-nio-8080-exec-3] DEBUG c.e.q.controller.UserController - 显示登录页面
2025-06-15 12:28:04 [http-nio-8080-exec-4] DEBUG c.e.q.controller.UserController - 显示登录页面
2025-06-15 12:28:09 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:28:09 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aec8396] was not registered for synchronization because synchronization is not active
2025-06-15 12:28:09 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:28:01.364, closeCount=0, lastValidateTimeMillis=2025-06-15 12:28:01.365}] will not be managed by Spring
2025-06-15 12:28:09 [http-nio-8080-exec-7] DEBUG c.e.q.mapper.UserMapper.findByUser - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 12:28:09 [http-nio-8080-exec-7] DEBUG c.e.q.mapper.UserMapper.findByUser - ==> Parameters: ls1(String)
2025-06-15 12:28:09 [http-nio-8080-exec-7] DEBUG c.e.q.mapper.UserMapper.findByUser - <==      Total: 1
2025-06-15 12:28:09 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aec8396]
2025-06-15 12:28:09 [http-nio-8080-exec-6] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 12:28:09 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 12:28:09 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:28:09 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e1b0145] was not registered for synchronization because synchronization is not active
2025-06-15 12:28:09 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:28:01.364, closeCount=0, lastValidateTimeMillis=2025-06-15 12:28:01.365}] will not be managed by Spring
2025-06-15 12:28:09 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 12:28:09 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 12:28:09 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 12:28:09 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e1b0145]
2025-06-15 12:28:09 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 12:28:09 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 12:28:09 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:28:09 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@110234b6] was not registered for synchronization because synchronization is not active
2025-06-15 12:28:09 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:28:01.364, closeCount=0, lastValidateTimeMillis=2025-06-15 12:28:01.365}] will not be managed by Spring
2025-06-15 12:28:09 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 12:28:09 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 12:28:09 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 12:28:09 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@110234b6]
2025-06-15 12:28:13 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:28:13 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@254e35b] was not registered for synchronization because synchronization is not active
2025-06-15 12:28:13 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:28:01.364, closeCount=0, lastValidateTimeMillis=2025-06-15 12:28:01.365}] will not be managed by Spring
2025-06-15 12:28:13 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 12:28:13 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 13(Long)
2025-06-15 12:28:13 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 3
2025-06-15 12:28:13 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@254e35b]
2025-06-15 12:28:13 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:28:13 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3373751d] was not registered for synchronization because synchronization is not active
2025-06-15 12:28:13 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:28:01.364, closeCount=0, lastValidateTimeMillis=2025-06-15 12:28:01.365}] will not be managed by Spring
2025-06-15 12:28:13 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 12:28:13 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 14(Long)
2025-06-15 12:28:13 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 2
2025-06-15 12:28:13 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3373751d]
2025-06-15 12:28:17 [http-nio-8080-exec-5] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 你好
2025-06-15 12:28:17 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 12:28:17 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:28:17 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51d7e1eb] was not registered for synchronization because synchronization is not active
2025-06-15 12:28:17 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:28:01.364, closeCount=0, lastValidateTimeMillis=2025-06-15 12:28:01.365}] will not be managed by Spring
2025-06-15 12:28:17 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 12:28:17 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 12:28:17 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 12:28:17 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51d7e1eb]
2025-06-15 12:28:17 [http-nio-8080-exec-5] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 你好
2025-06-15 12:28:17 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:28:17 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@701b6d0d]
2025-06-15 12:28:17 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:28:01.364, closeCount=0, lastValidateTimeMillis=2025-06-15 12:28:01.365}] will be managed by Spring
2025-06-15 12:28:17 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM chat_history WHERE user_id = ? ORDER BY created_at
2025-06-15 12:28:17 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 12:28:17 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.findByUserId - <==      Total: 54
2025-06-15 12:28:17 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@701b6d0d]
2025-06-15 12:28:17 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@701b6d0d] from current transaction
2025-06-15 12:28:17 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.insertChatHistory - ==>  Preparing: INSERT INTO chat_history (user_id, user_message, ai_response, version, created_at, conversation_id) VALUES (?, ?, ?,?, ?,?)
2025-06-15 12:28:17 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.insertChatHistory - ==> Parameters: 6(Long), 你好(String), null, 48(Long), 2025-06-15T12:28:17.897355500(LocalDateTime), 14(Long)
2025-06-15 12:28:17 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.insertChatHistory - <==    Updates: 1
2025-06-15 12:28:17 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@701b6d0d]
2025-06-15 12:28:17 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.ChatService - 保存历史记录: 你好
2025-06-15 12:28:17 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@701b6d0d]
2025-06-15 12:28:17 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@701b6d0d]
2025-06-15 12:28:17 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@701b6d0d]
2025-06-15 12:28:31 [boundedElastic-4] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 你好 ！


2025-06-15 12:28:32 [boundedElastic-4] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 我是 你的 智能 助手 ， 有什么 我可以 帮 你的 吗 ？


2025-06-15 12:28:32 [boundedElastic-4] WARN  c.e.qasystem.service.ChatService - Short response detected: 你好 ！

我是 你的 智能 助手 ， 有什么 我可以 帮 你的 吗 ？


2025-06-15 12:28:32 [boundedElastic-4] INFO  c.e.qasystem.service.ChatService - Streaming response completed for userId: 6, response: 你好 ！

我是 你的 智能 助手 ， 有什么 我可以 帮 你的 吗 ？

（回答可能不完整，请尝试重新提问）
2025-06-15 12:28:32 [boundedElastic-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:28:32 [boundedElastic-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f96957] was not registered for synchronization because synchronization is not active
2025-06-15 12:28:32 [boundedElastic-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:28:01.364, closeCount=0, lastValidateTimeMillis=2025-06-15 12:28:01.365}] will not be managed by Spring
2025-06-15 12:28:32 [boundedElastic-4] DEBUG c.e.q.m.C.updateChatHistory - ==>  Preparing: Update chat_history SET ai_response = ? where version = ?
2025-06-15 12:28:32 [boundedElastic-4] DEBUG c.e.q.m.C.updateChatHistory - ==> Parameters: 你好 ！

我是 你的 智能 助手 ， 有什么 我可以 帮 你的 吗 ？

（回答可能不完整，请尝试重新提问）(String), 48(Long)
2025-06-15 12:28:32 [boundedElastic-4] DEBUG c.e.q.m.C.updateChatHistory - <==    Updates: 1
2025-06-15 12:28:32 [boundedElastic-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f96957]
2025-06-15 12:28:32 [boundedElastic-4] DEBUG c.e.qasystem.service.ChatService - Updated AI response to chat history
2025-06-15 12:29:03 [http-nio-8080-exec-6] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 早上感觉怎么样
2025-06-15 12:29:03 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 12:29:03 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:29:03 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8dac3f3] was not registered for synchronization because synchronization is not active
2025-06-15 12:29:03 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:28:01.364, closeCount=0, lastValidateTimeMillis=2025-06-15 12:28:01.365}] will not be managed by Spring
2025-06-15 12:29:03 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 12:29:03 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 12:29:03 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 12:29:03 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8dac3f3]
2025-06-15 12:29:03 [http-nio-8080-exec-6] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 早上感觉怎么样
2025-06-15 12:29:03 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:29:03 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67fcb7a5]
2025-06-15 12:29:03 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:28:01.364, closeCount=0, lastValidateTimeMillis=2025-06-15 12:28:01.365}] will be managed by Spring
2025-06-15 12:29:03 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM chat_history WHERE user_id = ? ORDER BY created_at
2025-06-15 12:29:03 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 12:29:03 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.findByUserId - <==      Total: 55
2025-06-15 12:29:03 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67fcb7a5]
2025-06-15 12:29:03 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67fcb7a5] from current transaction
2025-06-15 12:29:03 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.insertChatHistory - ==>  Preparing: INSERT INTO chat_history (user_id, user_message, ai_response, version, created_at, conversation_id) VALUES (?, ?, ?,?, ?,?)
2025-06-15 12:29:03 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.insertChatHistory - ==> Parameters: 6(Long), 早上感觉怎么样(String), null, 49(Long), 2025-06-15T12:29:03.743510800(LocalDateTime), 14(Long)
2025-06-15 12:29:03 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.insertChatHistory - <==    Updates: 1
2025-06-15 12:29:03 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67fcb7a5]
2025-06-15 12:29:03 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.ChatService - 保存历史记录: 早上感觉怎么样
2025-06-15 12:29:03 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67fcb7a5]
2025-06-15 12:29:03 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67fcb7a5]
2025-06-15 12:29:03 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67fcb7a5]
2025-06-15 12:29:08 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 早上 好 ！


2025-06-15 12:29:09 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 作为一个 智能 助手 ， 我没有 感觉 ， 但我 随时 准备 帮助 你 。


2025-06-15 12:29:09 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 有什么 我可以 为你 做的 吗 ？


2025-06-15 12:29:09 [boundedElastic-3] INFO  c.e.qasystem.service.ChatService - Streaming response completed for userId: 6, response: 早上 好 ！

作为一个 智能 助手 ， 我没有 感觉 ， 但我 随时 准备 帮助 你 。

有什么 我可以 为你 做的 吗 ？


2025-06-15 12:29:09 [boundedElastic-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:29:09 [boundedElastic-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c53ab41] was not registered for synchronization because synchronization is not active
2025-06-15 12:29:09 [boundedElastic-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:28:01.364, closeCount=0, lastValidateTimeMillis=2025-06-15 12:28:01.365}] will not be managed by Spring
2025-06-15 12:29:09 [boundedElastic-3] DEBUG c.e.q.m.C.updateChatHistory - ==>  Preparing: Update chat_history SET ai_response = ? where version = ?
2025-06-15 12:29:09 [boundedElastic-3] DEBUG c.e.q.m.C.updateChatHistory - ==> Parameters: 早上 好 ！

作为一个 智能 助手 ， 我没有 感觉 ， 但我 随时 准备 帮助 你 。

有什么 我可以 为你 做的 吗 ？

(String), 49(Long)
2025-06-15 12:29:09 [boundedElastic-3] DEBUG c.e.q.m.C.updateChatHistory - <==    Updates: 1
2025-06-15 12:29:09 [boundedElastic-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c53ab41]
2025-06-15 12:29:09 [boundedElastic-3] DEBUG c.e.qasystem.service.ChatService - Updated AI response to chat history
2025-06-15 12:35:32 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-06-15 12:35:32 [Thread-36] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 12:35:32 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-06-15 12:35:33 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 12:35:33 [Thread-36] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-06-15 12:35:33 [Thread-36] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-6} closing ...
2025-06-15 12:35:33 [Thread-36] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-6} closed
2025-06-15 12:35:33 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 69512 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 12:35:33 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 12:35:33 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 12:35:33 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 12:35:33 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 12:35:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 12:35:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 12:35:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 JDBC repository interfaces.
2025-06-15 12:35:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 12:35:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 12:35:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-06-15 12:35:33 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 12:35:33 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 12:35:33 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 12:35:33 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 12:35:33 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 12:35:33 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 12:35:33 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 12:35:33 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 12:35:33 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 12:35:33 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 12:35:33 [restartedMain] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 12:35:33 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 272 ms
2025-06-15 12:35:33 [restartedMain] WARN  o.a.c.c.C.[Tomcat-2].[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [6B55FC7F8D470D85A2EB72B56640608E]
2025-06-15 12:35:33 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 12:35:33 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-7} inited
2025-06-15 12:35:33 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 12:35:33 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 12:35:33 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 12:35:33 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 12:35:33 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 12:35:33 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 12:35:33 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 12:35:33 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 12:35:33 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 12:35:33 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 12:35:33 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 0.608 seconds (process running for 1627.717)
2025-06-15 12:35:33 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-06-15 12:35:35 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-06-15 12:35:35 [Thread-65] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 12:35:35 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-06-15 12:35:35 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 12:35:35 [Thread-65] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-06-15 12:35:35 [Thread-65] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-7} closing ...
2025-06-15 12:35:35 [Thread-65] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-7} closed
2025-06-15 12:35:35 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 69512 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 12:35:35 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 12:35:35 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 12:35:35 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 12:35:35 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 12:35:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 12:35:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 12:35:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 JDBC repository interfaces.
2025-06-15 12:35:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 12:35:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 12:35:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-06-15 12:35:35 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 12:35:35 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 12:35:35 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 12:35:35 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 12:35:35 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 12:35:35 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 12:35:35 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 12:35:35 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 12:35:35 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 12:35:35 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 12:35:35 [restartedMain] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 12:35:35 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 164 ms
2025-06-15 12:35:35 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 12:35:35 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-8} inited
2025-06-15 12:35:35 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 12:35:35 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 12:35:35 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 12:35:35 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 12:35:35 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 12:35:35 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 12:35:35 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 12:35:35 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 12:35:35 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 12:35:35 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 12:35:35 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 0.453 seconds (process running for 1629.827)
2025-06-15 12:35:35 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-06-15 12:35:39 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-15 12:35:39 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-15 12:35:39 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-15 12:35:39 [http-nio-8080-exec-2] DEBUG c.e.q.controller.UserController - 显示登录页面
2025-06-15 12:35:44 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:35:44 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c5e89d1] was not registered for synchronization because synchronization is not active
2025-06-15 12:35:44 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:35:35.57, closeCount=0, lastValidateTimeMillis=2025-06-15 12:35:35.57}] will not be managed by Spring
2025-06-15 12:35:44 [http-nio-8080-exec-3] DEBUG c.e.q.mapper.UserMapper.findByUser - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 12:35:44 [http-nio-8080-exec-3] DEBUG c.e.q.mapper.UserMapper.findByUser - ==> Parameters: ls1(String)
2025-06-15 12:35:44 [http-nio-8080-exec-3] DEBUG c.e.q.mapper.UserMapper.findByUser - <==      Total: 1
2025-06-15 12:35:44 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c5e89d1]
2025-06-15 12:35:44 [http-nio-8080-exec-4] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 12:35:44 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 12:35:44 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:35:44 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b25df73] was not registered for synchronization because synchronization is not active
2025-06-15 12:35:44 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:35:35.57, closeCount=0, lastValidateTimeMillis=2025-06-15 12:35:35.57}] will not be managed by Spring
2025-06-15 12:35:44 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 12:35:44 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 12:35:44 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 12:35:44 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b25df73]
2025-06-15 12:35:44 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 12:35:44 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 12:35:44 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:35:44 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e73845] was not registered for synchronization because synchronization is not active
2025-06-15 12:35:44 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:35:35.57, closeCount=0, lastValidateTimeMillis=2025-06-15 12:35:35.57}] will not be managed by Spring
2025-06-15 12:35:44 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 12:35:44 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 12:35:44 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 12:35:44 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e73845]
2025-06-15 12:36:06 [http-nio-8080-exec-10] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 下雨为什么适合睡觉？
2025-06-15 12:36:06 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 12:36:06 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:36:06 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f9e453b] was not registered for synchronization because synchronization is not active
2025-06-15 12:36:06 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:35:35.57, closeCount=0, lastValidateTimeMillis=2025-06-15 12:35:35.57}] will not be managed by Spring
2025-06-15 12:36:06 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 12:36:06 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 12:36:06 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 12:36:06 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f9e453b]
2025-06-15 12:36:06 [http-nio-8080-exec-10] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 下雨为什么适合睡觉？
2025-06-15 12:36:06 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:36:06 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d2e8229]
2025-06-15 12:36:06 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:35:35.57, closeCount=0, lastValidateTimeMillis=2025-06-15 12:35:35.57}] will be managed by Spring
2025-06-15 12:36:06 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM chat_history WHERE user_id = ? ORDER BY created_at
2025-06-15 12:36:06 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 12:36:06 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.findByUserId - <==      Total: 56
2025-06-15 12:36:06 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d2e8229]
2025-06-15 12:36:06 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d2e8229] from current transaction
2025-06-15 12:36:06 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.insertChatHistory - ==>  Preparing: INSERT INTO chat_history (user_id, user_message, ai_response, version, created_at, conversation_id) VALUES (?, ?, ?,?, ?,?)
2025-06-15 12:36:06 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.insertChatHistory - ==> Parameters: 6(Long), 下雨为什么适合睡觉？(String), null, 50(Long), 2025-06-15T12:36:06.551362200(LocalDateTime), 14(Long)
2025-06-15 12:36:06 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.insertChatHistory - <==    Updates: 1
2025-06-15 12:36:06 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d2e8229]
2025-06-15 12:36:06 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.ChatService - 保存历史记录: 下雨为什么适合睡觉？
2025-06-15 12:36:06 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d2e8229]
2025-06-15 12:36:06 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d2e8229]
2025-06-15 12:36:06 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d2e8229]
2025-06-15 12:36:22 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 下雨天适合睡觉可能与环境因素有关。


2025-06-15 12:36:23 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 雨声通常被认为是一种自然的白噪音，能够帮助人们放松心情，缓解压力，从而更容易入睡。


2025-06-15 12:36:24 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 此外，下雨天的光线较暗，较低的光照强度可能促进褪黑激素的分泌，这是一种帮助调节睡眠周期的激素。


2025-06-15 12:36:25 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 同时，下雨天的温度通常较为凉爽，适宜的环境温度也有助于提高睡眠质量。


2025-06-15 12:36:26 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 因此，综合这些因素，下雨天确实是一个适合睡觉的环境。


2025-06-15 12:36:26 [boundedElastic-6] INFO  c.e.qasystem.service.ChatService - Streaming response completed for userId: 6, response: 下雨天适合睡觉可能与环境因素有关。

雨声通常被认为是一种自然的白噪音，能够帮助人们放松心情，缓解压力，从而更容易入睡。

此外，下雨天的光线较暗，较低的光照强度可能促进褪黑激素的分泌，这是一种帮助调节睡眠周期的激素。

同时，下雨天的温度通常较为凉爽，适宜的环境温度也有助于提高睡眠质量。

因此，综合这些因素，下雨天确实是一个适合睡觉的环境。


2025-06-15 12:36:26 [boundedElastic-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:36:26 [boundedElastic-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bf4882c] was not registered for synchronization because synchronization is not active
2025-06-15 12:36:26 [boundedElastic-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:35:35.57, closeCount=0, lastValidateTimeMillis=2025-06-15 12:35:35.57}] will not be managed by Spring
2025-06-15 12:36:26 [boundedElastic-6] DEBUG c.e.q.m.C.updateChatHistory - ==>  Preparing: Update chat_history SET ai_response = ? where version = ?
2025-06-15 12:36:26 [boundedElastic-6] DEBUG c.e.q.m.C.updateChatHistory - ==> Parameters: 下雨天适合睡觉可能与环境因素有关。

雨声通常被认为是一种自然的白噪音，能够帮助人们放松心情，缓解压力，从而更容易入睡。

此外，下雨天的光线较暗，较低的光照强度可能促进褪黑激素的分泌，这是一种帮助调节睡眠周期的激素。

同时，下雨天的温度通常较为凉爽，适宜的环境温度也有助于提高睡眠质量。

因此，综合这些因素，下雨天确实是一个适合睡觉的环境。

(String), 50(Long)
2025-06-15 12:36:26 [boundedElastic-6] DEBUG c.e.q.m.C.updateChatHistory - <==    Updates: 1
2025-06-15 12:36:26 [boundedElastic-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bf4882c]
2025-06-15 12:36:26 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Updated AI response to chat history
2025-06-15 12:37:56 [http-nio-8080-exec-5] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 还有什么适合下雨天做的事情吗
2025-06-15 12:37:56 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 12:37:56 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:37:56 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18cf43d0] was not registered for synchronization because synchronization is not active
2025-06-15 12:37:56 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:35:35.57, closeCount=0, lastValidateTimeMillis=2025-06-15 12:37:56.682}] will not be managed by Spring
2025-06-15 12:37:56 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 12:37:56 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 12:37:56 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 12:37:56 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18cf43d0]
2025-06-15 12:37:56 [http-nio-8080-exec-5] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 还有什么适合下雨天做的事情吗
2025-06-15 12:37:56 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:37:56 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a521603]
2025-06-15 12:37:56 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:35:35.57, closeCount=0, lastValidateTimeMillis=2025-06-15 12:37:56.682}] will be managed by Spring
2025-06-15 12:37:56 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM chat_history WHERE user_id = ? ORDER BY created_at
2025-06-15 12:37:56 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 12:37:56 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.findByUserId - <==      Total: 57
2025-06-15 12:37:56 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a521603]
2025-06-15 12:37:56 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a521603] from current transaction
2025-06-15 12:37:56 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.insertChatHistory - ==>  Preparing: INSERT INTO chat_history (user_id, user_message, ai_response, version, created_at, conversation_id) VALUES (?, ?, ?,?, ?,?)
2025-06-15 12:37:56 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.insertChatHistory - ==> Parameters: 6(Long), 还有什么适合下雨天做的事情吗(String), null, 51(Long), 2025-06-15T12:37:56.695225500(LocalDateTime), 14(Long)
2025-06-15 12:37:56 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.insertChatHistory - <==    Updates: 1
2025-06-15 12:37:56 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a521603]
2025-06-15 12:37:56 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.ChatService - 保存历史记录: 还有什么适合下雨天做的事情吗
2025-06-15 12:37:56 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a521603]
2025-06-15 12:37:56 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a521603]
2025-06-15 12:37:56 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a521603]
2025-06-15 12:38:10 [boundedElastic-7] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 下雨天确实是一个非常适合放松和享受的好时机。


2025-06-15 12:38:10 [boundedElastic-7] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 除了睡觉，还有很多适合下雨天做的事情，比如：

1.


2025-06-15 12:38:11 [boundedElastic-7] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 阅读一本好书：雨天的宁静氛围非常适合沉浸在书的世界里，享受文字带来的乐趣。
2.


2025-06-15 12:38:12 [boundedElastic-7] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 看电影或追剧：窝在沙发里，点上一杯热饮，享受一场电影或剧集的沉浸体验。
3.


2025-06-15 12:38:13 [boundedElastic-7] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 听音乐或放松：雨声本身就是一种自然的白噪音，可以搭配喜欢的音乐，让自己彻底放松。
4.


2025-06-15 12:38:14 [boundedElastic-7] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 做手工或绘画：利用雨天的安静时光，尝试一些手工制作、绘画或手工艺品，释放创造力。
5.


2025-06-15 12:38:15 [boundedElastic-7] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 泡一杯热茶或咖啡：雨天来一杯温暖的热饮，享受慢节奏的时光。
6.


2025-06-15 12:38:16 [boundedElastic-7] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 整理房间或打扫卫生：雨天不出门，正好可以整理房间，清理杂物，让家里焕然一新。
7.


2025-06-15 12:38:17 [boundedElastic-7] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 冥想或瑜伽：利用雨天的宁静，进行一些冥想或轻柔的瑜伽，放松身心。
8.


2025-06-15 12:38:18 [boundedElastic-7] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 写日记或创作：雨天的灵感往往更丰富，可以写写日记、诗歌，或者记录一些生活感悟。
9.


2025-06-15 12:38:19 [boundedElastic-7] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 尝试新食谱：雨天不出门，正好可以尝试一些新的烹饪或烘焙食谱，享受美食的乐趣。
10.


2025-06-15 12:38:20 [boundedElastic-7] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 和朋友聊天：约上三五好友，或者和家人一起，享受温馨的时光。

总之，雨天是一个非常适合放松和享受的时光，可以利用这段时间做些平时忙碌时没时间做的事情，让自己彻底放松和愉悦。


2025-06-15 12:38:20 [boundedElastic-7] INFO  c.e.qasystem.service.ChatService - Streaming response completed for userId: 6, response: 下雨天确实是一个非常适合放松和享受的好时机。

除了睡觉，还有很多适合下雨天做的事情，比如：

1.

阅读一本好书：雨天的宁静氛围非常适合沉浸在书的世界里，享受文字带来的乐趣。
2.

看电影或追剧：窝在沙发里，点上一杯热饮，享受一场电影或剧集的沉浸体验。
3.

听音乐或放松：雨声本身就是一种自然的白噪音，可以搭配喜欢的音乐，让自己彻底放松。
4.

做手工或绘画：利用雨天的安静时光，尝试一些手工制作、绘画或手工艺品，释放创造力。
5.

泡一杯热茶或咖啡：雨天来一杯温暖的热饮，享受慢节奏的时光。
6.

整理房间或打扫卫生：雨天不出门，正好可以整理房间，清理杂物，让家里焕然一新。
7.

冥想或瑜伽：利用雨天的宁静，进行一些冥想或轻柔的瑜伽，放松身心。
8.

写日记或创作：雨天的灵感往往更丰富，可以写写日记、诗歌，或者记录一些生活感悟。
9.

尝试新食谱：雨天不出门，正好可以尝试一些新的烹饪或烘焙食谱，享受美食的乐趣。
10.

和朋友聊天：约上三五好友，或者和家人一起，享受温馨的时光。

总之，雨天是一个非常适合放松和享受的时光，可以利用这段时间做些平时忙碌时没时间做的事情，让自己彻底放松和愉悦。


2025-06-15 12:38:20 [boundedElastic-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:38:20 [boundedElastic-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71997724] was not registered for synchronization because synchronization is not active
2025-06-15 12:38:20 [boundedElastic-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:35:35.57, closeCount=0, lastValidateTimeMillis=2025-06-15 12:37:56.682}] will not be managed by Spring
2025-06-15 12:38:20 [boundedElastic-7] DEBUG c.e.q.m.C.updateChatHistory - ==>  Preparing: Update chat_history SET ai_response = ? where version = ?
2025-06-15 12:38:20 [boundedElastic-7] DEBUG c.e.q.m.C.updateChatHistory - ==> Parameters: 下雨天确实是一个非常适合放松和享受的好时机。

除了睡觉，还有很多适合下雨天做的事情，比如：

1.

阅读一本好书：雨天的宁静氛围非常适合沉浸在书的世界里，享受文字带来的乐趣。
2.

看电影或追剧：窝在沙发里，点上一杯热饮，享受一场电影或剧集的沉浸体验。
3.

听音乐或放松：雨声本身就是一种自然的白噪音，可以搭配喜欢的音乐，让自己彻底放松。
4.

做手工或绘画：利用雨天的安静时光，尝试一些手工制作、绘画或手工艺品，释放创造力。
5.

泡一杯热茶或咖啡：雨天来一杯温暖的热饮，享受慢节奏的时光。
6.

整理房间或打扫卫生：雨天不出门，正好可以整理房间，清理杂物，让家里焕然一新。
7.

冥想或瑜伽：利用雨天的宁静，进行一些冥想或轻柔的瑜伽，放松身心。
8.

写日记或创作：雨天的灵感往往更丰富，可以写写日记、诗歌，或者记录一些生活感悟。
9.

尝试新食谱：雨天不出门，正好可以尝试一些新的烹饪或烘焙食谱，享受美食的乐趣。
10.

和朋友聊天：约上三五好友，或者和家人一起，享受温馨的时光。

总之，雨天是一个非常适合放松和享受的时光，可以利用这段时间做些平时忙碌时没时间做的事情，让自己彻底放松和愉悦。

(String), 51(Long)
2025-06-15 12:38:20 [boundedElastic-7] DEBUG c.e.q.m.C.updateChatHistory - <==    Updates: 1
2025-06-15 12:38:20 [boundedElastic-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71997724]
2025-06-15 12:38:20 [boundedElastic-7] DEBUG c.e.qasystem.service.ChatService - Updated AI response to chat history
2025-06-15 12:48:30 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-06-15 12:48:30 [Thread-70] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 12:48:30 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-06-15 12:48:31 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 12:48:31 [Thread-70] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-06-15 12:48:31 [Thread-70] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-8} closing ...
2025-06-15 12:48:31 [Thread-70] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-8} closed
2025-06-15 12:48:31 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 69512 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 12:48:31 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 12:48:31 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 12:48:31 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 12:48:31 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 12:48:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 12:48:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 12:48:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 JDBC repository interfaces.
2025-06-15 12:48:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 12:48:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 12:48:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-06-15 12:48:31 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 12:48:31 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 12:48:31 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 12:48:31 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 12:48:31 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 12:48:31 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 12:48:31 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 12:48:31 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 12:48:31 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 12:48:31 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 12:48:31 [restartedMain] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 12:48:31 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 182 ms
2025-06-15 12:48:31 [restartedMain] WARN  o.a.c.c.C.[Tomcat-2].[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [8A95C5A7CFC41DF058680A4D391FB390]
2025-06-15 12:48:31 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 12:48:31 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-9} inited
2025-06-15 12:48:31 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 12:48:31 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 12:48:31 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 12:48:31 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'chatController': Resolution of declared constructors on bean Class [com.example.qasystem.controller.ChatController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@507cd5c7] failed
2025-06-15 12:48:31 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-9} closing ...
2025-06-15 12:48:31 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-9} closed
2025-06-15 12:48:31 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-15 12:48:31 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-15 12:48:31 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'chatController': Resolution of declared constructors on bean Class [com.example.qasystem.controller.ChatController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@507cd5c7] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:384)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1229)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.example.qasystem.QaSystemApplication.main(QaSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.lang.NoClassDefFoundError: com/example/qasystem/service/ChatService
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3373)
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2555)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:379)
	... 25 common frames omitted
Caused by: java.lang.ClassNotFoundException: com.example.qasystem.service.ChatService
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:467)
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)
	... 29 common frames omitted
2025-06-15 12:49:34 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 69512 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 12:49:34 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 12:49:34 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 12:49:34 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 12:49:34 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 12:49:34 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 12:49:34 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 12:49:34 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 JDBC repository interfaces.
2025-06-15 12:49:34 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 12:49:34 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 12:49:34 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-06-15 12:49:34 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 12:49:34 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 12:49:34 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 12:49:34 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 12:49:34 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 12:49:34 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 12:49:35 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 12:49:35 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 12:49:35 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 12:49:35 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 12:49:35 [restartedMain] INFO  o.a.c.c.C.[Tomcat-3].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 12:49:35 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 172 ms
2025-06-15 12:49:35 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 12:49:35 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-10} inited
2025-06-15 12:49:35 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 12:49:35 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 12:49:35 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 12:49:35 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 12:49:35 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 12:49:35 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 12:49:35 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 12:49:35 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 12:49:35 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 12:49:35 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 12:49:35 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 0.472 seconds (process running for 2469.377)
2025-06-15 12:49:35 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-06-15 12:49:41 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat-3].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-15 12:49:41 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-15 12:49:41 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-15 12:49:41 [http-nio-8080-exec-9] DEBUG c.e.q.controller.UserController - 显示登录页面
2025-06-15 12:49:47 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:49:47 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4324298a] was not registered for synchronization because synchronization is not active
2025-06-15 12:49:47 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:49:35.101, closeCount=0, lastValidateTimeMillis=2025-06-15 12:49:35.101}] will not be managed by Spring
2025-06-15 12:49:47 [http-nio-8080-exec-4] DEBUG c.e.q.mapper.UserMapper.findByUser - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 12:49:47 [http-nio-8080-exec-4] DEBUG c.e.q.mapper.UserMapper.findByUser - ==> Parameters: ls1(String)
2025-06-15 12:49:47 [http-nio-8080-exec-4] DEBUG c.e.q.mapper.UserMapper.findByUser - <==      Total: 1
2025-06-15 12:49:47 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4324298a]
2025-06-15 12:49:47 [http-nio-8080-exec-3] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 12:49:47 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 12:49:47 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:49:47 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54d759d6] was not registered for synchronization because synchronization is not active
2025-06-15 12:49:47 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:49:35.101, closeCount=0, lastValidateTimeMillis=2025-06-15 12:49:35.101}] will not be managed by Spring
2025-06-15 12:49:47 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 12:49:47 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 12:49:47 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 12:49:47 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54d759d6]
2025-06-15 12:49:47 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 12:49:47 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 12:49:47 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:49:47 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e6c153] was not registered for synchronization because synchronization is not active
2025-06-15 12:49:47 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:49:35.101, closeCount=0, lastValidateTimeMillis=2025-06-15 12:49:35.101}] will not be managed by Spring
2025-06-15 12:49:47 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 12:49:47 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 12:49:47 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 12:49:47 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e6c153]
2025-06-15 12:49:49 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:49:49 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7676085f] was not registered for synchronization because synchronization is not active
2025-06-15 12:49:49 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:49:35.101, closeCount=0, lastValidateTimeMillis=2025-06-15 12:49:35.101}] will not be managed by Spring
2025-06-15 12:49:49 [http-nio-8080-exec-7] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 12:49:49 [http-nio-8080-exec-7] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 14(Long)
2025-06-15 12:49:49 [http-nio-8080-exec-7] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 6
2025-06-15 12:49:49 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7676085f]
2025-06-15 12:50:22 [http-nio-8080-exec-1] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 我最近想学绘画
2025-06-15 12:50:22 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 12:50:22 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:50:22 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@554fa271] was not registered for synchronization because synchronization is not active
2025-06-15 12:50:22 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:49:35.101, closeCount=0, lastValidateTimeMillis=2025-06-15 12:49:35.101}] will not be managed by Spring
2025-06-15 12:50:22 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 12:50:22 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 12:50:22 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 12:50:22 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@554fa271]
2025-06-15 12:50:22 [http-nio-8080-exec-1] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 我最近想学绘画
2025-06-15 12:50:22 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:50:22 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25ac3993]
2025-06-15 12:50:22 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:49:35.101, closeCount=0, lastValidateTimeMillis=2025-06-15 12:49:35.101}] will be managed by Spring
2025-06-15 12:50:22 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM chat_history WHERE user_id = ? ORDER BY created_at
2025-06-15 12:50:22 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 12:50:22 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.findByUserId - <==      Total: 58
2025-06-15 12:50:22 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25ac3993]
2025-06-15 12:50:22 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25ac3993] from current transaction
2025-06-15 12:50:22 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.insertChatHistory - ==>  Preparing: INSERT INTO chat_history (user_id, user_message, ai_response, version, created_at, conversation_id) VALUES (?, ?, ?,?, ?,?)
2025-06-15 12:50:22 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.insertChatHistory - ==> Parameters: 6(Long), 我最近想学绘画(String), null, 52(Long), 2025-06-15T12:50:22.960617600(LocalDateTime), 14(Long)
2025-06-15 12:50:22 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.insertChatHistory - <==    Updates: 1
2025-06-15 12:50:22 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25ac3993]
2025-06-15 12:50:22 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.ChatService - 保存历史记录: 我最近想学绘画
2025-06-15 12:50:22 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25ac3993]
2025-06-15 12:50:22 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25ac3993]
2025-06-15 12:50:22 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25ac3993]
2025-06-15 12:50:37 [boundedElastic-9] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 绘画是一个非常棒的爱好，可以让你表达自己的创意并享受创作的乐趣


2025-06-15 12:50:39 [boundedElastic-9] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。如果你想开始学习绘画，可以从以下几个方面入手：

1.选择绘画类型：首先确定你想学习的绘画类型，比如素描、水彩、油画、数字绘画等


2025-06-15 12:50:41 [boundedElastic-9] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。每种类型都有其独特的魅力和技巧


2025-06-15 12:50:41 [boundedElastic-9] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。

2.学习基础知识：绘画的基础包括线条、形状、色彩、明暗和构图等


2025-06-15 12:50:41 [boundedElastic-9] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。可以通过在线课程、绘画书籍或视频教程来学习这些基础知识


2025-06-15 12:50:41 [boundedElastic-9] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。

3.练习和实践：绘画需要不断练习


2025-06-15 12:50:42 [boundedElastic-9] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。可以从简单的物体开始，比如水果、花朵、动物等，逐步挑战更复杂的主题


2025-06-15 12:50:42 [boundedElastic-9] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。临摹也是提高技巧的好方法


2025-06-15 12:50:42 [boundedElastic-9] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。

4.寻找灵感和资源：多观察周围的环境，寻找灵感


2025-06-15 12:50:43 [boundedElastic-9] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。同时，可以加入绘画社区或参加绘画课程，与其他绘画爱好者交流和学习


2025-06-15 12:50:44 [boundedElastic-9] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。

5.享受过程：最重要的是享受绘画的过程，不要过于担心结果


2025-06-15 12:50:44 [boundedElastic-9] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。通过不断练习和探索，你会逐渐提升自己的绘画技巧


2025-06-15 12:50:45 [boundedElastic-9] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。

希望你能在这个过程中找到乐趣，并创作出许多美丽的作品！如果你有具体的问题或需要进一步的建议，随时告诉我哦！


2025-06-15 12:50:45 [boundedElastic-9] INFO  c.e.qasystem.service.ChatService - Streaming response completed for userId: 6, response: 绘画是一个非常棒的爱好，可以让你表达自己的创意并享受创作的乐趣

。如果你想开始学习绘画，可以从以下几个方面入手：

1.选择绘画类型：首先确定你想学习的绘画类型，比如素描、水彩、油画、数字绘画等

。每种类型都有其独特的魅力和技巧

。

2.学习基础知识：绘画的基础包括线条、形状、色彩、明暗和构图等

。可以通过在线课程、绘画书籍或视频教程来学习这些基础知识

。

3.练习和实践：绘画需要不断练习

。可以从简单的物体开始，比如水果、花朵、动物等，逐步挑战更复杂的主题

。临摹也是提高技巧的好方法

。

4.寻找灵感和资源：多观察周围的环境，寻找灵感

。同时，可以加入绘画社区或参加绘画课程，与其他绘画爱好者交流和学习

。

5.享受过程：最重要的是享受绘画的过程，不要过于担心结果

。通过不断练习和探索，你会逐渐提升自己的绘画技巧

。

希望你能在这个过程中找到乐趣，并创作出许多美丽的作品！如果你有具体的问题或需要进一步的建议，随时告诉我哦！


2025-06-15 12:50:45 [boundedElastic-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:50:45 [boundedElastic-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f1aa898] was not registered for synchronization because synchronization is not active
2025-06-15 12:50:45 [boundedElastic-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:49:35.101, closeCount=0, lastValidateTimeMillis=2025-06-15 12:49:35.101}] will not be managed by Spring
2025-06-15 12:50:45 [boundedElastic-9] DEBUG c.e.q.m.C.updateChatHistory - ==>  Preparing: Update chat_history SET ai_response = ? where version = ?
2025-06-15 12:50:45 [boundedElastic-9] DEBUG c.e.q.m.C.updateChatHistory - ==> Parameters: 绘画是一个非常棒的爱好，可以让你表达自己的创意并享受创作的乐趣

。如果你想开始学习绘画，可以从以下几个方面入手：

1.选择绘画类型：首先确定你想学习的绘画类型，比如素描、水彩、油画、数字绘画等

。每种类型都有其独特的魅力和技巧

。

2.学习基础知识：绘画的基础包括线条、形状、色彩、明暗和构图等

。可以通过在线课程、绘画书籍或视频教程来学习这些基础知识

。

3.练习和实践：绘画需要不断练习

。可以从简单的物体开始，比如水果、花朵、动物等，逐步挑战更复杂的主题

。临摹也是提高技巧的好方法

。

4.寻找灵感和资源：多观察周围的环境，寻找灵感

。同时，可以加入绘画社区或参加绘画课程，与其他绘画爱好者交流和学习

。

5.享受过程：最重要的是享受绘画的过程，不要过于担心结果

。通过不断练习和探索，你会逐渐提升自己的绘画技巧

。

希望你能在这个过程中找到乐趣，并创作出许多美丽的作品！如果你有具体的问题或需要进一步的建议，随时告诉我哦！

(String), 52(Long)
2025-06-15 12:50:45 [boundedElastic-9] DEBUG c.e.q.m.C.updateChatHistory - <==    Updates: 1
2025-06-15 12:50:45 [boundedElastic-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f1aa898]
2025-06-15 12:50:45 [boundedElastic-9] DEBUG c.e.qasystem.service.ChatService - Updated AI response to chat history
2025-06-15 12:51:16 [http-nio-8080-exec-3] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 绘画是一个非常棒的爱好，可以让你表达自己的创意并享受创作的乐趣data: 。如果你想开始学习绘画，可以从以下几个方面入手：data:1.选择绘画类型：首先确定你想学习的绘画类型，比如素描、水彩、油画、数字绘画等data: 。每种类型都有其独特的魅力和技巧data: 。data:2.学习基础知识：绘画的基础包括线条、形状、色彩、明暗和构图等data: 。可以通过在线课程、绘画书籍或视频教程来学习这些基础知识data: 。data:3.练习和实践：绘画需要不断练习data: 。可以从简单的物体开始，比如水果、花朵、动物等，逐步挑战更复杂的主题data: 。临摹也是提高技巧的好方法data: 。data:4.寻找灵感和资源：多观察周围的环境，寻找灵感data: 。同时，可以加入绘画社区或参加绘画课程，与其他绘画爱好者交流和学习data: 。data:5.享受过程：最重要的是享受绘画的过程，不要过于担心结果data: 。通过不断练习和探索，你会逐渐提升自己的绘画技巧data: 。data:希望你能在这个过程中找到乐趣，并创作出许多美丽的作品！如果你有具体的问题或需要进一步的建议，随时告诉我哦！data:我要怎么去除这个data:
2025-06-15 12:51:16 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 12:51:16 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:51:16 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5875ee05] was not registered for synchronization because synchronization is not active
2025-06-15 12:51:16 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:49:35.101, closeCount=0, lastValidateTimeMillis=2025-06-15 12:49:35.101}] will not be managed by Spring
2025-06-15 12:51:16 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 12:51:16 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 12:51:16 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 12:51:16 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5875ee05]
2025-06-15 12:51:16 [http-nio-8080-exec-3] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 绘画是一个非常棒的爱好，可以让你表达自己的创意并享受创作的乐趣data: 。如果你想开始学习绘画，可以从以下几个方面入手：data:1.选择绘画类型：首先确定你想学习的绘画类型，比如素描、水彩、油画、数字绘画等data: 。每种类型都有其独特的魅力和技巧data: 。data:2.学习基础知识：绘画的基础包括线条、形状、色彩、明暗和构图等data: 。可以通过在线课程、绘画书籍或视频教程来学习这些基础知识data: 。data:3.练习和实践：绘画需要不断练习data: 。可以从简单的物体开始，比如水果、花朵、动物等，逐步挑战更复杂的主题data: 。临摹也是提高技巧的好方法data: 。data:4.寻找灵感和资源：多观察周围的环境，寻找灵感data: 。同时，可以加入绘画社区或参加绘画课程，与其他绘画爱好者交流和学习data: 。data:5.享受过程：最重要的是享受绘画的过程，不要过于担心结果data: 。通过不断练习和探索，你会逐渐提升自己的绘画技巧data: 。data:希望你能在这个过程中找到乐趣，并创作出许多美丽的作品！如果你有具体的问题或需要进一步的建议，随时告诉我哦！data:我要怎么去除这个data:
2025-06-15 12:51:16 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:51:16 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10200392]
2025-06-15 12:51:16 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:49:35.101, closeCount=0, lastValidateTimeMillis=2025-06-15 12:49:35.101}] will be managed by Spring
2025-06-15 12:51:16 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM chat_history WHERE user_id = ? ORDER BY created_at
2025-06-15 12:51:16 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 12:51:16 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.findByUserId - <==      Total: 59
2025-06-15 12:51:16 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10200392]
2025-06-15 12:51:16 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10200392] from current transaction
2025-06-15 12:51:16 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.insertChatHistory - ==>  Preparing: INSERT INTO chat_history (user_id, user_message, ai_response, version, created_at, conversation_id) VALUES (?, ?, ?,?, ?,?)
2025-06-15 12:51:16 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.insertChatHistory - ==> Parameters: 6(Long), 绘画是一个非常棒的爱好，可以让你表达自己的创意并享受创作的乐趣data: 。如果你想开始学习绘画，可以从以下几个方面入手：data:1.选择绘画类型：首先确定你想学习的绘画类型，比如素描、水彩、油画、数字绘画等data: 。每种类型都有其独特的魅力和技巧data: 。data:2.学习基础知识：绘画的基础包括线条、形状、色彩、明暗和构图等data: 。可以通过在线课程、绘画书籍或视频教程来学习这些基础知识data: 。data:3.练习和实践：绘画需要不断练习data: 。可以从简单的物体开始，比如水果、花朵、动物等，逐步挑战更复杂的主题data: 。临摹也是提高技巧的好方法data: 。data:4.寻找灵感和资源：多观察周围的环境，寻找灵感data: 。同时，可以加入绘画社区或参加绘画课程，与其他绘画爱好者交流和学习data: 。data:5.享受过程：最重要的是享受绘画的过程，不要过于担心结果data: 。通过不断练习和探索，你会逐渐提升自己的绘画技巧data: 。data:希望你能在这个过程中找到乐趣，并创作出许多美丽的作品！如果你有具体的问题或需要进一步的建议，随时告诉我哦！data:我要怎么去除这个data:(String), null, 53(Long), 2025-06-15T12:51:16.088127100(LocalDateTime), 14(Long)
2025-06-15 12:51:16 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.insertChatHistory - <==    Updates: 1
2025-06-15 12:51:16 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10200392]
2025-06-15 12:51:16 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.ChatService - 保存历史记录: 绘画是一个非常棒的爱好，可以让你表达自己的创意并享受创作的乐趣data: 。如果你想开始学习绘画，可以从以下几个方面入手：data:1.选择绘画类型：首先确定你想学习的绘画类型，比如素描、水彩、油画、数字绘画等data: 。每种类型都有其独特的魅力和技巧data: 。data:2.学习基础知识：绘画的基础包括线条、形状、色彩、明暗和构图等data: 。可以通过在线课程、绘画书籍或视频教程来学习这些基础知识data: 。data:3.练习和实践：绘画需要不断练习data: 。可以从简单的物体开始，比如水果、花朵、动物等，逐步挑战更复杂的主题data: 。临摹也是提高技巧的好方法data: 。data:4.寻找灵感和资源：多观察周围的环境，寻找灵感data: 。同时，可以加入绘画社区或参加绘画课程，与其他绘画爱好者交流和学习data: 。data:5.享受过程：最重要的是享受绘画的过程，不要过于担心结果data: 。通过不断练习和探索，你会逐渐提升自己的绘画技巧data: 。data:希望你能在这个过程中找到乐趣，并创作出许多美丽的作品！如果你有具体的问题或需要进一步的建议，随时告诉我哦！data:我要怎么去除这个data:
2025-06-15 12:51:16 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10200392]
2025-06-15 12:51:16 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10200392]
2025-06-15 12:51:16 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10200392]
2025-06-15 12:51:40 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 如果你希望去除文本中的“data:”或其他多余内容，可以通过以下几种方式操作：

1.手动删除：如果你只需要处理少量文本，可以直接复制内容，然后手动删除“data:”部分


2025-06-15 12:51:42 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。

2.使用文本编辑器：将内容粘贴到文本编辑器（如Notepad、VS Code等），然后使用“查找和替换”功能，将“data:”替换为空


2025-06-15 12:51:43 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。

3.编程处理：如果你熟悉编程，可以使用Python等语言编写脚本，自动去除“data:”或其他特定字符


2025-06-15 12:51:44 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。

4.在线工具：可以使用在线文本处理工具，将内容粘贴进去，然后使用工具的“替换”功能去除多余内容


2025-06-15 12:51:44 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。

希望这些方法能帮到你！如果有其他问题，随时告诉我哦！


2025-06-15 12:51:44 [boundedElastic-8] INFO  c.e.qasystem.service.ChatService - Streaming response completed for userId: 6, response: 如果你希望去除文本中的“data:”或其他多余内容，可以通过以下几种方式操作：

1.手动删除：如果你只需要处理少量文本，可以直接复制内容，然后手动删除“data:”部分

。

2.使用文本编辑器：将内容粘贴到文本编辑器（如Notepad、VS Code等），然后使用“查找和替换”功能，将“data:”替换为空

。

3.编程处理：如果你熟悉编程，可以使用Python等语言编写脚本，自动去除“data:”或其他特定字符

。

4.在线工具：可以使用在线文本处理工具，将内容粘贴进去，然后使用工具的“替换”功能去除多余内容

。

希望这些方法能帮到你！如果有其他问题，随时告诉我哦！


2025-06-15 12:51:44 [boundedElastic-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:51:44 [boundedElastic-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e07322d] was not registered for synchronization because synchronization is not active
2025-06-15 12:51:44 [boundedElastic-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:49:35.101, closeCount=0, lastValidateTimeMillis=2025-06-15 12:49:35.101}] will not be managed by Spring
2025-06-15 12:51:44 [boundedElastic-8] DEBUG c.e.q.m.C.updateChatHistory - ==>  Preparing: Update chat_history SET ai_response = ? where version = ?
2025-06-15 12:51:44 [boundedElastic-8] DEBUG c.e.q.m.C.updateChatHistory - ==> Parameters: 如果你希望去除文本中的“data:”或其他多余内容，可以通过以下几种方式操作：

1.手动删除：如果你只需要处理少量文本，可以直接复制内容，然后手动删除“data:”部分

。

2.使用文本编辑器：将内容粘贴到文本编辑器（如Notepad、VS Code等），然后使用“查找和替换”功能，将“data:”替换为空

。

3.编程处理：如果你熟悉编程，可以使用Python等语言编写脚本，自动去除“data:”或其他特定字符

。

4.在线工具：可以使用在线文本处理工具，将内容粘贴进去，然后使用工具的“替换”功能去除多余内容

。

希望这些方法能帮到你！如果有其他问题，随时告诉我哦！

(String), 53(Long)
2025-06-15 12:51:44 [boundedElastic-8] DEBUG c.e.q.m.C.updateChatHistory - <==    Updates: 1
2025-06-15 12:51:44 [boundedElastic-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e07322d]
2025-06-15 12:51:44 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Updated AI response to chat history
2025-06-15 12:52:37 [http-nio-8080-exec-7] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 我想知道最近广州市天气
2025-06-15 12:52:37 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 12:52:37 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:52:37 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28d281e] was not registered for synchronization because synchronization is not active
2025-06-15 12:52:37 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:49:35.101, closeCount=0, lastValidateTimeMillis=2025-06-15 12:49:35.101}] will not be managed by Spring
2025-06-15 12:52:37 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 12:52:37 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 12:52:37 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 12:52:37 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28d281e]
2025-06-15 12:52:37 [http-nio-8080-exec-7] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 我想知道最近广州市天气
2025-06-15 12:52:37 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:52:37 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@535b67ba]
2025-06-15 12:52:37 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:49:35.101, closeCount=0, lastValidateTimeMillis=2025-06-15 12:49:35.101}] will be managed by Spring
2025-06-15 12:52:37 [http-nio-8080-exec-7] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM chat_history WHERE user_id = ? ORDER BY created_at
2025-06-15 12:52:37 [http-nio-8080-exec-7] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 12:52:37 [http-nio-8080-exec-7] DEBUG c.e.q.m.C.findByUserId - <==      Total: 60
2025-06-15 12:52:37 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@535b67ba]
2025-06-15 12:52:37 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@535b67ba] from current transaction
2025-06-15 12:52:37 [http-nio-8080-exec-7] DEBUG c.e.q.m.C.insertChatHistory - ==>  Preparing: INSERT INTO chat_history (user_id, user_message, ai_response, version, created_at, conversation_id) VALUES (?, ?, ?,?, ?,?)
2025-06-15 12:52:37 [http-nio-8080-exec-7] DEBUG c.e.q.m.C.insertChatHistory - ==> Parameters: 6(Long), 我想知道最近广州市天气(String), null, 54(Long), 2025-06-15T12:52:37.467628900(LocalDateTime), 14(Long)
2025-06-15 12:52:37 [http-nio-8080-exec-7] DEBUG c.e.q.m.C.insertChatHistory - <==    Updates: 1
2025-06-15 12:52:37 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@535b67ba]
2025-06-15 12:52:37 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.ChatService - 保存历史记录: 我想知道最近广州市天气
2025-06-15 12:52:37 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@535b67ba]
2025-06-15 12:52:37 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@535b67ba]
2025-06-15 12:52:37 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@535b67ba]
2025-06-15 12:52:49 [boundedElastic-9] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 关于广州市的天气，我无法提供实时数据，但你可以通过查看天气应用查看最新的天气预报


2025-06-15 12:52:49 [boundedElastic-9] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。通常，广州市的天气较为温暖，夏季炎热多雨，冬季则较为凉爽


2025-06-15 12:52:50 [boundedElastic-9] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。建议你根据天气情况合理安排出行计划，注意防晒或保暖


2025-06-15 12:52:50 [boundedElastic-9] DEBUG c.e.qasystem.service.ChatService - Sending chunk: data: 。如果有其他问题，随时告诉我哦！


2025-06-15 12:52:50 [boundedElastic-9] INFO  c.e.qasystem.service.ChatService - Streaming response completed for userId: 6, response: 关于广州市的天气，我无法提供实时数据，但你可以通过查看天气应用查看最新的天气预报

。通常，广州市的天气较为温暖，夏季炎热多雨，冬季则较为凉爽

。建议你根据天气情况合理安排出行计划，注意防晒或保暖

。如果有其他问题，随时告诉我哦！


2025-06-15 12:52:50 [boundedElastic-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 12:52:50 [boundedElastic-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d7fcc4a] was not registered for synchronization because synchronization is not active
2025-06-15 12:52:50 [boundedElastic-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 12:49:35.101, closeCount=0, lastValidateTimeMillis=2025-06-15 12:49:35.101}] will not be managed by Spring
2025-06-15 12:52:50 [boundedElastic-9] DEBUG c.e.q.m.C.updateChatHistory - ==>  Preparing: Update chat_history SET ai_response = ? where version = ?
2025-06-15 12:52:50 [boundedElastic-9] DEBUG c.e.q.m.C.updateChatHistory - ==> Parameters: 关于广州市的天气，我无法提供实时数据，但你可以通过查看天气应用查看最新的天气预报

。通常，广州市的天气较为温暖，夏季炎热多雨，冬季则较为凉爽

。建议你根据天气情况合理安排出行计划，注意防晒或保暖

。如果有其他问题，随时告诉我哦！

(String), 54(Long)
2025-06-15 12:52:50 [boundedElastic-9] DEBUG c.e.q.m.C.updateChatHistory - <==    Updates: 1
2025-06-15 12:52:50 [boundedElastic-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d7fcc4a]
2025-06-15 12:52:50 [boundedElastic-9] DEBUG c.e.qasystem.service.ChatService - Updated AI response to chat history
2025-06-15 12:53:44 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-06-15 12:53:44 [Thread-91] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 12:53:44 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-06-15 12:53:45 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 12:53:45 [Thread-91] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-06-15 12:53:45 [Thread-91] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-10} closing ...
2025-06-15 12:53:45 [Thread-91] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-10} closed
2025-06-15 12:53:45 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 69512 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 12:53:45 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 12:53:45 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 12:53:45 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 12:53:45 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 12:53:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 12:53:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 12:53:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 JDBC repository interfaces.
2025-06-15 12:53:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 12:53:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 12:53:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-06-15 12:53:45 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 12:53:45 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 12:53:45 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 12:53:45 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 12:53:45 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 12:53:45 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 12:53:45 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 12:53:45 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 12:53:45 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 12:53:45 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 12:53:45 [restartedMain] INFO  o.a.c.c.C.[Tomcat-3].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 12:53:45 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 245 ms
2025-06-15 12:53:45 [restartedMain] WARN  o.a.c.c.C.[Tomcat-3].[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [6CB64442A9157329B4A5A2A2748E8AEE]
2025-06-15 12:53:45 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 12:53:45 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-11} inited
2025-06-15 12:53:45 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 12:53:45 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 12:53:45 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 12:53:45 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 12:53:45 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 12:53:45 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 12:53:45 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 12:53:45 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 12:53:45 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 12:53:45 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 12:53:45 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 0.604 seconds (process running for 2719.836)
2025-06-15 12:53:45 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-06-15 12:53:47 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-06-15 12:53:47 [Thread-116] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 12:53:47 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-06-15 12:53:47 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 12:53:47 [Thread-116] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-06-15 12:53:47 [Thread-116] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-11} closing ...
2025-06-15 12:53:47 [Thread-116] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-11} closed
2025-06-15 12:53:47 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 69512 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 12:53:47 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 12:53:47 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 12:53:47 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 12:53:47 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 12:53:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 12:53:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 12:53:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 JDBC repository interfaces.
2025-06-15 12:53:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 12:53:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 12:53:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-06-15 12:53:47 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 12:53:47 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 12:53:47 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 12:53:47 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 12:53:47 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 12:53:47 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 12:53:47 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 12:53:47 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 12:53:47 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 12:53:47 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 12:53:47 [restartedMain] INFO  o.a.c.c.C.[Tomcat-3].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 12:53:47 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 150 ms
2025-06-15 12:53:47 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 12:53:47 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-12} inited
2025-06-15 12:53:47 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 12:53:47 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 12:53:47 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 12:53:47 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 12:53:47 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 12:53:47 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 12:53:47 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 12:53:47 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 12:53:47 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 12:53:47 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 12:53:47 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 0.449 seconds (process running for 2721.912)
2025-06-15 12:53:47 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-06-15 13:00:19 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-06-15 13:00:19 [Thread-121] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 13:00:19 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-06-15 13:00:19 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 13:00:19 [Thread-121] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-06-15 13:00:19 [Thread-121] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-12} closing ...
2025-06-15 13:00:19 [Thread-121] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-12} closed
2025-06-15 13:00:19 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 69512 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 13:00:19 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 13:00:19 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 13:00:19 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 13:00:19 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 13:00:19 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 13:00:19 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 13:00:19 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 JDBC repository interfaces.
2025-06-15 13:00:19 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 13:00:19 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 13:00:19 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-06-15 13:00:19 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 13:00:19 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 13:00:19 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 13:00:19 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 13:00:19 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 13:00:19 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 13:00:20 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 13:00:20 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 13:00:20 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 13:00:20 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 13:00:20 [restartedMain] INFO  o.a.c.c.C.[Tomcat-3].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 13:00:20 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 175 ms
2025-06-15 13:00:20 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 13:00:20 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-13} inited
2025-06-15 13:00:20 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 13:00:20 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 13:00:20 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 13:00:20 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 13:00:20 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 13:00:20 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 13:00:20 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 13:00:20 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 13:00:20 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 13:00:20 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 13:00:20 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 0.49 seconds (process running for 3114.396)
2025-06-15 13:00:20 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-06-15 13:00:35 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat-3].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-15 13:00:35 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-15 13:00:35 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-15 13:00:35 [http-nio-8080-exec-2] DEBUG c.e.q.controller.UserController - 显示登录页面
2025-06-15 13:00:35 [http-nio-8080-exec-4] DEBUG c.e.q.controller.UserController - 显示登录页面
2025-06-15 13:00:41 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 13:00:41 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e6fc44b] was not registered for synchronization because synchronization is not active
2025-06-15 13:00:41 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 13:00:20.122, closeCount=0, lastValidateTimeMillis=2025-06-15 13:00:20.122}] will not be managed by Spring
2025-06-15 13:00:41 [http-nio-8080-exec-7] DEBUG c.e.q.mapper.UserMapper.findByUser - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 13:00:41 [http-nio-8080-exec-7] DEBUG c.e.q.mapper.UserMapper.findByUser - ==> Parameters: ls1(String)
2025-06-15 13:00:41 [http-nio-8080-exec-7] DEBUG c.e.q.mapper.UserMapper.findByUser - <==      Total: 1
2025-06-15 13:00:41 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e6fc44b]
2025-06-15 13:00:41 [http-nio-8080-exec-8] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 13:00:41 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 13:00:41 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 13:00:41 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48ff3682] was not registered for synchronization because synchronization is not active
2025-06-15 13:00:41 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 13:00:20.122, closeCount=0, lastValidateTimeMillis=2025-06-15 13:00:20.122}] will not be managed by Spring
2025-06-15 13:00:41 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 13:00:41 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 13:00:41 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 13:00:41 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48ff3682]
2025-06-15 13:00:41 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 13:00:41 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 13:00:41 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 13:00:41 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50f7bc78] was not registered for synchronization because synchronization is not active
2025-06-15 13:00:41 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 13:00:20.122, closeCount=0, lastValidateTimeMillis=2025-06-15 13:00:20.122}] will not be managed by Spring
2025-06-15 13:00:41 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 13:00:41 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 13:00:41 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 13:00:41 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50f7bc78]
2025-06-15 13:00:45 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 13:00:45 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@218a52d] was not registered for synchronization because synchronization is not active
2025-06-15 13:00:45 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 13:00:20.122, closeCount=0, lastValidateTimeMillis=2025-06-15 13:00:20.122}] will not be managed by Spring
2025-06-15 13:00:45 [http-nio-8080-exec-4] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 13:00:45 [http-nio-8080-exec-4] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 20(Long)
2025-06-15 13:00:45 [http-nio-8080-exec-4] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 2
2025-06-15 13:00:45 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@218a52d]
2025-06-15 13:00:49 [http-nio-8080-exec-10] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 你好
2025-06-15 13:00:49 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 13:00:49 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 13:00:49 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@99c79e4] was not registered for synchronization because synchronization is not active
2025-06-15 13:00:49 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 13:00:20.122, closeCount=0, lastValidateTimeMillis=2025-06-15 13:00:20.122}] will not be managed by Spring
2025-06-15 13:00:49 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 13:00:49 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 13:00:49 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 13:00:49 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@99c79e4]
2025-06-15 13:00:49 [http-nio-8080-exec-10] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 你好
2025-06-15 13:00:49 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 13:00:49 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cdf9eed]
2025-06-15 13:00:49 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 13:00:20.122, closeCount=0, lastValidateTimeMillis=2025-06-15 13:00:20.122}] will be managed by Spring
2025-06-15 13:00:49 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM chat_history WHERE user_id = ? ORDER BY created_at
2025-06-15 13:00:49 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 13:00:49 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.findByUserId - <==      Total: 61
2025-06-15 13:00:49 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cdf9eed]
2025-06-15 13:00:49 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cdf9eed] from current transaction
2025-06-15 13:00:49 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.insertChatHistory - ==>  Preparing: INSERT INTO chat_history (user_id, user_message, ai_response, version, created_at, conversation_id) VALUES (?, ?, ?,?, ?,?)
2025-06-15 13:00:49 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.insertChatHistory - ==> Parameters: 6(Long), 你好(String), null, 55(Long), 2025-06-15T13:00:49.316023900(LocalDateTime), 20(Long)
2025-06-15 13:00:49 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.insertChatHistory - <==    Updates: 1
2025-06-15 13:00:49 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cdf9eed]
2025-06-15 13:00:49 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.ChatService - 保存历史记录: 你好
2025-06-15 13:00:49 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cdf9eed]
2025-06-15 13:00:49 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cdf9eed]
2025-06-15 13:00:49 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cdf9eed]
2025-06-15 13:01:01 [boundedElastic-11] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 你好呀！
2025-06-15 13:01:02 [boundedElastic-11] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 我是一个智能助手，有什么我可以帮你的吗？
2025-06-15 13:01:02 [boundedElastic-11] WARN  c.e.qasystem.service.ChatService - Short response detected: 你好呀！我是一个智能助手，有什么我可以帮你的吗？
2025-06-15 13:01:02 [boundedElastic-11] INFO  c.e.qasystem.service.ChatService - Streaming response completed for userId: 6, response: 你好呀！我是一个智能助手，有什么我可以帮你的吗？（回答可能不完整，请尝试重新提问）
2025-06-15 13:01:02 [boundedElastic-11] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 13:01:02 [boundedElastic-11] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@228efee1] was not registered for synchronization because synchronization is not active
2025-06-15 13:01:02 [boundedElastic-11] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 13:00:20.122, closeCount=0, lastValidateTimeMillis=2025-06-15 13:00:20.122}] will not be managed by Spring
2025-06-15 13:01:02 [boundedElastic-11] DEBUG c.e.q.m.C.updateChatHistory - ==>  Preparing: Update chat_history SET ai_response = ? where version = ?
2025-06-15 13:01:02 [boundedElastic-11] DEBUG c.e.q.m.C.updateChatHistory - ==> Parameters: 你好呀！我是一个智能助手，有什么我可以帮你的吗？（回答可能不完整，请尝试重新提问）(String), 55(Long)
2025-06-15 13:01:02 [boundedElastic-11] DEBUG c.e.q.m.C.updateChatHistory - <==    Updates: 1
2025-06-15 13:01:02 [boundedElastic-11] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@228efee1]
2025-06-15 13:01:02 [boundedElastic-11] DEBUG c.e.qasystem.service.ChatService - Updated AI response to chat history
2025-06-15 13:01:24 [http-nio-8080-exec-8] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 今天是周日，但是明天是周一了，又要忙碌起来了
2025-06-15 13:01:24 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 13:01:24 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 13:01:24 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77f984a0] was not registered for synchronization because synchronization is not active
2025-06-15 13:01:24 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 13:00:20.122, closeCount=0, lastValidateTimeMillis=2025-06-15 13:00:20.122}] will not be managed by Spring
2025-06-15 13:01:24 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 13:01:24 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 13:01:24 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 13:01:24 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77f984a0]
2025-06-15 13:01:24 [http-nio-8080-exec-8] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 今天是周日，但是明天是周一了，又要忙碌起来了
2025-06-15 13:01:24 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 13:01:24 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58f2c49b]
2025-06-15 13:01:24 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 13:00:20.122, closeCount=0, lastValidateTimeMillis=2025-06-15 13:00:20.122}] will be managed by Spring
2025-06-15 13:01:24 [http-nio-8080-exec-8] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM chat_history WHERE user_id = ? ORDER BY created_at
2025-06-15 13:01:24 [http-nio-8080-exec-8] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 13:01:24 [http-nio-8080-exec-8] DEBUG c.e.q.m.C.findByUserId - <==      Total: 62
2025-06-15 13:01:24 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58f2c49b]
2025-06-15 13:01:24 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58f2c49b] from current transaction
2025-06-15 13:01:24 [http-nio-8080-exec-8] DEBUG c.e.q.m.C.insertChatHistory - ==>  Preparing: INSERT INTO chat_history (user_id, user_message, ai_response, version, created_at, conversation_id) VALUES (?, ?, ?,?, ?,?)
2025-06-15 13:01:24 [http-nio-8080-exec-8] DEBUG c.e.q.m.C.insertChatHistory - ==> Parameters: 6(Long), 今天是周日，但是明天是周一了，又要忙碌起来了(String), null, 56(Long), 2025-06-15T13:01:24.385602200(LocalDateTime), 20(Long)
2025-06-15 13:01:24 [http-nio-8080-exec-8] DEBUG c.e.q.m.C.insertChatHistory - <==    Updates: 1
2025-06-15 13:01:24 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58f2c49b]
2025-06-15 13:01:24 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.ChatService - 保存历史记录: 今天是周日，但是明天是周一了，又要忙碌起来了
2025-06-15 13:01:24 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58f2c49b]
2025-06-15 13:01:24 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58f2c49b]
2025-06-15 13:01:24 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58f2c49b]
2025-06-15 13:01:37 [boundedElastic-10] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 听起来你对即将到来的周一有点小期待又有点小压力呢！
2025-06-15 13:01:37 [boundedElastic-10] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 别担心，忙碌的生活也是充实的体现。
2025-06-15 13:01:38 [boundedElastic-10] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 如果需要的话，我可以帮你规划一下明天的工作，或者分享一些小技巧，让你更高效地应对忙碌的一天。
2025-06-15 13:01:38 [boundedElastic-10] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 😊
2025-06-15 13:01:38 [boundedElastic-10] INFO  c.e.qasystem.service.ChatService - Streaming response completed for userId: 6, response: 听起来你对即将到来的周一有点小期待又有点小压力呢！别担心，忙碌的生活也是充实的体现。如果需要的话，我可以帮你规划一下明天的工作，或者分享一些小技巧，让你更高效地应对忙碌的一天。😊
2025-06-15 13:01:38 [boundedElastic-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 13:01:38 [boundedElastic-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35b33fd7] was not registered for synchronization because synchronization is not active
2025-06-15 13:01:38 [boundedElastic-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 13:00:20.122, closeCount=0, lastValidateTimeMillis=2025-06-15 13:00:20.122}] will not be managed by Spring
2025-06-15 13:01:38 [boundedElastic-10] DEBUG c.e.q.m.C.updateChatHistory - ==>  Preparing: Update chat_history SET ai_response = ? where version = ?
2025-06-15 13:01:38 [boundedElastic-10] DEBUG c.e.q.m.C.updateChatHistory - ==> Parameters: 听起来你对即将到来的周一有点小期待又有点小压力呢！别担心，忙碌的生活也是充实的体现。如果需要的话，我可以帮你规划一下明天的工作，或者分享一些小技巧，让你更高效地应对忙碌的一天。😊(String), 56(Long)
2025-06-15 13:01:38 [boundedElastic-10] DEBUG c.e.q.m.C.updateChatHistory - <==    Updates: 1
2025-06-15 13:01:38 [boundedElastic-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35b33fd7]
2025-06-15 13:01:38 [boundedElastic-10] DEBUG c.e.qasystem.service.ChatService - Updated AI response to chat history
2025-06-15 13:04:35 [http-nio-8080-exec-3] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 13:04:35 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 13:04:35 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 13:04:35 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a0663fb] was not registered for synchronization because synchronization is not active
2025-06-15 13:04:35 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 13:00:20.122, closeCount=0, lastValidateTimeMillis=2025-06-15 13:04:35.566}] will not be managed by Spring
2025-06-15 13:04:35 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 13:04:35 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 13:04:35 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 13:04:35 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a0663fb]
2025-06-15 13:04:35 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 13:04:35 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 13:04:35 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 13:04:35 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8bde200] was not registered for synchronization because synchronization is not active
2025-06-15 13:04:35 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 13:00:20.122, closeCount=0, lastValidateTimeMillis=2025-06-15 13:04:35.566}] will not be managed by Spring
2025-06-15 13:04:35 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 13:04:35 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 13:04:35 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 13:04:35 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8bde200]
2025-06-15 13:04:38 [http-nio-8080-exec-7] DEBUG c.e.q.controller.UserController - 显示登录页面
2025-06-15 13:14:28 [http-nio-8080-exec-5] DEBUG c.e.q.controller.UserController - 显示登录页面
2025-06-15 13:14:33 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 13:14:33 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ea849c] was not registered for synchronization because synchronization is not active
2025-06-15 13:14:33 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 13:00:20.122, closeCount=0, lastValidateTimeMillis=2025-06-15 13:14:33.21}] will not be managed by Spring
2025-06-15 13:14:33 [http-nio-8080-exec-2] DEBUG c.e.q.mapper.UserMapper.findByUser - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 13:14:33 [http-nio-8080-exec-2] DEBUG c.e.q.mapper.UserMapper.findByUser - ==> Parameters: ls1(String)
2025-06-15 13:14:33 [http-nio-8080-exec-2] DEBUG c.e.q.mapper.UserMapper.findByUser - <==      Total: 1
2025-06-15 13:14:33 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ea849c]
2025-06-15 13:14:33 [http-nio-8080-exec-4] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 13:14:33 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 13:14:33 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 13:14:33 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62375a62] was not registered for synchronization because synchronization is not active
2025-06-15 13:14:33 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 13:00:20.122, closeCount=0, lastValidateTimeMillis=2025-06-15 13:14:33.21}] will not be managed by Spring
2025-06-15 13:14:33 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 13:14:33 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 13:14:33 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 13:14:33 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62375a62]
2025-06-15 13:14:33 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 13:14:58 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 13:14:58 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 13:14:59 [SpringApplicationShutdownHook] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-13} closing ...
2025-06-15 13:14:59 [SpringApplicationShutdownHook] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-13} closed
2025-06-15 19:39:45 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 65268 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 19:39:45 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 19:39:45 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 19:39:45 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-06-15 19:39:45 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-06-15 19:39:46 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 19:39:46 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 19:39:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 19:39:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 19:39:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 JDBC repository interfaces.
2025-06-15 19:39:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 19:39:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 19:39:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-06-15 19:39:46 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 19:39:46 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 19:39:46 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 19:39:46 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 19:39:46 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 19:39:46 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 19:39:46 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 19:39:46 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 19:39:46 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 19:39:46 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 19:39:47 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 19:39:47 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1442 ms
2025-06-15 19:39:47 [restartedMain] WARN  o.a.c.c.C.[Tomcat].[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [D50657E5B9EBE8EE4CA851AD458C4031]
2025-06-15 19:39:47 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 19:39:47 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-06-15 19:39:47 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 19:39:47 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 19:39:47 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 19:39:47 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 19:39:48 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 19:39:48 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 19:39:48 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 19:39:48 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 19:39:48 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 19:39:48 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 19:39:48 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 3.933 seconds (process running for 4.643)
2025-06-15 19:39:55 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-15 19:39:55 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-15 19:39:55 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-15 19:39:55 [http-nio-8080-exec-1] DEBUG c.e.q.controller.UserController - 显示登录页面
2025-06-15 19:39:56 [http-nio-8080-exec-3] DEBUG c.e.q.controller.UserController - 显示登录页面
2025-06-15 19:40:02 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:40:02 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2796bcc0] was not registered for synchronization because synchronization is not active
2025-06-15 19:40:02 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:39:47.439}] will not be managed by Spring
2025-06-15 19:40:02 [http-nio-8080-exec-4] DEBUG c.e.q.mapper.UserMapper.findByUser - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:40:02 [http-nio-8080-exec-4] DEBUG c.e.q.mapper.UserMapper.findByUser - ==> Parameters: ls1(String)
2025-06-15 19:40:02 [http-nio-8080-exec-4] DEBUG c.e.q.mapper.UserMapper.findByUser - <==      Total: 1
2025-06-15 19:40:02 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2796bcc0]
2025-06-15 19:40:02 [http-nio-8080-exec-7] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 19:40:02 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:40:02 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:40:02 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e5081a8] was not registered for synchronization because synchronization is not active
2025-06-15 19:40:02 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:39:47.439}] will not be managed by Spring
2025-06-15 19:40:02 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:40:02 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:40:02 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:40:02 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e5081a8]
2025-06-15 19:40:02 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 19:41:38 [http-nio-8080-exec-9] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 19:41:38 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:41:38 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:41:38 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11a2216f] was not registered for synchronization because synchronization is not active
2025-06-15 19:41:38 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:41:38.474}] will not be managed by Spring
2025-06-15 19:41:38 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:41:38 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:41:38 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:41:38 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11a2216f]
2025-06-15 19:41:38 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 19:43:46 [http-nio-8080-exec-2] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 19:43:46 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:43:46 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:43:46 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e78313a] was not registered for synchronization because synchronization is not active
2025-06-15 19:43:46 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:43:46.809}] will not be managed by Spring
2025-06-15 19:43:46 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:43:46 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:43:46 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:43:46 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e78313a]
2025-06-15 19:43:46 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 19:44:18 [http-nio-8080-exec-7] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 19:44:18 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:44:18 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:44:18 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78b9acb2] was not registered for synchronization because synchronization is not active
2025-06-15 19:44:18 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:43:46.809}] will not be managed by Spring
2025-06-15 19:44:18 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:44:18 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:44:18 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:44:18 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78b9acb2]
2025-06-15 19:44:18 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 19:44:18 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:44:18 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:44:18 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cb12850] was not registered for synchronization because synchronization is not active
2025-06-15 19:44:18 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:43:46.809}] will not be managed by Spring
2025-06-15 19:44:18 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:44:18 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:44:18 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:44:18 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cb12850]
2025-06-15 19:54:21 [http-nio-8080-exec-10] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 19:54:21 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:54:21 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:54:21 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16ff24d] was not registered for synchronization because synchronization is not active
2025-06-15 19:54:21 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:54:21.74}] will not be managed by Spring
2025-06-15 19:54:21 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:54:21 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:54:21 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:54:21 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16ff24d]
2025-06-15 19:54:21 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 19:54:21 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:54:21 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:54:21 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24a983ca] was not registered for synchronization because synchronization is not active
2025-06-15 19:54:21 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:54:21.74}] will not be managed by Spring
2025-06-15 19:54:21 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:54:21 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:54:21 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:54:21 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24a983ca]
2025-06-15 19:54:24 [http-nio-8080-exec-8] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 19:54:24 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:54:24 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:54:24 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61b1161b] was not registered for synchronization because synchronization is not active
2025-06-15 19:54:24 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:54:21.74}] will not be managed by Spring
2025-06-15 19:54:24 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:54:24 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:54:24 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:54:24 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61b1161b]
2025-06-15 19:54:24 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 19:54:25 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:54:25 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:54:25 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f7924c1] was not registered for synchronization because synchronization is not active
2025-06-15 19:54:25 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:54:21.74}] will not be managed by Spring
2025-06-15 19:54:25 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:54:25 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:54:25 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:54:25 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f7924c1]
2025-06-15 19:54:26 [http-nio-8080-exec-10] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 19:54:26 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:54:26 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:54:26 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e81cb2c] was not registered for synchronization because synchronization is not active
2025-06-15 19:54:26 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:54:21.74}] will not be managed by Spring
2025-06-15 19:54:26 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:54:26 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:54:26 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:54:26 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e81cb2c]
2025-06-15 19:54:26 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 19:54:26 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:54:26 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:54:26 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5237c657] was not registered for synchronization because synchronization is not active
2025-06-15 19:54:26 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:54:21.74}] will not be managed by Spring
2025-06-15 19:54:26 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:54:26 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:54:26 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:54:26 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5237c657]
2025-06-15 19:54:28 [http-nio-8080-exec-8] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 19:54:28 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:54:28 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:54:28 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68f62b9f] was not registered for synchronization because synchronization is not active
2025-06-15 19:54:28 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:54:21.74}] will not be managed by Spring
2025-06-15 19:54:28 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:54:28 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:54:28 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:54:28 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68f62b9f]
2025-06-15 19:54:28 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 19:54:28 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:54:28 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:54:28 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d3f44] was not registered for synchronization because synchronization is not active
2025-06-15 19:54:28 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:54:21.74}] will not be managed by Spring
2025-06-15 19:54:28 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:54:28 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:54:28 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:54:28 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d3f44]
2025-06-15 19:54:31 [http-nio-8080-exec-10] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported]
2025-06-15 19:54:33 [http-nio-8080-exec-2] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 19:54:33 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:54:33 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:54:33 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b7d25ca] was not registered for synchronization because synchronization is not active
2025-06-15 19:54:33 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:54:21.74}] will not be managed by Spring
2025-06-15 19:54:33 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:54:33 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:54:33 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:54:33 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b7d25ca]
2025-06-15 19:54:33 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 19:54:33 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:54:33 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:54:33 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f8ad5f5] was not registered for synchronization because synchronization is not active
2025-06-15 19:54:33 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:54:21.74}] will not be managed by Spring
2025-06-15 19:54:33 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:54:33 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:54:33 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:54:33 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f8ad5f5]
2025-06-15 19:55:38 [http-nio-8080-exec-1] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 19:55:38 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:55:38 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:55:38 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@473554de] was not registered for synchronization because synchronization is not active
2025-06-15 19:55:38 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:55:38.891}] will not be managed by Spring
2025-06-15 19:55:38 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:55:38 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:55:38 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:55:38 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@473554de]
2025-06-15 19:55:38 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 19:55:39 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:55:39 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:55:39 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@261c0e62] was not registered for synchronization because synchronization is not active
2025-06-15 19:55:39 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:55:38.891}] will not be managed by Spring
2025-06-15 19:55:39 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:55:39 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:55:39 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:55:39 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@261c0e62]
2025-06-15 19:55:39 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:55:39 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:55:39 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f10a601] was not registered for synchronization because synchronization is not active
2025-06-15 19:55:39 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:55:38.891}] will not be managed by Spring
2025-06-15 19:55:39 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:55:39 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:55:39 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:55:39 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f10a601]
2025-06-15 19:55:39 [http-nio-8080-exec-6] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 19:55:39 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:55:39 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:55:39 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f69a241] was not registered for synchronization because synchronization is not active
2025-06-15 19:55:39 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:55:38.891}] will not be managed by Spring
2025-06-15 19:55:39 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:55:39 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:55:39 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:55:39 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f69a241]
2025-06-15 19:55:39 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 19:55:39 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:55:39 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:55:39 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49de474f] was not registered for synchronization because synchronization is not active
2025-06-15 19:55:39 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:55:38.891}] will not be managed by Spring
2025-06-15 19:55:39 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:55:39 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:55:39 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:55:39 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49de474f]
2025-06-15 19:55:39 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:55:39 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:55:39 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ac83c1b] was not registered for synchronization because synchronization is not active
2025-06-15 19:55:39 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:55:38.891}] will not be managed by Spring
2025-06-15 19:55:39 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:55:39 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:55:39 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:55:39 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ac83c1b]
2025-06-15 19:55:43 [http-nio-8080-exec-8] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 19:55:43 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:55:43 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:55:43 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@146df7ed] was not registered for synchronization because synchronization is not active
2025-06-15 19:55:43 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:55:38.891}] will not be managed by Spring
2025-06-15 19:55:43 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:55:43 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:55:43 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:55:43 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@146df7ed]
2025-06-15 19:55:43 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 19:55:43 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:55:43 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:55:43 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a70d52a] was not registered for synchronization because synchronization is not active
2025-06-15 19:55:43 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:55:38.891}] will not be managed by Spring
2025-06-15 19:55:43 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:55:43 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:55:43 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:55:43 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a70d52a]
2025-06-15 19:55:43 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:55:43 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:55:43 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@622d25ab] was not registered for synchronization because synchronization is not active
2025-06-15 19:55:43 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:55:38.891}] will not be managed by Spring
2025-06-15 19:55:43 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:55:43 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:55:43 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:55:43 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@622d25ab]
2025-06-15 19:55:45 [http-nio-8080-exec-3] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported]
2025-06-15 19:56:02 [http-nio-8080-exec-7] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 19:56:02 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:56:02 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:56:02 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fbe0e31] was not registered for synchronization because synchronization is not active
2025-06-15 19:56:02 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:55:38.891}] will not be managed by Spring
2025-06-15 19:56:02 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:56:02 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:56:02 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:56:02 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fbe0e31]
2025-06-15 19:56:02 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 19:56:02 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:56:02 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:56:02 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ee43f3d] was not registered for synchronization because synchronization is not active
2025-06-15 19:56:02 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:55:38.891}] will not be managed by Spring
2025-06-15 19:56:02 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:56:02 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:56:02 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:56:02 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ee43f3d]
2025-06-15 19:56:02 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:56:02 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:56:02 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43823abf] was not registered for synchronization because synchronization is not active
2025-06-15 19:56:02 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:55:38.891}] will not be managed by Spring
2025-06-15 19:56:02 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:56:02 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:56:02 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:56:02 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43823abf]
2025-06-15 19:56:36 [http-nio-8080-exec-10] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 19:56:36 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:56:36 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:56:36 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1538bb7c] was not registered for synchronization because synchronization is not active
2025-06-15 19:56:36 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:55:38.891}] will not be managed by Spring
2025-06-15 19:56:36 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:56:36 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:56:36 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:56:36 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1538bb7c]
2025-06-15 19:56:36 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 19:56:36 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:56:36 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:56:36 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dfc1d5] was not registered for synchronization because synchronization is not active
2025-06-15 19:56:36 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:55:38.891}] will not be managed by Spring
2025-06-15 19:56:36 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:56:36 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:56:36 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:56:36 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dfc1d5]
2025-06-15 19:56:46 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:56:46 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@561b2c94] was not registered for synchronization because synchronization is not active
2025-06-15 19:56:46 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:55:38.891}] will not be managed by Spring
2025-06-15 19:56:46 [http-nio-8080-exec-9] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 19:56:46 [http-nio-8080-exec-9] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 19(Long)
2025-06-15 19:56:46 [http-nio-8080-exec-9] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 0
2025-06-15 19:56:46 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@561b2c94]
2025-06-15 19:56:48 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:56:48 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17f4e4ee] was not registered for synchronization because synchronization is not active
2025-06-15 19:56:48 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:55:38.891}] will not be managed by Spring
2025-06-15 19:56:48 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 19:56:48 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 20(Long)
2025-06-15 19:56:48 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 4
2025-06-15 19:56:48 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17f4e4ee]
2025-06-15 19:56:48 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:56:48 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bd599fb] was not registered for synchronization because synchronization is not active
2025-06-15 19:56:48 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:55:38.891}] will not be managed by Spring
2025-06-15 19:56:48 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 19:56:48 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 21(Long)
2025-06-15 19:56:48 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 3
2025-06-15 19:56:48 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bd599fb]
2025-06-15 19:57:00 [http-nio-8080-exec-4] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 我最近有点难过
2025-06-15 19:57:00 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:57:00 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:57:00 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a570fe7] was not registered for synchronization because synchronization is not active
2025-06-15 19:57:00 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:55:38.891}] will not be managed by Spring
2025-06-15 19:57:00 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:57:00 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:57:00 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:57:00 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a570fe7]
2025-06-15 19:57:00 [http-nio-8080-exec-4] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 我最近有点难过
2025-06-15 19:57:00 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:57:00 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62a16410]
2025-06-15 19:57:00 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:55:38.891}] will be managed by Spring
2025-06-15 19:57:00 [http-nio-8080-exec-4] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM chat_history WHERE user_id = ? ORDER BY created_at
2025-06-15 19:57:00 [http-nio-8080-exec-4] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 19:57:00 [http-nio-8080-exec-4] DEBUG c.e.q.m.C.findByUserId - <==      Total: 63
2025-06-15 19:57:00 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62a16410]
2025-06-15 19:57:00 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62a16410] from current transaction
2025-06-15 19:57:00 [http-nio-8080-exec-4] DEBUG c.e.q.m.C.insertChatHistory - ==>  Preparing: INSERT INTO chat_history (user_id, user_message, ai_response, version, created_at, conversation_id) VALUES (?, ?, ?,?, ?,?)
2025-06-15 19:57:00 [http-nio-8080-exec-4] DEBUG c.e.q.m.C.insertChatHistory - ==> Parameters: 6(Long), 我最近有点难过(String), null, 57(Long), 2025-06-15T19:57:00.813973(LocalDateTime), 19(Long)
2025-06-15 19:57:00 [http-nio-8080-exec-4] DEBUG c.e.q.m.C.insertChatHistory - <==    Updates: 1
2025-06-15 19:57:00 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62a16410]
2025-06-15 19:57:00 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.ChatService - 保存历史记录: 我最近有点难过
2025-06-15 19:57:00 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62a16410]
2025-06-15 19:57:00 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62a16410]
2025-06-15 19:57:00 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62a16410]
2025-06-15 19:57:13 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 听起来你最近心情不太好，我很理解你现在的感觉。
2025-06-15 19:57:14 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 生活中难免会遇到一些让我们感到难过的事情，这是很正常的。
2025-06-15 19:57:14 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 如果你愿意，可以和我分享一下，也许倾诉一下会让你感觉好一些。
2025-06-15 19:57:16 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 当然，如果你暂时不想说也没关系，我可以陪着你一起度过这个时刻。

有时候，和朋友聊聊天、做些自己喜欢的事情，或者只是静静地待一会儿，都能帮助我们缓解情绪。
2025-06-15 19:57:17 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 如果难过的感觉持续很久，也可以考虑找专业的心理咨询师聊聊，他们能提供更专业的支持和建议。

无论你选择怎么做，我都会在这里支持你，陪伴你一起度过这个难关。
2025-06-15 19:57:17 [boundedElastic-2] INFO  c.e.qasystem.service.ChatService - Streaming response completed for userId: 6, response: 听起来你最近心情不太好，我很理解你现在的感觉。生活中难免会遇到一些让我们感到难过的事情，这是很正常的。如果你愿意，可以和我分享一下，也许倾诉一下会让你感觉好一些。当然，如果你暂时不想说也没关系，我可以陪着你一起度过这个时刻。

有时候，和朋友聊聊天、做些自己喜欢的事情，或者只是静静地待一会儿，都能帮助我们缓解情绪。如果难过的感觉持续很久，也可以考虑找专业的心理咨询师聊聊，他们能提供更专业的支持和建议。

无论你选择怎么做，我都会在这里支持你，陪伴你一起度过这个难关。
2025-06-15 19:57:17 [boundedElastic-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:57:17 [boundedElastic-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2417d77] was not registered for synchronization because synchronization is not active
2025-06-15 19:57:17 [boundedElastic-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:55:38.891}] will not be managed by Spring
2025-06-15 19:57:17 [boundedElastic-2] DEBUG c.e.q.m.C.updateChatHistory - ==>  Preparing: Update chat_history SET ai_response = ? where version = ?
2025-06-15 19:57:17 [boundedElastic-2] DEBUG c.e.q.m.C.updateChatHistory - ==> Parameters: 听起来你最近心情不太好，我很理解你现在的感觉。生活中难免会遇到一些让我们感到难过的事情，这是很正常的。如果你愿意，可以和我分享一下，也许倾诉一下会让你感觉好一些。当然，如果你暂时不想说也没关系，我可以陪着你一起度过这个时刻。

有时候，和朋友聊聊天、做些自己喜欢的事情，或者只是静静地待一会儿，都能帮助我们缓解情绪。如果难过的感觉持续很久，也可以考虑找专业的心理咨询师聊聊，他们能提供更专业的支持和建议。

无论你选择怎么做，我都会在这里支持你，陪伴你一起度过这个难关。(String), 57(Long)
2025-06-15 19:57:17 [boundedElastic-2] DEBUG c.e.q.m.C.updateChatHistory - <==    Updates: 1
2025-06-15 19:57:17 [boundedElastic-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2417d77]
2025-06-15 19:57:17 [boundedElastic-2] DEBUG c.e.qasystem.service.ChatService - Updated AI response to chat history
2025-06-15 19:57:32 [http-nio-8080-exec-3] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 19:57:32 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:57:32 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:57:32 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bb011d3] was not registered for synchronization because synchronization is not active
2025-06-15 19:57:32 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:55:38.891}] will not be managed by Spring
2025-06-15 19:57:32 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:57:32 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:57:32 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:57:32 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bb011d3]
2025-06-15 19:57:32 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 19:57:32 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:57:32 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:57:32 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59753204] was not registered for synchronization because synchronization is not active
2025-06-15 19:57:32 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:55:38.891}] will not be managed by Spring
2025-06-15 19:57:32 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:57:32 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:57:32 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:57:32 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59753204]
2025-06-15 19:57:33 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:57:33 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1eedf6e1] was not registered for synchronization because synchronization is not active
2025-06-15 19:57:33 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:55:38.891}] will not be managed by Spring
2025-06-15 19:57:33 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 19:57:33 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 18(Long)
2025-06-15 19:57:33 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 0
2025-06-15 19:57:33 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1eedf6e1]
2025-06-15 19:57:34 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:57:34 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a6acd4a] was not registered for synchronization because synchronization is not active
2025-06-15 19:57:34 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:55:38.891}] will not be managed by Spring
2025-06-15 19:57:34 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 19:57:34 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 19(Long)
2025-06-15 19:57:34 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 1
2025-06-15 19:57:34 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a6acd4a]
2025-06-15 19:58:40 [http-nio-8080-exec-10] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 可以做什么来缓解这种感觉呢
2025-06-15 19:58:40 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 19:58:40 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:58:40 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65d1b537] was not registered for synchronization because synchronization is not active
2025-06-15 19:58:40 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:58:40.794}] will not be managed by Spring
2025-06-15 19:58:40 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 19:58:40 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 19:58:40 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 19:58:40 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65d1b537]
2025-06-15 19:58:40 [http-nio-8080-exec-10] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 可以做什么来缓解这种感觉呢
2025-06-15 19:58:40 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:58:40 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6533a98c]
2025-06-15 19:58:40 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:58:40.794}] will be managed by Spring
2025-06-15 19:58:40 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM chat_history WHERE user_id = ? ORDER BY created_at
2025-06-15 19:58:40 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 19:58:40 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.findByUserId - <==      Total: 64
2025-06-15 19:58:40 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6533a98c]
2025-06-15 19:58:40 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6533a98c] from current transaction
2025-06-15 19:58:40 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.insertChatHistory - ==>  Preparing: INSERT INTO chat_history (user_id, user_message, ai_response, version, created_at, conversation_id) VALUES (?, ?, ?,?, ?,?)
2025-06-15 19:58:40 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.insertChatHistory - ==> Parameters: 6(Long), 可以做什么来缓解这种感觉呢(String), null, 58(Long), 2025-06-15T19:58:40.806907600(LocalDateTime), 19(Long)
2025-06-15 19:58:40 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.insertChatHistory - <==    Updates: 1
2025-06-15 19:58:40 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6533a98c]
2025-06-15 19:58:40 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.ChatService - 保存历史记录: 可以做什么来缓解这种感觉呢
2025-06-15 19:58:40 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6533a98c]
2025-06-15 19:58:40 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6533a98c]
2025-06-15 19:58:40 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6533a98c]
2025-06-15 19:58:51 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 当你感到难过时，可以尝试一些简单的方法来缓解这种情绪。
2025-06-15 19:58:52 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 比如，深呼吸几次，让自己放松下来；或者和朋友聊聊天，倾诉一下心情；还可以做点让自己开心的事情，比如听音乐、看喜欢的电影，或者出去走走，感受一下大自然的美好。

有时候，运动也能帮助释放压力，比如散步、跑步或者做一些简单的拉伸。
2025-06-15 19:58:53 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 写日记也是一个不错的选择，把心里的感受写下来，可能会让你感觉轻松一些。

记住，你并不孤单，这些情绪是暂时的，慢慢来，一切都会好起来的。
2025-06-15 19:58:53 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 如果你愿意，随时可以和我聊聊，我会一直在这里支持你。
2025-06-15 19:58:53 [boundedElastic-1] INFO  c.e.qasystem.service.ChatService - Streaming response completed for userId: 6, response: 当你感到难过时，可以尝试一些简单的方法来缓解这种情绪。比如，深呼吸几次，让自己放松下来；或者和朋友聊聊天，倾诉一下心情；还可以做点让自己开心的事情，比如听音乐、看喜欢的电影，或者出去走走，感受一下大自然的美好。

有时候，运动也能帮助释放压力，比如散步、跑步或者做一些简单的拉伸。写日记也是一个不错的选择，把心里的感受写下来，可能会让你感觉轻松一些。

记住，你并不孤单，这些情绪是暂时的，慢慢来，一切都会好起来的。如果你愿意，随时可以和我聊聊，我会一直在这里支持你。
2025-06-15 19:58:53 [boundedElastic-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 19:58:53 [boundedElastic-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ef15791] was not registered for synchronization because synchronization is not active
2025-06-15 19:58:53 [boundedElastic-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 19:58:40.794}] will not be managed by Spring
2025-06-15 19:58:53 [boundedElastic-1] DEBUG c.e.q.m.C.updateChatHistory - ==>  Preparing: Update chat_history SET ai_response = ? where version = ?
2025-06-15 19:58:53 [boundedElastic-1] DEBUG c.e.q.m.C.updateChatHistory - ==> Parameters: 当你感到难过时，可以尝试一些简单的方法来缓解这种情绪。比如，深呼吸几次，让自己放松下来；或者和朋友聊聊天，倾诉一下心情；还可以做点让自己开心的事情，比如听音乐、看喜欢的电影，或者出去走走，感受一下大自然的美好。

有时候，运动也能帮助释放压力，比如散步、跑步或者做一些简单的拉伸。写日记也是一个不错的选择，把心里的感受写下来，可能会让你感觉轻松一些。

记住，你并不孤单，这些情绪是暂时的，慢慢来，一切都会好起来的。如果你愿意，随时可以和我聊聊，我会一直在这里支持你。(String), 58(Long)
2025-06-15 19:58:53 [boundedElastic-1] DEBUG c.e.q.m.C.updateChatHistory - <==    Updates: 1
2025-06-15 19:58:53 [boundedElastic-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ef15791]
2025-06-15 19:58:53 [boundedElastic-1] DEBUG c.e.qasystem.service.ChatService - Updated AI response to chat history
2025-06-15 20:00:22 [http-nio-8080-exec-9] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 20:00:22 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:00:22 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:00:22 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34805622] was not registered for synchronization because synchronization is not active
2025-06-15 20:00:22 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 20:00:22.701}] will not be managed by Spring
2025-06-15 20:00:22 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:00:22 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:00:22 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:00:22 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34805622]
2025-06-15 20:00:22 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 20:00:22 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:00:22 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:00:22 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79ca56b] was not registered for synchronization because synchronization is not active
2025-06-15 20:00:22 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 20:00:22.701}] will not be managed by Spring
2025-06-15 20:00:22 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:00:22 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:00:22 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:00:22 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79ca56b]
2025-06-15 20:00:24 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:00:24 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a755758] was not registered for synchronization because synchronization is not active
2025-06-15 20:00:24 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 20:00:22.701}] will not be managed by Spring
2025-06-15 20:00:24 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 20:00:24 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 17(Long)
2025-06-15 20:00:24 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 0
2025-06-15 20:00:24 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a755758]
2025-06-15 20:00:38 [http-nio-8080-exec-3] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 我们来玩海龟汤吧
2025-06-15 20:00:38 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:00:38 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:00:38 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17f576c4] was not registered for synchronization because synchronization is not active
2025-06-15 20:00:38 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 20:00:22.701}] will not be managed by Spring
2025-06-15 20:00:38 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:00:38 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:00:38 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:00:38 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17f576c4]
2025-06-15 20:00:38 [http-nio-8080-exec-3] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 我们来玩海龟汤吧
2025-06-15 20:00:38 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:00:38 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19101bd5]
2025-06-15 20:00:38 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 20:00:22.701}] will be managed by Spring
2025-06-15 20:00:38 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM chat_history WHERE user_id = ? ORDER BY created_at
2025-06-15 20:00:38 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 20:00:38 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.findByUserId - <==      Total: 65
2025-06-15 20:00:38 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19101bd5]
2025-06-15 20:00:38 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19101bd5] from current transaction
2025-06-15 20:00:38 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.insertChatHistory - ==>  Preparing: INSERT INTO chat_history (user_id, user_message, ai_response, version, created_at, conversation_id) VALUES (?, ?, ?,?, ?,?)
2025-06-15 20:00:38 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.insertChatHistory - ==> Parameters: 6(Long), 我们来玩海龟汤吧(String), null, 59(Long), 2025-06-15T20:00:38.706422100(LocalDateTime), 21(Long)
2025-06-15 20:00:38 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.insertChatHistory - <==    Updates: 1
2025-06-15 20:00:38 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19101bd5]
2025-06-15 20:00:38 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.ChatService - 保存历史记录: 我们来玩海龟汤吧
2025-06-15 20:00:38 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19101bd5]
2025-06-15 20:00:38 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19101bd5]
2025-06-15 20:00:38 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19101bd5]
2025-06-15 20:00:57 [boundedElastic-4] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 好啊！
2025-06-15 20:00:58 [boundedElastic-4] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 海龟汤听起来很有趣，我们可以一起编一个搞笑或奇幻的故事。
2025-06-15 20:00:59 [boundedElastic-4] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 规则很简单，我们轮流添加句子，每一轮都尽量让故事更有趣、更荒谬。
2025-06-15 20:01:00 [boundedElastic-4] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 你先开始吧，我会接上你的句子，一起构建一个疯狂的故事！
2025-06-15 20:01:00 [boundedElastic-4] INFO  c.e.qasystem.service.ChatService - Streaming response completed for userId: 6, response: 好啊！海龟汤听起来很有趣，我们可以一起编一个搞笑或奇幻的故事。规则很简单，我们轮流添加句子，每一轮都尽量让故事更有趣、更荒谬。你先开始吧，我会接上你的句子，一起构建一个疯狂的故事！
2025-06-15 20:01:00 [boundedElastic-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:01:00 [boundedElastic-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13554ecd] was not registered for synchronization because synchronization is not active
2025-06-15 20:01:00 [boundedElastic-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 20:00:22.701}] will not be managed by Spring
2025-06-15 20:01:00 [boundedElastic-4] DEBUG c.e.q.m.C.updateChatHistory - ==>  Preparing: Update chat_history SET ai_response = ? where version = ?
2025-06-15 20:01:00 [boundedElastic-4] DEBUG c.e.q.m.C.updateChatHistory - ==> Parameters: 好啊！海龟汤听起来很有趣，我们可以一起编一个搞笑或奇幻的故事。规则很简单，我们轮流添加句子，每一轮都尽量让故事更有趣、更荒谬。你先开始吧，我会接上你的句子，一起构建一个疯狂的故事！(String), 59(Long)
2025-06-15 20:01:00 [boundedElastic-4] DEBUG c.e.q.m.C.updateChatHistory - <==    Updates: 1
2025-06-15 20:01:00 [boundedElastic-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13554ecd]
2025-06-15 20:01:00 [boundedElastic-4] DEBUG c.e.qasystem.service.ChatService - Updated AI response to chat history
2025-06-15 20:09:11 [http-nio-8080-exec-6] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 20:09:11 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:09:11 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:09:11 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43e47a13] was not registered for synchronization because synchronization is not active
2025-06-15 20:09:11 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 20:09:11.127}] will not be managed by Spring
2025-06-15 20:09:11 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:09:11 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:09:11 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:09:11 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43e47a13]
2025-06-15 20:09:11 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 20:09:11 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:09:11 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:09:11 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3286c65d] was not registered for synchronization because synchronization is not active
2025-06-15 20:09:11 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 20:09:11.127}] will not be managed by Spring
2025-06-15 20:09:11 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:09:11 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:09:11 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:09:11 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3286c65d]
2025-06-15 20:09:14 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:09:14 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28224578] was not registered for synchronization because synchronization is not active
2025-06-15 20:09:14 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 20:09:11.127}] will not be managed by Spring
2025-06-15 20:09:14 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 20:09:14 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 19(Long)
2025-06-15 20:09:14 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 2
2025-06-15 20:09:14 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28224578]
2025-06-15 20:09:19 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:09:19 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:09:19 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23bb3dd3] was not registered for synchronization because synchronization is not active
2025-06-15 20:09:19 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 20:09:11.127}] will not be managed by Spring
2025-06-15 20:09:19 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:09:19 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:09:19 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:09:19 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23bb3dd3]
2025-06-15 20:09:19 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:09:19 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bf3049e] was not registered for synchronization because synchronization is not active
2025-06-15 20:09:19 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 20:09:11.127}] will not be managed by Spring
2025-06-15 20:09:19 [http-nio-8080-exec-7] DEBUG c.e.q.m.C.insertConversation - ==>  Preparing: INSERT INTO conversation (user_id, name, start_time) VALUES (?, ?, ?)
2025-06-15 20:09:19 [http-nio-8080-exec-7] DEBUG c.e.q.m.C.insertConversation - ==> Parameters: 6(Long), 新建会话(String), 2025-06-15 20:09:19.209(Timestamp)
2025-06-15 20:09:19 [http-nio-8080-exec-7] DEBUG c.e.q.m.C.insertConversation - <==    Updates: 1
2025-06-15 20:09:19 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bf3049e]
2025-06-15 20:09:19 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:09:19 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:09:19 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60d443e9] was not registered for synchronization because synchronization is not active
2025-06-15 20:09:19 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 20:09:11.127}] will not be managed by Spring
2025-06-15 20:09:19 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:09:19 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:09:19 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:09:19 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@610b290b] was not registered for synchronization because synchronization is not active
2025-06-15 20:09:19 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:09:19 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.432, closeCount=0, lastValidateTimeMillis=2025-06-15 20:09:19.226}] will not be managed by Spring
2025-06-15 20:09:19 [http-nio-8080-exec-9] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 20:09:19 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60d443e9]
2025-06-15 20:09:19 [http-nio-8080-exec-9] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 26(Long)
2025-06-15 20:09:19 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:09:19 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52a7506f] was not registered for synchronization because synchronization is not active
2025-06-15 20:09:19 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.438, closeCount=0, lastValidateTimeMillis=2025-06-15 20:09:11.127}] will not be managed by Spring
2025-06-15 20:09:19 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM conversation WHERE user_id = ?
2025-06-15 20:09:19 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 20:09:19 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.findByUserId - <==      Total: 14
2025-06-15 20:09:19 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52a7506f]
2025-06-15 20:09:19 [http-nio-8080-exec-9] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 0
2025-06-15 20:09:19 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@610b290b]
2025-06-15 20:09:36 [http-nio-8080-exec-2] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 晚上好
2025-06-15 20:09:36 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:09:36 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:09:36 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@331f5b5a] was not registered for synchronization because synchronization is not active
2025-06-15 20:09:36 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.432, closeCount=0, lastValidateTimeMillis=2025-06-15 20:09:19.226}] will not be managed by Spring
2025-06-15 20:09:36 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:09:36 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:09:36 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:09:36 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@331f5b5a]
2025-06-15 20:09:36 [http-nio-8080-exec-2] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 晚上好
2025-06-15 20:09:36 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:09:36 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77f6950e]
2025-06-15 20:09:36 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.432, closeCount=0, lastValidateTimeMillis=2025-06-15 20:09:19.226}] will be managed by Spring
2025-06-15 20:09:36 [http-nio-8080-exec-2] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM chat_history WHERE user_id = ? ORDER BY created_at
2025-06-15 20:09:36 [http-nio-8080-exec-2] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 20:09:36 [http-nio-8080-exec-2] DEBUG c.e.q.m.C.findByUserId - <==      Total: 66
2025-06-15 20:09:36 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77f6950e]
2025-06-15 20:09:36 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77f6950e] from current transaction
2025-06-15 20:09:36 [http-nio-8080-exec-2] DEBUG c.e.q.m.C.insertChatHistory - ==>  Preparing: INSERT INTO chat_history (user_id, user_message, ai_response, version, created_at, conversation_id) VALUES (?, ?, ?,?, ?,?)
2025-06-15 20:09:36 [http-nio-8080-exec-2] DEBUG c.e.q.m.C.insertChatHistory - ==> Parameters: 6(Long), 晚上好(String), null, 60(Long), 2025-06-15T20:09:36.056111500(LocalDateTime), 26(Long)
2025-06-15 20:09:36 [http-nio-8080-exec-2] DEBUG c.e.q.m.C.insertChatHistory - <==    Updates: 1
2025-06-15 20:09:36 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77f6950e]
2025-06-15 20:09:36 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.ChatService - 保存历史记录: 晚上好
2025-06-15 20:09:36 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77f6950e]
2025-06-15 20:09:36 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77f6950e]
2025-06-15 20:09:36 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77f6950e]
2025-06-15 20:09:48 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 晚上好！
2025-06-15 20:09:48 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 今天过得怎么样？有什么想聊的或者需要帮助的吗？
2025-06-15 20:09:48 [boundedElastic-6] WARN  c.e.qasystem.service.ChatService - Short response detected: 晚上好！今天过得怎么样？有什么想聊的或者需要帮助的吗？
2025-06-15 20:09:48 [boundedElastic-6] INFO  c.e.qasystem.service.ChatService - Streaming response completed for userId: 6, response: 晚上好！今天过得怎么样？有什么想聊的或者需要帮助的吗？（回答可能不完整，请尝试重新提问）
2025-06-15 20:09:48 [boundedElastic-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:09:48 [boundedElastic-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73772aea] was not registered for synchronization because synchronization is not active
2025-06-15 20:09:48 [boundedElastic-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.432, closeCount=0, lastValidateTimeMillis=2025-06-15 20:09:19.226}] will not be managed by Spring
2025-06-15 20:09:48 [boundedElastic-6] DEBUG c.e.q.m.C.updateChatHistory - ==>  Preparing: Update chat_history SET ai_response = ? where version = ?
2025-06-15 20:09:48 [boundedElastic-6] DEBUG c.e.q.m.C.updateChatHistory - ==> Parameters: 晚上好！今天过得怎么样？有什么想聊的或者需要帮助的吗？（回答可能不完整，请尝试重新提问）(String), 60(Long)
2025-06-15 20:09:48 [boundedElastic-6] DEBUG c.e.q.m.C.updateChatHistory - <==    Updates: 1
2025-06-15 20:09:48 [boundedElastic-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73772aea]
2025-06-15 20:09:48 [boundedElastic-6] DEBUG c.e.qasystem.service.ChatService - Updated AI response to chat history
2025-06-15 20:10:26 [http-nio-8080-exec-4] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 20:10:26 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:10:26 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:10:26 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a8d1d67] was not registered for synchronization because synchronization is not active
2025-06-15 20:10:26 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.432, closeCount=0, lastValidateTimeMillis=2025-06-15 20:09:19.226}] will not be managed by Spring
2025-06-15 20:10:26 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:10:26 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:10:26 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:10:26 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a8d1d67]
2025-06-15 20:10:26 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 20:10:26 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:10:26 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:10:26 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bfb70ee] was not registered for synchronization because synchronization is not active
2025-06-15 20:10:26 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.432, closeCount=0, lastValidateTimeMillis=2025-06-15 20:09:19.226}] will not be managed by Spring
2025-06-15 20:10:26 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:10:26 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:10:26 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:10:26 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bfb70ee]
2025-06-15 20:10:28 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:10:28 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f46aaf] was not registered for synchronization because synchronization is not active
2025-06-15 20:10:28 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 19:39:47.432, closeCount=0, lastValidateTimeMillis=2025-06-15 20:09:19.226}] will not be managed by Spring
2025-06-15 20:10:28 [http-nio-8080-exec-7] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 20:10:28 [http-nio-8080-exec-7] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 26(Long)
2025-06-15 20:10:28 [http-nio-8080-exec-7] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 1
2025-06-15 20:10:28 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f46aaf]
2025-06-15 20:12:07 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-06-15 20:12:07 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 20:12:07 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-06-15 20:12:07 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 20:12:07 [Thread-7] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-06-15 20:12:07 [Thread-7] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-06-15 20:12:07 [Thread-7] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-06-15 20:12:08 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 65268 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 20:12:08 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 20:12:08 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 20:12:08 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 20:12:08 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 20:12:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 20:12:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 20:12:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 2 ms. Found 0 JDBC repository interfaces.
2025-06-15 20:12:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 20:12:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 20:12:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-06-15 20:12:08 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 20:12:08 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 20:12:08 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 20:12:08 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 20:12:08 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 20:12:08 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 20:12:08 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 20:12:08 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 20:12:08 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 20:12:08 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 20:12:08 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 20:12:08 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 295 ms
2025-06-15 20:12:08 [restartedMain] WARN  o.a.c.c.C.[Tomcat].[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [7235B89F5D5DF761E52515BE7C8D8E19]
2025-06-15 20:12:08 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 20:12:08 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-2} inited
2025-06-15 20:12:08 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 20:12:08 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 20:12:08 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 20:12:08 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 20:12:08 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 20:12:08 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 20:12:08 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 20:12:08 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 20:12:08 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 20:12:08 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 20:12:08 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 0.719 seconds (process running for 1944.439)
2025-06-15 20:12:08 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-06-15 20:12:10 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-15 20:12:10 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-15 20:12:10 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-06-15 20:12:10 [http-nio-8080-exec-4] DEBUG c.e.q.controller.UserController - 显示登录页面
2025-06-15 20:12:10 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-06-15 20:12:10 [Thread-26] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 20:12:10 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-06-15 20:12:10 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 20:12:10 [Thread-26] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-06-15 20:12:10 [Thread-26] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-2} closing ...
2025-06-15 20:12:10 [Thread-26] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-2} closed
2025-06-15 20:12:10 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 65268 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 20:12:10 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 20:12:10 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 20:12:10 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 20:12:10 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 20:12:10 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 20:12:10 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 20:12:10 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 JDBC repository interfaces.
2025-06-15 20:12:10 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 20:12:10 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 20:12:10 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-06-15 20:12:10 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 20:12:10 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 20:12:10 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 20:12:10 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 20:12:10 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 20:12:10 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 20:12:10 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 20:12:10 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 20:12:10 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 20:12:10 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 20:12:10 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 20:12:10 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 193 ms
2025-06-15 20:12:10 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 20:12:10 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-3} inited
2025-06-15 20:12:10 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 20:12:10 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 20:12:10 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 20:12:10 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 20:12:10 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 20:12:10 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 20:12:10 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 20:12:10 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 20:12:10 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 20:12:10 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 20:12:10 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 0.544 seconds (process running for 1946.636)
2025-06-15 20:12:10 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-06-15 20:12:14 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-15 20:12:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-15 20:12:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-15 20:12:14 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:12:14 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a1e76a2] was not registered for synchronization because synchronization is not active
2025-06-15 20:12:14 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:12:10.691, closeCount=0, lastValidateTimeMillis=2025-06-15 20:12:10.691}] will not be managed by Spring
2025-06-15 20:12:14 [http-nio-8080-exec-1] DEBUG c.e.q.mapper.UserMapper.findByUser - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:12:14 [http-nio-8080-exec-1] DEBUG c.e.q.mapper.UserMapper.findByUser - ==> Parameters: ls1(String)
2025-06-15 20:12:14 [http-nio-8080-exec-1] DEBUG c.e.q.mapper.UserMapper.findByUser - <==      Total: 1
2025-06-15 20:12:14 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a1e76a2]
2025-06-15 20:12:14 [http-nio-8080-exec-2] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 20:12:14 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:12:14 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:12:14 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56e2d79d] was not registered for synchronization because synchronization is not active
2025-06-15 20:12:14 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:12:10.691, closeCount=0, lastValidateTimeMillis=2025-06-15 20:12:10.691}] will not be managed by Spring
2025-06-15 20:12:14 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:12:14 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:12:14 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:12:14 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56e2d79d]
2025-06-15 20:12:14 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 20:12:15 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:12:15 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:12:15 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e158baa] was not registered for synchronization because synchronization is not active
2025-06-15 20:12:15 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:12:10.691, closeCount=0, lastValidateTimeMillis=2025-06-15 20:12:10.691}] will not be managed by Spring
2025-06-15 20:12:15 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:12:15 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:12:15 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:12:15 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e158baa]
2025-06-15 20:12:39 [http-nio-8080-exec-6] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 我想要玩游戏，有哪些游戏值得推荐？
2025-06-15 20:12:39 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:12:39 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:12:39 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43d2e451] was not registered for synchronization because synchronization is not active
2025-06-15 20:12:39 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:12:10.691, closeCount=0, lastValidateTimeMillis=2025-06-15 20:12:10.691}] will not be managed by Spring
2025-06-15 20:12:39 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:12:39 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:12:39 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:12:39 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43d2e451]
2025-06-15 20:12:39 [http-nio-8080-exec-6] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 我想要玩游戏，有哪些游戏值得推荐？
2025-06-15 20:12:39 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:12:39 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@580c95d8]
2025-06-15 20:12:39 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:12:10.691, closeCount=0, lastValidateTimeMillis=2025-06-15 20:12:10.691}] will be managed by Spring
2025-06-15 20:12:39 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM chat_history WHERE user_id = ? ORDER BY created_at
2025-06-15 20:12:39 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 20:12:39 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.findByUserId - <==      Total: 67
2025-06-15 20:12:39 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@580c95d8]
2025-06-15 20:12:39 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@580c95d8] from current transaction
2025-06-15 20:12:39 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.updateConversation - ==>  Preparing: UPDATE conversation SET name = ?, start_time = ? WHERE id = ?
2025-06-15 20:12:39 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@580c95d8]
2025-06-15 20:12:39 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@580c95d8]
2025-06-15 20:12:39 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@580c95d8]
2025-06-15 20:12:39 [http-nio-8080-exec-6] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.mybatis.spring.MyBatisSystemException] with root cause
org.apache.ibatis.reflection.ReflectionException: There is no getter for property named 'conversationId' in 'class com.example.qasystem.model.Conversation'
	at org.apache.ibatis.reflection.Reflector.getGetInvoker(Reflector.java:385)
	at org.apache.ibatis.reflection.MetaClass.getGetInvoker(MetaClass.java:160)
	at org.apache.ibatis.reflection.wrapper.BeanWrapper.getBeanProperty(BeanWrapper.java:153)
	at org.apache.ibatis.reflection.wrapper.BeanWrapper.get(BeanWrapper.java:49)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:116)
	at org.apache.ibatis.scripting.defaults.DefaultParameterHandler.setParameters(DefaultParameterHandler.java:82)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.parameterize(PreparedStatementHandler.java:97)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.parameterize(RoutingStatementHandler.java:65)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:91)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	at jdk.proxy2/jdk.proxy2.$Proxy77.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:288)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy6/jdk.proxy6.$Proxy134.updateConversation(Unknown Source)
	at com.example.qasystem.service.ChatService.getStreamingResponse(ChatService.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.example.qasystem.service.ChatService$$SpringCGLIB$$0.getStreamingResponse(<generated>)
	at com.example.qasystem.controller.ChatController.chatStream(ChatController.java:64)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-06-15 20:12:39 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.HttpMediaTypeNotAcceptableException: No acceptable representation]
2025-06-15 20:13:38 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-06-15 20:13:38 [Thread-31] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 20:13:38 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-06-15 20:13:38 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 20:13:38 [Thread-31] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-06-15 20:13:38 [Thread-31] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-3} closing ...
2025-06-15 20:13:38 [Thread-31] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-3} closed
2025-06-15 20:13:38 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 65268 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 20:13:38 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 20:13:38 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 20:13:39 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 20:13:39 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 20:13:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 20:13:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 20:13:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 JDBC repository interfaces.
2025-06-15 20:13:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 20:13:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 20:13:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-06-15 20:13:39 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 20:13:39 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 20:13:39 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 20:13:39 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 20:13:39 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 20:13:39 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 20:13:39 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 20:13:39 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 20:13:39 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 20:13:39 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 20:13:39 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 20:13:39 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 209 ms
2025-06-15 20:13:39 [restartedMain] WARN  o.a.c.c.C.[Tomcat].[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [B73DD67B5773DB8F68F32DC847A0B878]
2025-06-15 20:13:39 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 20:13:39 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-4} inited
2025-06-15 20:13:39 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 20:13:39 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 20:13:39 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 20:13:39 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 20:13:39 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 20:13:39 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 20:13:39 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 20:13:39 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 20:13:39 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 20:13:39 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 20:13:39 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 0.563 seconds (process running for 2035.119)
2025-06-15 20:13:39 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-06-15 20:13:40 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-15 20:13:40 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-15 20:13:40 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-06-15 20:13:40 [http-nio-8080-exec-2] DEBUG c.e.q.controller.UserController - 显示登录页面
2025-06-15 20:13:40 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-06-15 20:13:40 [Thread-36] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 20:13:40 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-06-15 20:13:41 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 20:13:41 [Thread-36] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-06-15 20:13:41 [Thread-36] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-4} closing ...
2025-06-15 20:13:41 [Thread-36] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-4} closed
2025-06-15 20:13:41 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 65268 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 20:13:41 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 20:13:41 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 20:13:41 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 20:13:41 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 20:13:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 20:13:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 20:13:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 JDBC repository interfaces.
2025-06-15 20:13:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 20:13:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 20:13:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-06-15 20:13:41 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 20:13:41 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 20:13:41 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 20:13:41 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 20:13:41 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 20:13:41 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 20:13:41 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 20:13:41 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 20:13:41 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 20:13:41 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 20:13:41 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 20:13:41 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 171 ms
2025-06-15 20:13:41 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 20:13:41 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-5} inited
2025-06-15 20:13:41 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 20:13:41 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 20:13:41 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 20:13:41 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 20:13:41 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 20:13:41 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 20:13:41 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 20:13:41 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 20:13:41 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 20:13:41 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 20:13:41 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 0.485 seconds (process running for 2037.246)
2025-06-15 20:13:41 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-06-15 20:13:45 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-15 20:13:45 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-15 20:13:45 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-15 20:13:45 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:13:45 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e6779bf] was not registered for synchronization because synchronization is not active
2025-06-15 20:13:45 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:13:41.335, closeCount=0, lastValidateTimeMillis=2025-06-15 20:13:41.335}] will not be managed by Spring
2025-06-15 20:13:45 [http-nio-8080-exec-2] DEBUG c.e.q.mapper.UserMapper.findByUser - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:13:45 [http-nio-8080-exec-2] DEBUG c.e.q.mapper.UserMapper.findByUser - ==> Parameters: ls1(String)
2025-06-15 20:13:45 [http-nio-8080-exec-2] DEBUG c.e.q.mapper.UserMapper.findByUser - <==      Total: 1
2025-06-15 20:13:45 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e6779bf]
2025-06-15 20:13:45 [http-nio-8080-exec-1] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 20:13:45 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:13:45 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:13:45 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@695b10ba] was not registered for synchronization because synchronization is not active
2025-06-15 20:13:45 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:13:41.335, closeCount=0, lastValidateTimeMillis=2025-06-15 20:13:41.335}] will not be managed by Spring
2025-06-15 20:13:45 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:13:45 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:13:45 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:13:45 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@695b10ba]
2025-06-15 20:13:45 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 20:13:45 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:13:45 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:13:45 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@465b20e] was not registered for synchronization because synchronization is not active
2025-06-15 20:13:45 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:13:41.335, closeCount=0, lastValidateTimeMillis=2025-06-15 20:13:41.335}] will not be managed by Spring
2025-06-15 20:13:45 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:13:45 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:13:45 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:13:45 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@465b20e]
2025-06-15 20:14:06 [http-nio-8080-exec-9] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 我想玩游戏，有哪些游戏值得推荐？
2025-06-15 20:14:06 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:14:06 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:14:06 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5305be3b] was not registered for synchronization because synchronization is not active
2025-06-15 20:14:06 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:13:41.335, closeCount=0, lastValidateTimeMillis=2025-06-15 20:13:41.335}] will not be managed by Spring
2025-06-15 20:14:06 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:14:06 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:14:06 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:14:06 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5305be3b]
2025-06-15 20:14:06 [http-nio-8080-exec-9] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 我想玩游戏，有哪些游戏值得推荐？
2025-06-15 20:14:06 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:14:06 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a4983c6]
2025-06-15 20:14:06 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:13:41.335, closeCount=0, lastValidateTimeMillis=2025-06-15 20:13:41.335}] will be managed by Spring
2025-06-15 20:14:06 [http-nio-8080-exec-9] DEBUG c.e.q.m.C.updateConversation - ==>  Preparing: UPDATE conversation SET name = ?, start_time = ? WHERE id = ?
2025-06-15 20:14:06 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a4983c6]
2025-06-15 20:14:06 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a4983c6]
2025-06-15 20:14:06 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a4983c6]
2025-06-15 20:14:06 [http-nio-8080-exec-9] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.mybatis.spring.MyBatisSystemException] with root cause
org.apache.ibatis.reflection.ReflectionException: There is no getter for property named 'conversationId' in 'class com.example.qasystem.model.Conversation'
	at org.apache.ibatis.reflection.Reflector.getGetInvoker(Reflector.java:385)
	at org.apache.ibatis.reflection.MetaClass.getGetInvoker(MetaClass.java:160)
	at org.apache.ibatis.reflection.wrapper.BeanWrapper.getBeanProperty(BeanWrapper.java:153)
	at org.apache.ibatis.reflection.wrapper.BeanWrapper.get(BeanWrapper.java:49)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:116)
	at org.apache.ibatis.scripting.defaults.DefaultParameterHandler.setParameters(DefaultParameterHandler.java:82)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.parameterize(PreparedStatementHandler.java:97)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.parameterize(RoutingStatementHandler.java:65)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:91)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	at jdk.proxy2/jdk.proxy2.$Proxy77.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:288)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy8/jdk.proxy8.$Proxy142.updateConversation(Unknown Source)
	at com.example.qasystem.service.ChatService.getStreamingResponse(ChatService.java:118)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.example.qasystem.service.ChatService$$SpringCGLIB$$0.getStreamingResponse(<generated>)
	at com.example.qasystem.controller.ChatController.chatStream(ChatController.java:64)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-06-15 20:14:06 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.HttpMediaTypeNotAcceptableException: No acceptable representation]
2025-06-15 20:14:42 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-06-15 20:14:42 [Thread-41] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 20:14:42 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-06-15 20:14:43 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 20:14:43 [Thread-41] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-06-15 20:14:43 [Thread-41] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-5} closing ...
2025-06-15 20:14:43 [Thread-41] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-5} closed
2025-06-15 20:14:43 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 65268 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 20:14:43 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 20:14:43 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 20:14:43 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 20:14:43 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 20:14:43 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 20:14:43 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 20:14:43 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 JDBC repository interfaces.
2025-06-15 20:14:43 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 20:14:43 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 20:14:43 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-06-15 20:14:43 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 20:14:43 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 20:14:43 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 20:14:43 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 20:14:43 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 20:14:43 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 20:14:43 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 20:14:43 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 20:14:43 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 20:14:43 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 20:14:43 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 20:14:43 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 396 ms
2025-06-15 20:14:43 [restartedMain] WARN  o.a.c.c.C.[Tomcat].[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [D7E2645B60EB54C092739DE5B516DB1F]
2025-06-15 20:14:43 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 20:14:43 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-6} inited
2025-06-15 20:14:43 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 20:14:43 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 20:14:43 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 20:14:43 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 20:14:43 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 20:14:43 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 20:14:43 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 20:14:43 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 20:14:43 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 20:14:43 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 20:14:43 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 0.743 seconds (process running for 2099.612)
2025-06-15 20:14:43 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-06-15 20:14:45 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-06-15 20:14:45 [Thread-46] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 20:14:45 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-06-15 20:14:45 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 20:14:45 [Thread-46] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-06-15 20:14:45 [Thread-46] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-6} closing ...
2025-06-15 20:14:45 [Thread-46] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-6} closed
2025-06-15 20:14:45 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 65268 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 20:14:45 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 20:14:45 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 20:14:45 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 20:14:45 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 20:14:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 20:14:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 20:14:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 JDBC repository interfaces.
2025-06-15 20:14:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 20:14:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 20:14:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-06-15 20:14:45 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 20:14:45 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 20:14:45 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 20:14:45 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 20:14:45 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 20:14:45 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 20:14:45 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 20:14:45 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 20:14:45 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 20:14:45 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 20:14:45 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 20:14:45 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 182 ms
2025-06-15 20:14:45 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 20:14:45 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-7} inited
2025-06-15 20:14:45 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 20:14:45 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 20:14:45 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 20:14:45 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 20:14:45 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 20:14:45 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 20:14:45 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 20:14:46 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 20:14:46 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 20:14:46 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 20:14:46 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 0.51 seconds (process running for 2101.776)
2025-06-15 20:14:46 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-06-15 20:14:51 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-15 20:14:51 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-15 20:14:51 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-15 20:14:51 [http-nio-8080-exec-6] DEBUG c.e.q.controller.UserController - 显示登录页面
2025-06-15 20:14:56 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:14:56 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4856809d] was not registered for synchronization because synchronization is not active
2025-06-15 20:14:56 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:14:45.862, closeCount=0, lastValidateTimeMillis=2025-06-15 20:14:45.862}] will not be managed by Spring
2025-06-15 20:14:56 [http-nio-8080-exec-5] DEBUG c.e.q.mapper.UserMapper.findByUser - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:14:56 [http-nio-8080-exec-5] DEBUG c.e.q.mapper.UserMapper.findByUser - ==> Parameters: ls1(String)
2025-06-15 20:14:56 [http-nio-8080-exec-5] DEBUG c.e.q.mapper.UserMapper.findByUser - <==      Total: 1
2025-06-15 20:14:56 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4856809d]
2025-06-15 20:14:56 [http-nio-8080-exec-3] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 20:14:56 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:14:56 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:14:56 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cedd960] was not registered for synchronization because synchronization is not active
2025-06-15 20:14:56 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:14:45.862, closeCount=0, lastValidateTimeMillis=2025-06-15 20:14:45.862}] will not be managed by Spring
2025-06-15 20:14:56 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:14:56 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:14:56 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:14:56 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cedd960]
2025-06-15 20:14:56 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 20:14:56 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:14:56 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:14:56 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21116b36] was not registered for synchronization because synchronization is not active
2025-06-15 20:14:56 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:14:45.862, closeCount=0, lastValidateTimeMillis=2025-06-15 20:14:45.862}] will not be managed by Spring
2025-06-15 20:14:56 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:14:56 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:14:56 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:14:56 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21116b36]
2025-06-15 20:15:09 [http-nio-8080-exec-2] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 我想玩游戏，有哪些游戏值得推荐？
2025-06-15 20:15:09 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:15:09 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:15:09 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39ed3abf] was not registered for synchronization because synchronization is not active
2025-06-15 20:15:09 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:14:45.862, closeCount=0, lastValidateTimeMillis=2025-06-15 20:14:45.862}] will not be managed by Spring
2025-06-15 20:15:09 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:15:09 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:15:09 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:15:09 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39ed3abf]
2025-06-15 20:15:09 [http-nio-8080-exec-2] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 我想玩游戏，有哪些游戏值得推荐？
2025-06-15 20:15:09 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:15:09 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e29651b]
2025-06-15 20:15:09 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:14:45.862, closeCount=0, lastValidateTimeMillis=2025-06-15 20:14:45.862}] will be managed by Spring
2025-06-15 20:15:09 [http-nio-8080-exec-2] DEBUG c.e.q.m.C.updateConversation - ==>  Preparing: UPDATE conversation SET name = ?, start_time = ? WHERE id = ?
2025-06-15 20:15:09 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e29651b]
2025-06-15 20:15:09 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e29651b]
2025-06-15 20:15:09 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e29651b]
2025-06-15 20:15:09 [http-nio-8080-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.mybatis.spring.MyBatisSystemException] with root cause
org.apache.ibatis.reflection.ReflectionException: There is no getter for property named 'conversationId' in 'class com.example.qasystem.model.Conversation'
	at org.apache.ibatis.reflection.Reflector.getGetInvoker(Reflector.java:385)
	at org.apache.ibatis.reflection.MetaClass.getGetInvoker(MetaClass.java:160)
	at org.apache.ibatis.reflection.wrapper.BeanWrapper.getBeanProperty(BeanWrapper.java:153)
	at org.apache.ibatis.reflection.wrapper.BeanWrapper.get(BeanWrapper.java:49)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:116)
	at org.apache.ibatis.scripting.defaults.DefaultParameterHandler.setParameters(DefaultParameterHandler.java:82)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.parameterize(PreparedStatementHandler.java:97)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.parameterize(RoutingStatementHandler.java:65)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:91)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	at jdk.proxy2/jdk.proxy2.$Proxy77.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:288)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy10/jdk.proxy10.$Proxy150.updateConversation(Unknown Source)
	at com.example.qasystem.service.ChatService.getStreamingResponse(ChatService.java:118)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.example.qasystem.service.ChatService$$SpringCGLIB$$0.getStreamingResponse(<generated>)
	at com.example.qasystem.controller.ChatController.chatStream(ChatController.java:64)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-06-15 20:15:09 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.HttpMediaTypeNotAcceptableException: No acceptable representation]
2025-06-15 20:16:46 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-06-15 20:16:46 [Thread-51] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 20:16:46 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-06-15 20:16:46 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 20:16:46 [Thread-51] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-06-15 20:16:46 [Thread-51] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-7} closing ...
2025-06-15 20:16:46 [Thread-51] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-7} closed
2025-06-15 20:16:46 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 65268 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 20:16:46 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 20:16:46 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 20:16:46 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 20:16:46 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 20:16:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 20:16:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 20:16:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 JDBC repository interfaces.
2025-06-15 20:16:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 20:16:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 20:16:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-06-15 20:16:46 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 20:16:46 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 20:16:46 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 20:16:46 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 20:16:46 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 20:16:46 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 20:16:46 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 20:16:46 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 20:16:46 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 20:16:46 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 20:16:46 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 20:16:46 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 155 ms
2025-06-15 20:16:46 [restartedMain] WARN  o.a.c.c.C.[Tomcat].[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [770908C645C85706A7E986B754222D44]
2025-06-15 20:16:46 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 20:16:46 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-8} inited
2025-06-15 20:16:46 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 20:16:46 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 20:16:46 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 20:16:46 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 20:16:46 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 20:16:46 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 20:16:46 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 20:16:46 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 20:16:46 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 20:16:46 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 20:16:46 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 0.481 seconds (process running for 2222.42)
2025-06-15 20:16:46 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-06-15 20:16:51 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-15 20:16:51 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-15 20:16:51 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-15 20:16:51 [http-nio-8080-exec-4] DEBUG c.e.q.controller.UserController - 显示登录页面
2025-06-15 20:16:55 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:16:55 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b6da43f] was not registered for synchronization because synchronization is not active
2025-06-15 20:16:55 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:16:46.507, closeCount=0, lastValidateTimeMillis=2025-06-15 20:16:46.507}] will not be managed by Spring
2025-06-15 20:16:55 [http-nio-8080-exec-5] DEBUG c.e.q.mapper.UserMapper.findByUser - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:16:55 [http-nio-8080-exec-5] DEBUG c.e.q.mapper.UserMapper.findByUser - ==> Parameters: ls1(String)
2025-06-15 20:16:55 [http-nio-8080-exec-5] DEBUG c.e.q.mapper.UserMapper.findByUser - <==      Total: 1
2025-06-15 20:16:55 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b6da43f]
2025-06-15 20:16:55 [http-nio-8080-exec-10] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 20:16:55 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:16:55 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:16:55 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6965b7e6] was not registered for synchronization because synchronization is not active
2025-06-15 20:16:55 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:16:46.507, closeCount=0, lastValidateTimeMillis=2025-06-15 20:16:46.507}] will not be managed by Spring
2025-06-15 20:16:55 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:16:55 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:16:55 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:16:55 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6965b7e6]
2025-06-15 20:16:55 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 20:16:55 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:16:55 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:16:55 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@489d8fe8] was not registered for synchronization because synchronization is not active
2025-06-15 20:16:55 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:16:46.507, closeCount=0, lastValidateTimeMillis=2025-06-15 20:16:46.507}] will not be managed by Spring
2025-06-15 20:16:55 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:16:55 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:16:55 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:16:55 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@489d8fe8]
2025-06-15 20:17:11 [http-nio-8080-exec-6] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 我想玩游戏，给我推荐几款游戏
2025-06-15 20:17:11 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:17:11 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:17:11 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@535e4cc1] was not registered for synchronization because synchronization is not active
2025-06-15 20:17:11 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:16:46.507, closeCount=0, lastValidateTimeMillis=2025-06-15 20:16:46.507}] will not be managed by Spring
2025-06-15 20:17:11 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:17:11 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:17:11 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:17:11 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@535e4cc1]
2025-06-15 20:17:11 [http-nio-8080-exec-6] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 我想玩游戏，给我推荐几款游戏
2025-06-15 20:17:11 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:17:11 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45015c45]
2025-06-15 20:17:11 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:16:46.507, closeCount=0, lastValidateTimeMillis=2025-06-15 20:16:46.507}] will be managed by Spring
2025-06-15 20:17:11 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.updateConversation - ==>  Preparing: UPDATE conversation SET name = ? WHERE id = ?
2025-06-15 20:17:11 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.updateConversation - ==> Parameters: 我想玩游戏，给我推荐(String), 26(Long)
2025-06-15 20:17:11 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.updateConversation - <==    Updates: 1
2025-06-15 20:17:11 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45015c45]
2025-06-15 20:17:11 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45015c45] from current transaction
2025-06-15 20:17:11 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.insertChatHistory - ==>  Preparing: INSERT INTO chat_history (user_id, user_message, ai_response, version, created_at, conversation_id) VALUES (?, ?, ?,?, ?,?)
2025-06-15 20:17:11 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.insertChatHistory - ==> Parameters: 6(Long), 我想玩游戏，给我推荐几款游戏(String), null, 61(Long), 2025-06-15T20:17:11.731604(LocalDateTime), 26(Long)
2025-06-15 20:17:11 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.insertChatHistory - <==    Updates: 1
2025-06-15 20:17:11 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45015c45]
2025-06-15 20:17:11 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.ChatService - 保存历史记录: 我想玩游戏，给我推荐几款游戏
2025-06-15 20:17:11 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45015c45]
2025-06-15 20:17:11 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45015c45]
2025-06-15 20:17:11 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45015c45]
2025-06-15 20:17:25 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 当然可以！
2025-06-15 20:17:26 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 如果你喜欢动作冒险类游戏，可以试试《原神》，它是一款开放世界的游戏，画面精美，剧情丰富。
2025-06-15 20:17:26 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 如果你喜欢MOBA类游戏，《王者荣耀》是一个不错的选择，支持多人联机对战，非常有趣。
2025-06-15 20:17:27 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 如果你喜欢战术射击类游戏，《和平精英》也是一个很好的选择，支持多人联机，玩法多样。
2025-06-15 20:17:27 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 希望你能找到自己喜欢的游戏，享受游戏的乐趣！
2025-06-15 20:17:27 [boundedElastic-8] INFO  c.e.qasystem.service.ChatService - Streaming response completed for userId: 6, response: 当然可以！如果你喜欢动作冒险类游戏，可以试试《原神》，它是一款开放世界的游戏，画面精美，剧情丰富。如果你喜欢MOBA类游戏，《王者荣耀》是一个不错的选择，支持多人联机对战，非常有趣。如果你喜欢战术射击类游戏，《和平精英》也是一个很好的选择，支持多人联机，玩法多样。希望你能找到自己喜欢的游戏，享受游戏的乐趣！
2025-06-15 20:17:27 [boundedElastic-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:17:27 [boundedElastic-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17a3a989] was not registered for synchronization because synchronization is not active
2025-06-15 20:17:27 [boundedElastic-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:16:46.507, closeCount=0, lastValidateTimeMillis=2025-06-15 20:16:46.507}] will not be managed by Spring
2025-06-15 20:17:27 [boundedElastic-8] DEBUG c.e.q.m.C.updateChatHistory - ==>  Preparing: Update chat_history SET ai_response = ? where version = ?
2025-06-15 20:17:27 [boundedElastic-8] DEBUG c.e.q.m.C.updateChatHistory - ==> Parameters: 当然可以！如果你喜欢动作冒险类游戏，可以试试《原神》，它是一款开放世界的游戏，画面精美，剧情丰富。如果你喜欢MOBA类游戏，《王者荣耀》是一个不错的选择，支持多人联机对战，非常有趣。如果你喜欢战术射击类游戏，《和平精英》也是一个很好的选择，支持多人联机，玩法多样。希望你能找到自己喜欢的游戏，享受游戏的乐趣！(String), 61(Long)
2025-06-15 20:17:27 [boundedElastic-8] DEBUG c.e.q.m.C.updateChatHistory - <==    Updates: 1
2025-06-15 20:17:27 [boundedElastic-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17a3a989]
2025-06-15 20:17:27 [boundedElastic-8] DEBUG c.e.qasystem.service.ChatService - Updated AI response to chat history
2025-06-15 20:17:37 [http-nio-8080-exec-10] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 20:17:37 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:17:37 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:17:37 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27baa294] was not registered for synchronization because synchronization is not active
2025-06-15 20:17:37 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:16:46.507, closeCount=0, lastValidateTimeMillis=2025-06-15 20:16:46.507}] will not be managed by Spring
2025-06-15 20:17:37 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:17:37 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:17:37 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:17:37 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27baa294]
2025-06-15 20:17:37 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 20:17:37 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:17:37 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:17:37 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67489dff] was not registered for synchronization because synchronization is not active
2025-06-15 20:17:37 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:16:46.507, closeCount=0, lastValidateTimeMillis=2025-06-15 20:16:46.507}] will not be managed by Spring
2025-06-15 20:17:37 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:17:37 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:17:37 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:17:37 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67489dff]
2025-06-15 20:17:40 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:17:40 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20e8fc7f] was not registered for synchronization because synchronization is not active
2025-06-15 20:17:40 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:16:46.507, closeCount=0, lastValidateTimeMillis=2025-06-15 20:16:46.507}] will not be managed by Spring
2025-06-15 20:17:40 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 20:17:40 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 26(Long)
2025-06-15 20:17:40 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 2
2025-06-15 20:17:40 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20e8fc7f]
2025-06-15 20:18:21 [http-nio-8080-exec-6] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 20:18:21 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:18:21 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:18:21 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77b00cdd] was not registered for synchronization because synchronization is not active
2025-06-15 20:18:21 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:16:46.507, closeCount=0, lastValidateTimeMillis=2025-06-15 20:16:46.507}] will not be managed by Spring
2025-06-15 20:18:21 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:18:21 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:18:21 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:18:21 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77b00cdd]
2025-06-15 20:18:21 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 20:18:21 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:18:21 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:18:21 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e005c9c] was not registered for synchronization because synchronization is not active
2025-06-15 20:18:21 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:16:46.507, closeCount=0, lastValidateTimeMillis=2025-06-15 20:16:46.507}] will not be managed by Spring
2025-06-15 20:18:21 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:18:21 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:18:21 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:18:21 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e005c9c]
2025-06-15 20:18:57 [http-nio-8080-exec-3] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 20:18:57 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:18:57 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:18:57 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c59949] was not registered for synchronization because synchronization is not active
2025-06-15 20:18:57 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:16:46.507, closeCount=0, lastValidateTimeMillis=2025-06-15 20:16:46.507}] will not be managed by Spring
2025-06-15 20:18:57 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:18:57 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:18:57 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:18:57 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c59949]
2025-06-15 20:18:57 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 20:18:57 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:18:57 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:18:57 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ccdbddb] was not registered for synchronization because synchronization is not active
2025-06-15 20:18:57 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:16:46.507, closeCount=0, lastValidateTimeMillis=2025-06-15 20:16:46.507}] will not be managed by Spring
2025-06-15 20:18:57 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:18:57 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:18:57 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:18:57 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ccdbddb]
2025-06-15 20:19:01 [http-nio-8080-exec-10] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 20:19:01 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:19:01 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:19:01 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dba1dfc] was not registered for synchronization because synchronization is not active
2025-06-15 20:19:01 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:16:46.507, closeCount=0, lastValidateTimeMillis=2025-06-15 20:16:46.507}] will not be managed by Spring
2025-06-15 20:19:01 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:19:01 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:19:01 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:19:01 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dba1dfc]
2025-06-15 20:19:01 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 20:19:01 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:19:01 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:19:01 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28ad2ba0] was not registered for synchronization because synchronization is not active
2025-06-15 20:19:01 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:16:46.507, closeCount=0, lastValidateTimeMillis=2025-06-15 20:16:46.507}] will not be managed by Spring
2025-06-15 20:19:01 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:19:01 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:19:02 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:19:02 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28ad2ba0]
2025-06-15 20:19:18 [http-nio-8080-exec-5] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 20:19:18 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:19:18 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:19:18 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22dd59e8] was not registered for synchronization because synchronization is not active
2025-06-15 20:19:18 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:16:46.507, closeCount=0, lastValidateTimeMillis=2025-06-15 20:16:46.507}] will not be managed by Spring
2025-06-15 20:19:18 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:19:18 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:19:18 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:19:18 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22dd59e8]
2025-06-15 20:19:18 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 20:19:18 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:19:18 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:19:18 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c1813a] was not registered for synchronization because synchronization is not active
2025-06-15 20:19:18 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:16:46.507, closeCount=0, lastValidateTimeMillis=2025-06-15 20:16:46.507}] will not be managed by Spring
2025-06-15 20:19:18 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:19:18 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:19:18 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:19:18 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c1813a]
2025-06-15 20:21:57 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-06-15 20:21:57 [Thread-56] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 20:21:57 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-06-15 20:21:57 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 20:21:57 [Thread-56] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-06-15 20:21:57 [Thread-56] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-8} closing ...
2025-06-15 20:21:57 [Thread-56] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-8} closed
2025-06-15 20:21:57 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 65268 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 20:21:57 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 20:21:57 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 20:21:57 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 20:21:57 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 20:21:57 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 20:21:57 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 20:21:57 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 2 ms. Found 0 JDBC repository interfaces.
2025-06-15 20:21:57 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 20:21:57 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 20:21:57 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2025-06-15 20:21:57 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 20:21:57 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 20:21:57 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 20:21:57 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 20:21:57 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 20:21:57 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 20:21:57 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 20:21:57 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 20:21:57 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 20:21:57 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 20:21:57 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 20:21:57 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 305 ms
2025-06-15 20:21:57 [restartedMain] WARN  o.a.c.c.C.[Tomcat].[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [2C096607BAE83065D32C9DE426B94685]
2025-06-15 20:21:57 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 20:21:57 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-9} inited
2025-06-15 20:21:57 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 20:21:57 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 20:21:57 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 20:21:57 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 20:21:57 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 20:21:57 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 20:21:58 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 20:21:58 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 20:21:58 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 20:21:58 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 20:21:58 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 0.737 seconds (process running for 2533.817)
2025-06-15 20:21:58 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-06-15 20:21:58 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-15 20:21:58 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-15 20:21:58 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-06-15 20:21:58 [http-nio-8080-exec-2] DEBUG c.e.q.controller.UserController - 显示登录页面
2025-06-15 20:21:59 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-06-15 20:21:59 [Thread-77] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 20:21:59 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-06-15 20:21:59 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 20:21:59 [Thread-77] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-06-15 20:21:59 [Thread-77] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-9} closing ...
2025-06-15 20:21:59 [Thread-77] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-9} closed
2025-06-15 20:21:59 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 65268 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 20:21:59 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 20:21:59 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 20:21:59 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 20:21:59 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 20:21:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 20:21:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 20:21:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 JDBC repository interfaces.
2025-06-15 20:21:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 20:21:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 20:21:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-06-15 20:21:59 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 20:21:59 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 20:21:59 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 20:21:59 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 20:21:59 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 20:21:59 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 20:21:59 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 20:21:59 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 20:21:59 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 20:21:59 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 20:21:59 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 20:21:59 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 168 ms
2025-06-15 20:21:59 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 20:22:00 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-10} inited
2025-06-15 20:22:00 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 20:22:00 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 20:22:00 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 20:22:00 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 20:22:00 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 20:22:00 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 20:22:00 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 20:22:00 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 20:22:00 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 20:22:00 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 20:22:00 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 0.498 seconds (process running for 2535.944)
2025-06-15 20:22:00 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-06-15 20:22:03 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-15 20:22:03 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-15 20:22:03 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-15 20:22:03 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:22:03 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b1a520e] was not registered for synchronization because synchronization is not active
2025-06-15 20:22:03 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:22:00.017, closeCount=0, lastValidateTimeMillis=2025-06-15 20:22:00.018}] will not be managed by Spring
2025-06-15 20:22:03 [http-nio-8080-exec-1] DEBUG c.e.q.mapper.UserMapper.findByUser - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:22:03 [http-nio-8080-exec-1] DEBUG c.e.q.mapper.UserMapper.findByUser - ==> Parameters: ls1(String)
2025-06-15 20:22:03 [http-nio-8080-exec-1] DEBUG c.e.q.mapper.UserMapper.findByUser - <==      Total: 1
2025-06-15 20:22:03 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b1a520e]
2025-06-15 20:22:03 [http-nio-8080-exec-2] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 20:22:03 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:22:03 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:22:03 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@744495b4] was not registered for synchronization because synchronization is not active
2025-06-15 20:22:03 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:22:00.017, closeCount=0, lastValidateTimeMillis=2025-06-15 20:22:00.018}] will not be managed by Spring
2025-06-15 20:22:03 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:22:03 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:22:03 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:22:03 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@744495b4]
2025-06-15 20:22:03 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 20:22:04 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:22:04 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:22:04 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37092d05] was not registered for synchronization because synchronization is not active
2025-06-15 20:22:04 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:22:00.017, closeCount=0, lastValidateTimeMillis=2025-06-15 20:22:00.018}] will not be managed by Spring
2025-06-15 20:22:04 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:22:04 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:22:04 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:22:04 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37092d05]
2025-06-15 20:22:16 [http-nio-8080-exec-9] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 原神好玩吗？
2025-06-15 20:22:16 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:22:16 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:22:16 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18abdac1] was not registered for synchronization because synchronization is not active
2025-06-15 20:22:16 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:22:00.017, closeCount=0, lastValidateTimeMillis=2025-06-15 20:22:00.018}] will not be managed by Spring
2025-06-15 20:22:16 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:22:16 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:22:16 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:22:16 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18abdac1]
2025-06-15 20:22:16 [http-nio-8080-exec-9] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 原神好玩吗？
2025-06-15 20:22:16 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:22:16 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@116a9866]
2025-06-15 20:22:16 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:22:00.017, closeCount=0, lastValidateTimeMillis=2025-06-15 20:22:00.018}] will be managed by Spring
2025-06-15 20:22:16 [http-nio-8080-exec-9] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM chat_history WHERE user_id = ? ORDER BY created_at
2025-06-15 20:22:16 [http-nio-8080-exec-9] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 20:22:16 [http-nio-8080-exec-9] DEBUG c.e.q.m.C.findByUserId - <==      Total: 68
2025-06-15 20:22:16 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@116a9866]
2025-06-15 20:22:16 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@116a9866] from current transaction
2025-06-15 20:22:16 [http-nio-8080-exec-9] DEBUG c.e.q.m.C.updateConversation - ==>  Preparing: UPDATE conversation SET name = ? WHERE id = ?
2025-06-15 20:22:16 [http-nio-8080-exec-9] DEBUG c.e.q.m.C.updateConversation - ==> Parameters: 原神好玩吗？(String), 26(Long)
2025-06-15 20:22:16 [http-nio-8080-exec-9] DEBUG c.e.q.m.C.updateConversation - <==    Updates: 1
2025-06-15 20:22:16 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@116a9866]
2025-06-15 20:22:16 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@116a9866]
2025-06-15 20:22:16 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@116a9866]
2025-06-15 20:22:16 [http-nio-8080-exec-9] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class com.example.qasystem.model.Conversation cannot be cast to class java.lang.String (com.example.qasystem.model.Conversation is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @77d1424d; java.lang.String is in module java.base of loader 'bootstrap')] with root cause
java.lang.ClassCastException: class com.example.qasystem.model.Conversation cannot be cast to class java.lang.String (com.example.qasystem.model.Conversation is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @77d1424d; java.lang.String is in module java.base of loader 'bootstrap')
	at org.springframework.data.redis.serializer.StringRedisSerializer.serialize(StringRedisSerializer.java:36)
	at org.springframework.data.redis.core.RedisTemplate.rawKey(RedisTemplate.java:1088)
	at org.springframework.data.redis.core.RedisTemplate.delete(RedisTemplate.java:593)
	at com.example.qasystem.service.ChatService.getStreamingResponse(ChatService.java:120)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.example.qasystem.service.ChatService$$SpringCGLIB$$0.getStreamingResponse(<generated>)
	at com.example.qasystem.controller.ChatController.chatStream(ChatController.java:64)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-06-15 20:22:16 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.HttpMediaTypeNotAcceptableException: No acceptable representation]
2025-06-15 20:23:15 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-06-15 20:23:15 [Thread-82] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 20:23:15 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-06-15 20:23:16 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 20:23:16 [Thread-82] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-06-15 20:23:16 [Thread-82] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-10} closing ...
2025-06-15 20:23:16 [Thread-82] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-10} closed
2025-06-15 20:23:16 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 65268 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 20:23:16 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 20:23:16 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 20:23:16 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 20:23:16 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 20:23:16 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 20:23:16 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 20:23:16 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 JDBC repository interfaces.
2025-06-15 20:23:16 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 20:23:16 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 20:23:16 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-06-15 20:23:16 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 20:23:16 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 20:23:16 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 20:23:16 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 20:23:16 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 20:23:16 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 20:23:16 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 20:23:16 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 20:23:16 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 20:23:16 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 20:23:16 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 20:23:16 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 204 ms
2025-06-15 20:23:16 [restartedMain] WARN  o.a.c.c.C.[Tomcat].[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [0D76F8D4D63D0BB915E64BEEF29D660A]
2025-06-15 20:23:16 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 20:23:16 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-11} inited
2025-06-15 20:23:16 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 20:23:16 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 20:23:16 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 20:23:16 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 20:23:16 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 20:23:16 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 20:23:16 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 20:23:16 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 20:23:16 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 20:23:16 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 20:23:16 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 0.575 seconds (process running for 2612.514)
2025-06-15 20:23:16 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-06-15 20:23:18 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-06-15 20:23:18 [Thread-87] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 20:23:18 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-06-15 20:23:18 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 20:23:18 [Thread-87] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-06-15 20:23:18 [Thread-87] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-11} closing ...
2025-06-15 20:23:18 [Thread-87] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-11} closed
2025-06-15 20:23:18 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 65268 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 20:23:18 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 20:23:18 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 20:23:18 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 20:23:18 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 20:23:18 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 20:23:18 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 20:23:18 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 JDBC repository interfaces.
2025-06-15 20:23:18 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 20:23:18 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 20:23:18 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-06-15 20:23:18 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 20:23:18 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 20:23:18 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 20:23:18 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 20:23:18 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 20:23:18 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 20:23:18 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 20:23:18 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 20:23:18 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 20:23:18 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 20:23:18 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 20:23:18 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 161 ms
2025-06-15 20:23:18 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 20:23:18 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-12} inited
2025-06-15 20:23:18 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 20:23:18 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 20:23:18 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 20:23:18 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 20:23:18 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 20:23:18 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 20:23:18 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 20:23:18 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 20:23:18 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 20:23:18 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 20:23:18 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 0.468 seconds (process running for 2614.638)
2025-06-15 20:23:18 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-06-15 20:23:25 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-15 20:23:25 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-15 20:23:25 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-15 20:23:25 [http-nio-8080-exec-3] DEBUG c.e.q.controller.UserController - 显示登录页面
2025-06-15 20:23:29 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:23:29 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ece9e5e] was not registered for synchronization because synchronization is not active
2025-06-15 20:23:29 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:23:18.724, closeCount=0, lastValidateTimeMillis=2025-06-15 20:23:18.724}] will not be managed by Spring
2025-06-15 20:23:29 [http-nio-8080-exec-4] DEBUG c.e.q.mapper.UserMapper.findByUser - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:23:29 [http-nio-8080-exec-4] DEBUG c.e.q.mapper.UserMapper.findByUser - ==> Parameters: ls1(String)
2025-06-15 20:23:29 [http-nio-8080-exec-4] DEBUG c.e.q.mapper.UserMapper.findByUser - <==      Total: 1
2025-06-15 20:23:29 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ece9e5e]
2025-06-15 20:23:29 [http-nio-8080-exec-7] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 20:23:29 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:23:29 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:23:29 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@211ed5aa] was not registered for synchronization because synchronization is not active
2025-06-15 20:23:29 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:23:18.724, closeCount=0, lastValidateTimeMillis=2025-06-15 20:23:18.724}] will not be managed by Spring
2025-06-15 20:23:29 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:23:29 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:23:29 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:23:29 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@211ed5aa]
2025-06-15 20:23:29 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 20:23:29 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:23:29 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:23:29 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@282f2f9d] was not registered for synchronization because synchronization is not active
2025-06-15 20:23:29 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:23:18.724, closeCount=0, lastValidateTimeMillis=2025-06-15 20:23:18.724}] will not be managed by Spring
2025-06-15 20:23:29 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:23:29 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:23:29 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:23:29 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@282f2f9d]
2025-06-15 20:23:37 [http-nio-8080-exec-1] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 原神好玩吗
2025-06-15 20:23:37 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:23:37 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:23:37 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d288a3e] was not registered for synchronization because synchronization is not active
2025-06-15 20:23:37 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:23:18.724, closeCount=0, lastValidateTimeMillis=2025-06-15 20:23:18.724}] will not be managed by Spring
2025-06-15 20:23:37 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:23:37 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:23:37 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:23:37 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d288a3e]
2025-06-15 20:23:37 [http-nio-8080-exec-1] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 原神好玩吗
2025-06-15 20:23:37 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:23:37 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d13ae88]
2025-06-15 20:23:37 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:23:18.724, closeCount=0, lastValidateTimeMillis=2025-06-15 20:23:18.724}] will be managed by Spring
2025-06-15 20:23:37 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM chat_history WHERE user_id = ? ORDER BY created_at
2025-06-15 20:23:37 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 20:23:37 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.findByUserId - <==      Total: 68
2025-06-15 20:23:37 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d13ae88]
2025-06-15 20:23:37 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d13ae88] from current transaction
2025-06-15 20:23:37 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.updateConversation - ==>  Preparing: UPDATE conversation SET name = ? WHERE id = ?
2025-06-15 20:23:37 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.updateConversation - ==> Parameters: 原神好玩吗(String), 26(Long)
2025-06-15 20:23:37 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.updateConversation - <==    Updates: 1
2025-06-15 20:23:37 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d13ae88]
2025-06-15 20:23:37 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d13ae88]
2025-06-15 20:23:37 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d13ae88]
2025-06-15 20:23:37 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class com.example.qasystem.model.Conversation cannot be cast to class java.lang.String (com.example.qasystem.model.Conversation is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @468ec311; java.lang.String is in module java.base of loader 'bootstrap')] with root cause
java.lang.ClassCastException: class com.example.qasystem.model.Conversation cannot be cast to class java.lang.String (com.example.qasystem.model.Conversation is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @468ec311; java.lang.String is in module java.base of loader 'bootstrap')
	at org.springframework.data.redis.serializer.StringRedisSerializer.serialize(StringRedisSerializer.java:36)
	at org.springframework.data.redis.core.RedisTemplate.rawKey(RedisTemplate.java:1088)
	at org.springframework.data.redis.core.RedisTemplate.delete(RedisTemplate.java:593)
	at com.example.qasystem.service.ChatService.getStreamingResponse(ChatService.java:120)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.example.qasystem.service.ChatService$$SpringCGLIB$$0.getStreamingResponse(<generated>)
	at com.example.qasystem.controller.ChatController.chatStream(ChatController.java:64)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-06-15 20:23:37 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.HttpMediaTypeNotAcceptableException: No acceptable representation]
2025-06-15 20:24:39 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-06-15 20:24:39 [Thread-92] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 20:24:39 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-06-15 20:24:39 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 20:24:39 [Thread-92] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-06-15 20:24:39 [Thread-92] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-12} closing ...
2025-06-15 20:24:39 [Thread-92] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-12} closed
2025-06-15 20:24:39 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 65268 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 20:24:39 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 20:24:39 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 20:24:39 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 20:24:39 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 20:24:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 20:24:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 20:24:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 JDBC repository interfaces.
2025-06-15 20:24:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 20:24:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 20:24:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-06-15 20:24:39 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 20:24:39 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 20:24:39 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 20:24:39 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 20:24:39 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 20:24:39 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 20:24:39 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 20:24:39 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 20:24:39 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 20:24:39 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 20:24:39 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 20:24:39 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 182 ms
2025-06-15 20:24:39 [restartedMain] WARN  o.a.c.c.C.[Tomcat].[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [979570843669E8FF47CB30D729B44566]
2025-06-15 20:24:39 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 20:24:40 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-13} inited
2025-06-15 20:24:40 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 20:24:40 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 20:24:40 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 20:24:40 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 20:24:40 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 20:24:40 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 20:24:40 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 20:24:40 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 20:24:40 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 20:24:40 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 20:24:40 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 0.541 seconds (process running for 2695.969)
2025-06-15 20:24:40 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-06-15 20:24:41 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-15 20:24:41 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-15 20:24:41 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-15 20:24:41 [http-nio-8080-exec-2] DEBUG c.e.q.controller.UserController - 显示登录页面
2025-06-15 20:24:41 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-06-15 20:24:41 [Thread-97] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 20:24:41 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-06-15 20:24:41 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 20:24:41 [Thread-97] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-06-15 20:24:41 [Thread-97] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-13} closing ...
2025-06-15 20:24:41 [Thread-97] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-13} closed
2025-06-15 20:24:41 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 65268 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 20:24:41 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 20:24:41 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 20:24:42 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 20:24:42 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 20:24:42 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 20:24:42 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 20:24:42 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 JDBC repository interfaces.
2025-06-15 20:24:42 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 20:24:42 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 20:24:42 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-06-15 20:24:42 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 20:24:42 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 20:24:42 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 20:24:42 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 20:24:42 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 20:24:42 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 20:24:42 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 20:24:42 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 20:24:42 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 20:24:42 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 20:24:42 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 20:24:42 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 159 ms
2025-06-15 20:24:42 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 20:24:42 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-14} inited
2025-06-15 20:24:42 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 20:24:42 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 20:24:42 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 20:24:42 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 20:24:42 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 20:24:42 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 20:24:42 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 20:24:42 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 20:24:42 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 20:24:42 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 20:24:42 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 0.464 seconds (process running for 2698.084)
2025-06-15 20:24:42 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-06-15 20:24:57 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-15 20:24:57 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-15 20:24:57 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-15 20:24:57 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:24:57 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42279971] was not registered for synchronization because synchronization is not active
2025-06-15 20:24:57 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:24:42.168}] will not be managed by Spring
2025-06-15 20:24:57 [http-nio-8080-exec-1] DEBUG c.e.q.mapper.UserMapper.findByUser - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:24:57 [http-nio-8080-exec-1] DEBUG c.e.q.mapper.UserMapper.findByUser - ==> Parameters: ls1(String)
2025-06-15 20:24:57 [http-nio-8080-exec-1] DEBUG c.e.q.mapper.UserMapper.findByUser - <==      Total: 1
2025-06-15 20:24:57 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42279971]
2025-06-15 20:24:57 [http-nio-8080-exec-2] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 20:24:57 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:24:57 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:24:57 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39d6e9de] was not registered for synchronization because synchronization is not active
2025-06-15 20:24:57 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:24:42.168}] will not be managed by Spring
2025-06-15 20:24:57 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:24:57 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:24:57 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:24:57 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39d6e9de]
2025-06-15 20:24:57 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 20:24:57 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:24:57 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:24:57 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ee0208b] was not registered for synchronization because synchronization is not active
2025-06-15 20:24:57 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:24:42.168}] will not be managed by Spring
2025-06-15 20:24:57 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:24:57 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:24:57 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:24:57 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ee0208b]
2025-06-15 20:25:05 [http-nio-8080-exec-9] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 原神好玩吗
2025-06-15 20:25:05 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:25:05 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:25:05 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54346cce] was not registered for synchronization because synchronization is not active
2025-06-15 20:25:05 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:24:42.168}] will not be managed by Spring
2025-06-15 20:25:05 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:25:05 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:25:05 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:25:05 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54346cce]
2025-06-15 20:25:05 [http-nio-8080-exec-9] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 原神好玩吗
2025-06-15 20:25:05 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:25:05 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14502b5f]
2025-06-15 20:25:05 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:24:42.168}] will be managed by Spring
2025-06-15 20:25:05 [http-nio-8080-exec-9] DEBUG c.e.q.m.C.updateConversation - ==>  Preparing: UPDATE conversation SET name = ? WHERE id = ?
2025-06-15 20:25:05 [http-nio-8080-exec-9] DEBUG c.e.q.m.C.updateConversation - ==> Parameters: 原神好玩吗(String), 26(Long)
2025-06-15 20:25:05 [http-nio-8080-exec-9] DEBUG c.e.q.m.C.updateConversation - <==    Updates: 1
2025-06-15 20:25:05 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14502b5f]
2025-06-15 20:25:05 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14502b5f] from current transaction
2025-06-15 20:25:05 [http-nio-8080-exec-9] DEBUG c.e.q.m.C.insertChatHistory - ==>  Preparing: INSERT INTO chat_history (user_id, user_message, ai_response, version, created_at, conversation_id) VALUES (?, ?, ?,?, ?,?)
2025-06-15 20:25:05 [http-nio-8080-exec-9] DEBUG c.e.q.m.C.insertChatHistory - ==> Parameters: 6(Long), 原神好玩吗(String), null, 62(Long), 2025-06-15T20:25:05.117633900(LocalDateTime), 26(Long)
2025-06-15 20:25:05 [http-nio-8080-exec-9] DEBUG c.e.q.m.C.insertChatHistory - <==    Updates: 1
2025-06-15 20:25:05 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14502b5f]
2025-06-15 20:25:05 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.ChatService - 保存历史记录: 原神好玩吗
2025-06-15 20:25:05 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14502b5f]
2025-06-15 20:25:05 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14502b5f]
2025-06-15 20:25:05 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14502b5f]
2025-06-15 20:25:18 [boundedElastic-10] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 原神是一款非常受欢迎的游戏，它结合了精美的画面、丰富的剧情和自由的探索玩法，吸引了大量玩家。
2025-06-15 20:25:19 [boundedElastic-10] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 如果你喜欢开放世界的游戏，享受探索的乐趣，或者喜欢尝试不同的战斗系统，原神可能会是一个不错的选择。
2025-06-15 20:25:20 [boundedElastic-10] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 此外，游戏还支持多人联机，可以和朋友一起冒险，增加游戏的趣味性。
2025-06-15 20:25:20 [boundedElastic-10] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 如果你对这款游戏感兴趣，不妨试试看，可能会有意想不到的惊喜哦！
2025-06-15 20:25:20 [boundedElastic-10] INFO  c.e.qasystem.service.ChatService - Streaming response completed for userId: 6, response: 原神是一款非常受欢迎的游戏，它结合了精美的画面、丰富的剧情和自由的探索玩法，吸引了大量玩家。如果你喜欢开放世界的游戏，享受探索的乐趣，或者喜欢尝试不同的战斗系统，原神可能会是一个不错的选择。此外，游戏还支持多人联机，可以和朋友一起冒险，增加游戏的趣味性。如果你对这款游戏感兴趣，不妨试试看，可能会有意想不到的惊喜哦！
2025-06-15 20:25:20 [boundedElastic-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:25:20 [boundedElastic-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67fbe83b] was not registered for synchronization because synchronization is not active
2025-06-15 20:25:20 [boundedElastic-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:24:42.168}] will not be managed by Spring
2025-06-15 20:25:20 [boundedElastic-10] DEBUG c.e.q.m.C.updateChatHistory - ==>  Preparing: Update chat_history SET ai_response = ? where version = ?
2025-06-15 20:25:20 [boundedElastic-10] DEBUG c.e.q.m.C.updateChatHistory - ==> Parameters: 原神是一款非常受欢迎的游戏，它结合了精美的画面、丰富的剧情和自由的探索玩法，吸引了大量玩家。如果你喜欢开放世界的游戏，享受探索的乐趣，或者喜欢尝试不同的战斗系统，原神可能会是一个不错的选择。此外，游戏还支持多人联机，可以和朋友一起冒险，增加游戏的趣味性。如果你对这款游戏感兴趣，不妨试试看，可能会有意想不到的惊喜哦！(String), 62(Long)
2025-06-15 20:25:20 [boundedElastic-10] DEBUG c.e.q.m.C.updateChatHistory - <==    Updates: 1
2025-06-15 20:25:20 [boundedElastic-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67fbe83b]
2025-06-15 20:25:20 [boundedElastic-10] DEBUG c.e.qasystem.service.ChatService - Updated AI response to chat history
2025-06-15 20:25:24 [http-nio-8080-exec-1] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 20:25:24 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:25:24 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:25:24 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73cf89a5] was not registered for synchronization because synchronization is not active
2025-06-15 20:25:24 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:24:42.168}] will not be managed by Spring
2025-06-15 20:25:24 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:25:24 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:25:24 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:25:24 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73cf89a5]
2025-06-15 20:25:24 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 20:25:24 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:25:24 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:25:24 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55a6e857] was not registered for synchronization because synchronization is not active
2025-06-15 20:25:24 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:24:42.168}] will not be managed by Spring
2025-06-15 20:25:24 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:25:24 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:25:24 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:25:24 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55a6e857]
2025-06-15 20:25:24 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:25:24 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f5e8327] was not registered for synchronization because synchronization is not active
2025-06-15 20:25:24 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:24:42.168}] will not be managed by Spring
2025-06-15 20:25:24 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM conversation WHERE user_id = ?
2025-06-15 20:25:24 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 20:25:24 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.findByUserId - <==      Total: 14
2025-06-15 20:25:24 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f5e8327]
2025-06-15 20:25:26 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:25:26 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@619fd2] was not registered for synchronization because synchronization is not active
2025-06-15 20:25:26 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:24:42.168}] will not be managed by Spring
2025-06-15 20:25:26 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 20:25:26 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 26(Long)
2025-06-15 20:25:26 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 3
2025-06-15 20:25:26 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@619fd2]
2025-06-15 20:32:53 [http-nio-8080-exec-7] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 20:32:53 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:32:53 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:32:53 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2afcc42f] was not registered for synchronization because synchronization is not active
2025-06-15 20:32:53 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:32:53.152}] will not be managed by Spring
2025-06-15 20:32:53 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:32:53 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:32:53 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:32:53 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2afcc42f]
2025-06-15 20:32:53 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 20:32:53 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:32:53 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:32:53 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6df28a31] was not registered for synchronization because synchronization is not active
2025-06-15 20:32:53 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:32:53.152}] will not be managed by Spring
2025-06-15 20:32:53 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:32:53 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:32:53 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:32:53 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6df28a31]
2025-06-15 20:46:13 [http-nio-8080-exec-3] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 20:46:13 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:46:13 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:46:13 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5634d829] was not registered for synchronization because synchronization is not active
2025-06-15 20:46:13 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:46:13.909}] will not be managed by Spring
2025-06-15 20:46:13 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:46:13 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:46:13 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:46:13 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5634d829]
2025-06-15 20:46:13 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 20:46:14 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:46:14 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:46:14 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e152820] was not registered for synchronization because synchronization is not active
2025-06-15 20:46:14 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:46:13.909}] will not be managed by Spring
2025-06-15 20:46:14 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:46:14 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:46:14 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:46:14 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e152820]
2025-06-15 20:46:18 [http-nio-8080-exec-7] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 20:46:18 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:46:18 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:46:18 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d48ccca] was not registered for synchronization because synchronization is not active
2025-06-15 20:46:18 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:46:13.909}] will not be managed by Spring
2025-06-15 20:46:18 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:46:18 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:46:18 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:46:18 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d48ccca]
2025-06-15 20:46:18 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 20:46:18 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:46:18 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:46:18 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dc7b072] was not registered for synchronization because synchronization is not active
2025-06-15 20:46:18 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:46:13.909}] will not be managed by Spring
2025-06-15 20:46:18 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:46:18 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:46:18 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:46:18 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dc7b072]
2025-06-15 20:46:18 [http-nio-8080-exec-2] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 20:46:18 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:46:18 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:46:18 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10ae80f1] was not registered for synchronization because synchronization is not active
2025-06-15 20:46:18 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:46:13.909}] will not be managed by Spring
2025-06-15 20:46:18 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:46:18 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:46:18 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:46:18 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10ae80f1]
2025-06-15 20:46:18 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 20:46:18 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:46:18 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:46:18 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3a4d9d] was not registered for synchronization because synchronization is not active
2025-06-15 20:46:18 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:46:13.909}] will not be managed by Spring
2025-06-15 20:46:18 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:46:18 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:46:18 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:46:18 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3a4d9d]
2025-06-15 20:48:41 [http-nio-8080-exec-7] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 20:48:41 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:48:41 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:48:41 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55979a12] was not registered for synchronization because synchronization is not active
2025-06-15 20:48:41 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:48:41.236}] will not be managed by Spring
2025-06-15 20:48:41 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:48:41 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:48:41 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:48:41 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55979a12]
2025-06-15 20:48:41 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 20:48:41 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:48:41 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:48:41 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ce40eb9] was not registered for synchronization because synchronization is not active
2025-06-15 20:48:41 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:48:41.236}] will not be managed by Spring
2025-06-15 20:48:41 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:48:41 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:48:41 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:48:41 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ce40eb9]
2025-06-15 20:49:02 [http-nio-8080-exec-5] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 20:49:02 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:49:02 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:49:02 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@196d02fa] was not registered for synchronization because synchronization is not active
2025-06-15 20:49:02 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:48:41.236}] will not be managed by Spring
2025-06-15 20:49:02 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:49:02 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:49:02 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:49:02 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@196d02fa]
2025-06-15 20:49:02 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 20:49:02 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:49:02 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:49:02 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78031746] was not registered for synchronization because synchronization is not active
2025-06-15 20:49:02 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:48:41.236}] will not be managed by Spring
2025-06-15 20:49:02 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:49:02 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:49:02 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:49:02 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78031746]
2025-06-15 20:49:07 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:49:07 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d712e0e] was not registered for synchronization because synchronization is not active
2025-06-15 20:49:07 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:48:41.236}] will not be managed by Spring
2025-06-15 20:49:07 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 20:49:07 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 24(Long)
2025-06-15 20:49:07 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 20
2025-06-15 20:49:07 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d712e0e]
2025-06-15 20:49:11 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:49:11 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fc0e04d] was not registered for synchronization because synchronization is not active
2025-06-15 20:49:11 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:48:41.236}] will not be managed by Spring
2025-06-15 20:49:11 [http-nio-8080-exec-7] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 20:49:11 [http-nio-8080-exec-7] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 14(Long)
2025-06-15 20:49:11 [http-nio-8080-exec-7] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 9
2025-06-15 20:49:11 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fc0e04d]
2025-06-15 20:49:12 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:49:12 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cad6de] was not registered for synchronization because synchronization is not active
2025-06-15 20:49:12 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:48:41.236}] will not be managed by Spring
2025-06-15 20:49:12 [http-nio-8080-exec-2] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 20:49:12 [http-nio-8080-exec-2] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 12(Long)
2025-06-15 20:49:12 [http-nio-8080-exec-2] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 0
2025-06-15 20:49:12 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cad6de]
2025-06-15 20:49:46 [http-nio-8080-exec-9] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 20:49:46 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:49:46 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:49:46 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2357c487] was not registered for synchronization because synchronization is not active
2025-06-15 20:49:46 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:48:41.236}] will not be managed by Spring
2025-06-15 20:49:46 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:49:46 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:49:46 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:49:46 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2357c487]
2025-06-15 20:49:46 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 20:49:46 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:49:46 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:49:46 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3460a930] was not registered for synchronization because synchronization is not active
2025-06-15 20:49:46 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:48:41.236}] will not be managed by Spring
2025-06-15 20:49:46 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:49:46 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:49:46 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:49:46 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3460a930]
2025-06-15 20:49:51 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:49:51 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8992646] was not registered for synchronization because synchronization is not active
2025-06-15 20:49:51 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:48:41.236}] will not be managed by Spring
2025-06-15 20:49:51 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 20:49:51 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 22(Long)
2025-06-15 20:49:51 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 1
2025-06-15 20:49:51 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8992646]
2025-06-15 20:49:51 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:49:51 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d4bd044] was not registered for synchronization because synchronization is not active
2025-06-15 20:49:51 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:48:41.236}] will not be managed by Spring
2025-06-15 20:49:51 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 20:49:51 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 23(Long)
2025-06-15 20:49:51 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 2
2025-06-15 20:49:51 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d4bd044]
2025-06-15 20:51:34 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:51:34 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@756f451c] was not registered for synchronization because synchronization is not active
2025-06-15 20:51:34 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:51:34.013}] will not be managed by Spring
2025-06-15 20:51:34 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 20:51:34 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 21(Long)
2025-06-15 20:51:34 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 4
2025-06-15 20:51:34 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@756f451c]
2025-06-15 20:57:55 [http-nio-8080-exec-10] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 20:57:55 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:57:55 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:57:55 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c145168] was not registered for synchronization because synchronization is not active
2025-06-15 20:57:55 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:57:55.087}] will not be managed by Spring
2025-06-15 20:57:55 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:57:55 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:57:55 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:57:55 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c145168]
2025-06-15 20:57:55 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 20:57:55 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:57:55 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:57:55 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49ccaa2d] was not registered for synchronization because synchronization is not active
2025-06-15 20:57:55 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:57:55.087}] will not be managed by Spring
2025-06-15 20:57:55 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:57:55 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:57:55 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:57:55 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49ccaa2d]
2025-06-15 20:58:00 [http-nio-8080-exec-3] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 20:58:00 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:58:00 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:58:00 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64ba1ebe] was not registered for synchronization because synchronization is not active
2025-06-15 20:58:00 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:57:55.087}] will not be managed by Spring
2025-06-15 20:58:00 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:58:00 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:58:00 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:58:00 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64ba1ebe]
2025-06-15 20:58:00 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 20:58:00 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:58:00 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:58:00 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51efdfa9] was not registered for synchronization because synchronization is not active
2025-06-15 20:58:00 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:57:55.087}] will not be managed by Spring
2025-06-15 20:58:00 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:58:00 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:58:00 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:58:00 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51efdfa9]
2025-06-15 20:58:40 [http-nio-8080-exec-7] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 20:58:40 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:58:40 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:58:40 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e605948] was not registered for synchronization because synchronization is not active
2025-06-15 20:58:40 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:57:55.087}] will not be managed by Spring
2025-06-15 20:58:40 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:58:40 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:58:40 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:58:40 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e605948]
2025-06-15 20:58:40 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 20:58:40 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:58:40 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:58:40 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7841aca1] was not registered for synchronization because synchronization is not active
2025-06-15 20:58:40 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:57:55.087}] will not be managed by Spring
2025-06-15 20:58:40 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:58:40 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:58:40 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:58:40 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7841aca1]
2025-06-15 20:58:52 [http-nio-8080-exec-9] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 20:58:52 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:58:52 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:58:52 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f68120c] was not registered for synchronization because synchronization is not active
2025-06-15 20:58:52 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:57:55.087}] will not be managed by Spring
2025-06-15 20:58:52 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:58:52 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:58:52 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:58:52 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f68120c]
2025-06-15 20:58:52 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 20:58:52 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:58:52 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:58:52 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ad26c59] was not registered for synchronization because synchronization is not active
2025-06-15 20:58:52 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:57:55.087}] will not be managed by Spring
2025-06-15 20:58:52 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:58:52 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:58:52 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:58:52 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ad26c59]
2025-06-15 20:58:53 [http-nio-8080-exec-7] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 20:58:53 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:58:53 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:58:53 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d9293ae] was not registered for synchronization because synchronization is not active
2025-06-15 20:58:53 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:57:55.087}] will not be managed by Spring
2025-06-15 20:58:53 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:58:53 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:58:53 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:58:53 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d9293ae]
2025-06-15 20:58:53 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 20:58:53 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:58:53 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:58:53 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64026126] was not registered for synchronization because synchronization is not active
2025-06-15 20:58:53 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:57:55.087}] will not be managed by Spring
2025-06-15 20:58:53 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:58:53 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:58:53 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:58:53 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64026126]
2025-06-15 20:58:53 [http-nio-8080-exec-9] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 20:58:53 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:58:53 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:58:53 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7095e191] was not registered for synchronization because synchronization is not active
2025-06-15 20:58:53 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:57:55.087}] will not be managed by Spring
2025-06-15 20:58:53 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:58:53 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:58:53 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:58:53 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7095e191]
2025-06-15 20:58:53 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 20:58:54 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:58:54 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:58:54 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48efafea] was not registered for synchronization because synchronization is not active
2025-06-15 20:58:54 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:57:55.087}] will not be managed by Spring
2025-06-15 20:58:54 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:58:54 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:58:54 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:58:54 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48efafea]
2025-06-15 20:59:09 [http-nio-8080-exec-10] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 20:59:09 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:59:09 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:59:09 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@639473de] was not registered for synchronization because synchronization is not active
2025-06-15 20:59:09 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:57:55.087}] will not be managed by Spring
2025-06-15 20:59:09 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:59:09 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:59:09 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:59:09 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@639473de]
2025-06-15 20:59:09 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 20:59:09 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 20:59:09 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 20:59:09 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4db49d46] was not registered for synchronization because synchronization is not active
2025-06-15 20:59:09 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 20:57:55.087}] will not be managed by Spring
2025-06-15 20:59:09 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 20:59:09 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 20:59:09 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 20:59:09 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4db49d46]
2025-06-15 21:06:46 [http-nio-8080-exec-7] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:06:46 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:06:46 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:06:46 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7833db01] was not registered for synchronization because synchronization is not active
2025-06-15 21:06:46 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:06:46.501}] will not be managed by Spring
2025-06-15 21:06:46 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:06:46 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:06:46 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:06:46 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7833db01]
2025-06-15 21:06:46 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:06:46 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:06:46 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:06:46 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19e00a7b] was not registered for synchronization because synchronization is not active
2025-06-15 21:06:46 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:06:46.501}] will not be managed by Spring
2025-06-15 21:06:46 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:06:46 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:06:46 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:06:46 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19e00a7b]
2025-06-15 21:07:15 [http-nio-8080-exec-9] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:07:15 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:07:15 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:07:15 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@739a6f90] was not registered for synchronization because synchronization is not active
2025-06-15 21:07:15 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:06:46.501}] will not be managed by Spring
2025-06-15 21:07:15 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:07:15 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:07:15 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:07:15 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@739a6f90]
2025-06-15 21:07:15 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:07:15 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:07:15 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:07:15 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@177726f6] was not registered for synchronization because synchronization is not active
2025-06-15 21:07:15 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:06:46.501}] will not be managed by Spring
2025-06-15 21:07:15 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:07:15 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:07:15 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:07:15 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@177726f6]
2025-06-15 21:07:17 [http-nio-8080-exec-4] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:07:17 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:07:17 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:07:17 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52a0a9f3] was not registered for synchronization because synchronization is not active
2025-06-15 21:07:17 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:06:46.501}] will not be managed by Spring
2025-06-15 21:07:17 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:07:17 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:07:17 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:07:17 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52a0a9f3]
2025-06-15 21:07:17 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:07:17 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:07:17 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:07:17 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3203bf1b] was not registered for synchronization because synchronization is not active
2025-06-15 21:07:17 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:06:46.501}] will not be managed by Spring
2025-06-15 21:07:17 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:07:17 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:07:17 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:07:17 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3203bf1b]
2025-06-15 21:07:17 [http-nio-8080-exec-9] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:07:17 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:07:17 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:07:17 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13f57454] was not registered for synchronization because synchronization is not active
2025-06-15 21:07:17 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:06:46.501}] will not be managed by Spring
2025-06-15 21:07:17 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:07:17 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:07:17 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:07:17 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13f57454]
2025-06-15 21:07:17 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:07:18 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:07:18 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:07:18 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78efb794] was not registered for synchronization because synchronization is not active
2025-06-15 21:07:18 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:06:46.501}] will not be managed by Spring
2025-06-15 21:07:18 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:07:18 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:07:18 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:07:18 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78efb794]
2025-06-15 21:07:18 [http-nio-8080-exec-4] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:07:18 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:07:18 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:07:18 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d318575] was not registered for synchronization because synchronization is not active
2025-06-15 21:07:18 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:06:46.501}] will not be managed by Spring
2025-06-15 21:07:18 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:07:18 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:07:18 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:07:18 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d318575]
2025-06-15 21:07:18 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:07:18 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:07:18 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:07:18 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@579bace] was not registered for synchronization because synchronization is not active
2025-06-15 21:07:18 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:06:46.501}] will not be managed by Spring
2025-06-15 21:07:18 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:07:18 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:07:18 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:07:18 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@579bace]
2025-06-15 21:07:23 [http-nio-8080-exec-5] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:07:23 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:07:23 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:07:23 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f73db70] was not registered for synchronization because synchronization is not active
2025-06-15 21:07:23 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:06:46.501}] will not be managed by Spring
2025-06-15 21:07:23 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:07:23 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:07:23 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:07:23 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f73db70]
2025-06-15 21:07:23 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:07:23 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:07:23 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:07:23 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a660260] was not registered for synchronization because synchronization is not active
2025-06-15 21:07:23 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:06:46.501}] will not be managed by Spring
2025-06-15 21:07:23 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:07:23 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:07:23 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:07:23 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a660260]
2025-06-15 21:07:42 [http-nio-8080-exec-3] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:07:42 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:07:42 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:07:42 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60aedddf] was not registered for synchronization because synchronization is not active
2025-06-15 21:07:42 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:06:46.501}] will not be managed by Spring
2025-06-15 21:07:42 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:07:42 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:07:42 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:07:42 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60aedddf]
2025-06-15 21:07:42 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:07:42 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:07:42 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:07:42 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74bcfd8c] was not registered for synchronization because synchronization is not active
2025-06-15 21:07:42 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:06:46.501}] will not be managed by Spring
2025-06-15 21:07:42 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:07:42 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:07:42 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:07:42 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74bcfd8c]
2025-06-15 21:07:56 [http-nio-8080-exec-6] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:07:56 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:07:56 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:07:56 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1417612c] was not registered for synchronization because synchronization is not active
2025-06-15 21:07:56 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:06:46.501}] will not be managed by Spring
2025-06-15 21:07:56 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:07:56 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:07:56 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:07:56 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1417612c]
2025-06-15 21:07:56 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:07:56 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:07:56 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:07:56 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c6956cc] was not registered for synchronization because synchronization is not active
2025-06-15 21:07:56 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:06:46.501}] will not be managed by Spring
2025-06-15 21:07:56 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:07:56 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:07:56 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:07:56 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c6956cc]
2025-06-15 21:08:19 [http-nio-8080-exec-7] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:08:19 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:08:19 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:08:19 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75916ff4] was not registered for synchronization because synchronization is not active
2025-06-15 21:08:19 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:06:46.501}] will not be managed by Spring
2025-06-15 21:08:19 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:08:19 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:08:19 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:08:19 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75916ff4]
2025-06-15 21:08:19 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:08:19 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:08:19 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:08:19 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bef76a] was not registered for synchronization because synchronization is not active
2025-06-15 21:08:19 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:06:46.501}] will not be managed by Spring
2025-06-15 21:08:19 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:08:19 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:08:19 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:08:19 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bef76a]
2025-06-15 21:15:47 [http-nio-8080-exec-5] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:15:47 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:15:47 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:15:47 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40cc1058] was not registered for synchronization because synchronization is not active
2025-06-15 21:15:47 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:15:47.187}] will not be managed by Spring
2025-06-15 21:15:47 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:15:47 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:15:47 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:15:47 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40cc1058]
2025-06-15 21:15:47 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:15:47 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:15:47 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:15:47 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@280ea298] was not registered for synchronization because synchronization is not active
2025-06-15 21:15:47 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:15:47.187}] will not be managed by Spring
2025-06-15 21:15:47 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:15:47 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:15:47 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:15:47 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@280ea298]
2025-06-15 21:15:48 [http-nio-8080-exec-10] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:15:48 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:15:48 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:15:48 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d0da850] was not registered for synchronization because synchronization is not active
2025-06-15 21:15:48 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:15:47.187}] will not be managed by Spring
2025-06-15 21:15:48 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:15:48 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:15:48 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:15:48 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d0da850]
2025-06-15 21:15:48 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:15:48 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:15:48 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:15:48 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@540fe895] was not registered for synchronization because synchronization is not active
2025-06-15 21:15:48 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:15:47.187}] will not be managed by Spring
2025-06-15 21:15:48 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:15:48 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:15:48 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:15:48 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@540fe895]
2025-06-15 21:21:17 [http-nio-8080-exec-10] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:21:17 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:21:17 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:21:17 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@502d5bc1] was not registered for synchronization because synchronization is not active
2025-06-15 21:21:17 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:21:17.521}] will not be managed by Spring
2025-06-15 21:21:17 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:21:17 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:21:17 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:21:17 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@502d5bc1]
2025-06-15 21:21:17 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:21:17 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:21:17 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:21:17 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59c32b81] was not registered for synchronization because synchronization is not active
2025-06-15 21:21:17 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:21:17.521}] will not be managed by Spring
2025-06-15 21:21:17 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:21:17 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:21:17 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:21:17 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59c32b81]
2025-06-15 21:21:18 [http-nio-8080-exec-2] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:21:18 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:21:18 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:21:18 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ca52821] was not registered for synchronization because synchronization is not active
2025-06-15 21:21:18 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:21:17.521}] will not be managed by Spring
2025-06-15 21:21:18 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:21:18 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:21:18 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:21:18 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ca52821]
2025-06-15 21:21:18 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:21:18 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:21:18 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:21:18 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d8e4d3c] was not registered for synchronization because synchronization is not active
2025-06-15 21:21:18 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:21:17.521}] will not be managed by Spring
2025-06-15 21:21:18 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:21:18 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:21:18 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:21:18 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d8e4d3c]
2025-06-15 21:35:58 [http-nio-8080-exec-2] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:35:58 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:35:58 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:35:58 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30c5693f] was not registered for synchronization because synchronization is not active
2025-06-15 21:35:58 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:35:58.613}] will not be managed by Spring
2025-06-15 21:35:58 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:35:58 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:35:58 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:35:58 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30c5693f]
2025-06-15 21:35:58 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:35:58 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:35:58 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:35:58 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@294000df] was not registered for synchronization because synchronization is not active
2025-06-15 21:35:58 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:35:58.613}] will not be managed by Spring
2025-06-15 21:35:58 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:35:58 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:35:58 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:35:58 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@294000df]
2025-06-15 21:35:59 [http-nio-8080-exec-5] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:35:59 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:35:59 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:35:59 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e4d859f] was not registered for synchronization because synchronization is not active
2025-06-15 21:35:59 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:35:58.613}] will not be managed by Spring
2025-06-15 21:35:59 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:35:59 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:35:59 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:35:59 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e4d859f]
2025-06-15 21:35:59 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:35:59 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:35:59 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:35:59 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13ae3bd5] was not registered for synchronization because synchronization is not active
2025-06-15 21:35:59 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:35:58.613}] will not be managed by Spring
2025-06-15 21:35:59 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:35:59 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:35:59 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:35:59 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13ae3bd5]
2025-06-15 21:39:58 [http-nio-8080-exec-8] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:39:58 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:39:58 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:39:58 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14861313] was not registered for synchronization because synchronization is not active
2025-06-15 21:39:58 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:39:58.565}] will not be managed by Spring
2025-06-15 21:39:58 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:39:58 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:39:58 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:39:58 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14861313]
2025-06-15 21:39:58 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:39:58 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:39:58 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:39:58 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51d50c1e] was not registered for synchronization because synchronization is not active
2025-06-15 21:39:58 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:39:58.565}] will not be managed by Spring
2025-06-15 21:39:58 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:39:58 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:39:58 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:39:58 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51d50c1e]
2025-06-15 21:39:59 [http-nio-8080-exec-5] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:39:59 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:39:59 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:39:59 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52b0bf95] was not registered for synchronization because synchronization is not active
2025-06-15 21:39:59 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:39:58.565}] will not be managed by Spring
2025-06-15 21:39:59 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:39:59 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:39:59 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:39:59 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52b0bf95]
2025-06-15 21:39:59 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:39:59 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:39:59 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:39:59 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50e81c29] was not registered for synchronization because synchronization is not active
2025-06-15 21:39:59 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:39:58.565}] will not be managed by Spring
2025-06-15 21:39:59 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:39:59 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:39:59 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:39:59 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50e81c29]
2025-06-15 21:40:16 [http-nio-8080-exec-8] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported]
2025-06-15 21:40:54 [http-nio-8080-exec-5] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported]
2025-06-15 21:40:55 [http-nio-8080-exec-10] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported]
2025-06-15 21:40:56 [http-nio-8080-exec-1] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:40:56 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:40:56 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:40:56 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@270d0f70] was not registered for synchronization because synchronization is not active
2025-06-15 21:40:56 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:39:58.565}] will not be managed by Spring
2025-06-15 21:40:56 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:40:56 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:40:56 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:40:56 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@270d0f70]
2025-06-15 21:40:56 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:40:56 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:40:56 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:40:56 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a69aaa7] was not registered for synchronization because synchronization is not active
2025-06-15 21:40:56 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:39:58.565}] will not be managed by Spring
2025-06-15 21:40:56 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:40:56 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:40:56 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:40:56 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a69aaa7]
2025-06-15 21:41:05 [http-nio-8080-exec-6] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported]
2025-06-15 21:43:25 [http-nio-8080-exec-2] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:43:25 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:43:25 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:43:25 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4441151e] was not registered for synchronization because synchronization is not active
2025-06-15 21:43:25 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:43:25.193}] will not be managed by Spring
2025-06-15 21:43:25 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:43:25 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:43:25 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:43:25 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4441151e]
2025-06-15 21:43:25 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:43:25 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:43:25 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:43:25 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69bc731c] was not registered for synchronization because synchronization is not active
2025-06-15 21:43:25 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:43:25.193}] will not be managed by Spring
2025-06-15 21:43:25 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:43:25 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:43:25 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:43:25 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69bc731c]
2025-06-15 21:43:26 [http-nio-8080-exec-8] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:43:26 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:43:26 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:43:26 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f304d33] was not registered for synchronization because synchronization is not active
2025-06-15 21:43:26 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:43:25.193}] will not be managed by Spring
2025-06-15 21:43:26 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:43:26 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:43:26 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:43:26 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f304d33]
2025-06-15 21:43:26 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:43:26 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:43:26 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:43:26 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f58ca40] was not registered for synchronization because synchronization is not active
2025-06-15 21:43:26 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:43:25.193}] will not be managed by Spring
2025-06-15 21:43:26 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:43:26 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:43:26 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:43:26 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f58ca40]
2025-06-15 21:43:45 [http-nio-8080-exec-5] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 你喜欢原神哪个角色？
2025-06-15 21:43:45 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:43:45 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:43:45 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64486fd7] was not registered for synchronization because synchronization is not active
2025-06-15 21:43:45 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:43:25.193}] will not be managed by Spring
2025-06-15 21:43:45 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:43:45 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:43:45 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:43:45 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64486fd7]
2025-06-15 21:43:45 [http-nio-8080-exec-5] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 你喜欢原神哪个角色？
2025-06-15 21:43:45 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:43:45 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fc685cf]
2025-06-15 21:43:45 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:43:25.193}] will be managed by Spring
2025-06-15 21:43:45 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM chat_history WHERE user_id = ? ORDER BY created_at
2025-06-15 21:43:45 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 21:43:45 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.findByUserId - <==      Total: 69
2025-06-15 21:43:45 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fc685cf]
2025-06-15 21:43:45 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fc685cf] from current transaction
2025-06-15 21:43:45 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.updateConversation - ==>  Preparing: UPDATE conversation SET name = ? WHERE id = ?
2025-06-15 21:43:45 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.updateConversation - ==> Parameters: 你喜欢原神哪个角色？(String), 26(Long)
2025-06-15 21:43:45 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.updateConversation - <==    Updates: 1
2025-06-15 21:43:45 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fc685cf]
2025-06-15 21:43:45 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fc685cf] from current transaction
2025-06-15 21:43:45 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.insertChatHistory - ==>  Preparing: INSERT INTO chat_history (user_id, user_message, ai_response, version, created_at, conversation_id) VALUES (?, ?, ?,?, ?,?)
2025-06-15 21:43:45 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.insertChatHistory - ==> Parameters: 6(Long), 你喜欢原神哪个角色？(String), null, 63(Long), 2025-06-15T21:43:45.464996800(LocalDateTime), 26(Long)
2025-06-15 21:43:45 [http-nio-8080-exec-5] DEBUG c.e.q.m.C.insertChatHistory - <==    Updates: 1
2025-06-15 21:43:45 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fc685cf]
2025-06-15 21:43:45 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.ChatService - 保存历史记录: 你喜欢原神哪个角色？
2025-06-15 21:43:45 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fc685cf]
2025-06-15 21:43:45 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fc685cf]
2025-06-15 21:43:45 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fc685cf]
2025-06-15 21:43:59 [boundedElastic-12] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 作为一个智能助手，我没有个人喜好，但我可以告诉你，原神的角色设计非常出色，每个角色都有独特的技能、背景故事和性格特点。
2025-06-15 21:44:00 [boundedElastic-12] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 例如，胡桃是一个非常受欢迎的角色，她的技能组合和战斗风格深受玩家喜爱。
2025-06-15 21:44:00 [boundedElastic-12] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 如果你对某个角色感兴趣，可以深入了解他们的故事和玩法，可能会发现他们独特的魅力！
2025-06-15 21:44:00 [boundedElastic-12] INFO  c.e.qasystem.service.ChatService - Streaming response completed for userId: 6, response: 作为一个智能助手，我没有个人喜好，但我可以告诉你，原神的角色设计非常出色，每个角色都有独特的技能、背景故事和性格特点。例如，胡桃是一个非常受欢迎的角色，她的技能组合和战斗风格深受玩家喜爱。如果你对某个角色感兴趣，可以深入了解他们的故事和玩法，可能会发现他们独特的魅力！
2025-06-15 21:44:00 [boundedElastic-12] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:44:00 [boundedElastic-12] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b76af07] was not registered for synchronization because synchronization is not active
2025-06-15 21:44:00 [boundedElastic-12] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:43:25.193}] will not be managed by Spring
2025-06-15 21:44:00 [boundedElastic-12] DEBUG c.e.q.m.C.updateChatHistory - ==>  Preparing: Update chat_history SET ai_response = ? where version = ?
2025-06-15 21:44:00 [boundedElastic-12] DEBUG c.e.q.m.C.updateChatHistory - ==> Parameters: 作为一个智能助手，我没有个人喜好，但我可以告诉你，原神的角色设计非常出色，每个角色都有独特的技能、背景故事和性格特点。例如，胡桃是一个非常受欢迎的角色，她的技能组合和战斗风格深受玩家喜爱。如果你对某个角色感兴趣，可以深入了解他们的故事和玩法，可能会发现他们独特的魅力！(String), 63(Long)
2025-06-15 21:44:00 [boundedElastic-12] DEBUG c.e.q.m.C.updateChatHistory - <==    Updates: 1
2025-06-15 21:44:00 [boundedElastic-12] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b76af07]
2025-06-15 21:44:00 [boundedElastic-12] DEBUG c.e.qasystem.service.ChatService - Updated AI response to chat history
2025-06-15 21:44:33 [http-nio-8080-exec-9] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:44:33 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:44:33 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:44:33 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4533021a] was not registered for synchronization because synchronization is not active
2025-06-15 21:44:33 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:43:25.193}] will not be managed by Spring
2025-06-15 21:44:33 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:44:33 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:44:33 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:44:33 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4533021a]
2025-06-15 21:44:33 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:44:33 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:44:33 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:44:33 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26f2b23b] was not registered for synchronization because synchronization is not active
2025-06-15 21:44:33 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:43:25.193}] will not be managed by Spring
2025-06-15 21:44:33 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:44:33 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:44:33 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:44:33 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26f2b23b]
2025-06-15 21:44:33 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:44:33 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@220f269c] was not registered for synchronization because synchronization is not active
2025-06-15 21:44:33 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:43:25.193}] will not be managed by Spring
2025-06-15 21:44:33 [http-nio-8080-exec-7] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM conversation WHERE user_id = ?
2025-06-15 21:44:33 [http-nio-8080-exec-7] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 21:44:33 [http-nio-8080-exec-7] DEBUG c.e.q.m.C.findByUserId - <==      Total: 14
2025-06-15 21:44:33 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@220f269c]
2025-06-15 21:44:34 [http-nio-8080-exec-4] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:44:34 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:44:34 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:44:34 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ad5650d] was not registered for synchronization because synchronization is not active
2025-06-15 21:44:34 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:43:25.193}] will not be managed by Spring
2025-06-15 21:44:34 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:44:34 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:44:34 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:44:34 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ad5650d]
2025-06-15 21:44:34 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:44:34 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:44:34 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:44:34 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3045c7a] was not registered for synchronization because synchronization is not active
2025-06-15 21:44:34 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:43:25.193}] will not be managed by Spring
2025-06-15 21:44:34 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:44:34 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:44:34 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:44:34 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3045c7a]
2025-06-15 21:45:03 [http-nio-8080-exec-3] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:45:03 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:45:03 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:45:03 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b17d634] was not registered for synchronization because synchronization is not active
2025-06-15 21:45:03 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:43:25.193}] will not be managed by Spring
2025-06-15 21:45:03 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:45:03 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:45:03 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:45:03 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b17d634]
2025-06-15 21:45:03 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:45:03 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:45:03 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:45:03 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17e94c23] was not registered for synchronization because synchronization is not active
2025-06-15 21:45:03 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:43:25.193}] will not be managed by Spring
2025-06-15 21:45:03 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:45:03 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:45:03 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:45:03 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17e94c23]
2025-06-15 21:46:24 [http-nio-8080-exec-6] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:46:24 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:46:24 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:46:24 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bc4744b] was not registered for synchronization because synchronization is not active
2025-06-15 21:46:24 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:46:24.029}] will not be managed by Spring
2025-06-15 21:46:24 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:46:24 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:46:24 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:46:24 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bc4744b]
2025-06-15 21:46:24 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:46:24 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:46:24 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:46:24 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e0e0c1a] was not registered for synchronization because synchronization is not active
2025-06-15 21:46:24 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:46:24.029}] will not be managed by Spring
2025-06-15 21:46:24 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:46:24 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:46:24 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:46:24 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e0e0c1a]
2025-06-15 21:47:27 [http-nio-8080-exec-8] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:47:27 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:47:27 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:47:27 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6036dbb] was not registered for synchronization because synchronization is not active
2025-06-15 21:47:27 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:47:27.615}] will not be managed by Spring
2025-06-15 21:47:27 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:47:27 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:47:27 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:47:27 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6036dbb]
2025-06-15 21:47:27 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:47:27 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:47:27 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:47:27 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@207eaf95] was not registered for synchronization because synchronization is not active
2025-06-15 21:47:27 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:47:27.615}] will not be managed by Spring
2025-06-15 21:47:27 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:47:27 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:47:27 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:47:27 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@207eaf95]
2025-06-15 21:47:56 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:47:56 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54fb9811] was not registered for synchronization because synchronization is not active
2025-06-15 21:47:56 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:47:27.615}] will not be managed by Spring
2025-06-15 21:47:56 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 21:47:56 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 26(Long)
2025-06-15 21:47:56 [http-nio-8080-exec-1] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 4
2025-06-15 21:47:56 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54fb9811]
2025-06-15 21:48:11 [http-nio-8080-exec-3] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported]
2025-06-15 21:48:18 [http-nio-8080-exec-9] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:48:18 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:48:18 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:48:18 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6619a4f3] was not registered for synchronization because synchronization is not active
2025-06-15 21:48:18 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:47:27.615}] will not be managed by Spring
2025-06-15 21:48:18 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:48:18 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:48:18 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:48:18 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6619a4f3]
2025-06-15 21:48:18 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:48:18 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:48:18 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:48:18 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a37a9fe] was not registered for synchronization because synchronization is not active
2025-06-15 21:48:18 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:47:27.615}] will not be managed by Spring
2025-06-15 21:48:18 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:48:18 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:48:18 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:48:18 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a37a9fe]
2025-06-15 21:48:42 [http-nio-8080-exec-2] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:48:42 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:48:42 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:48:42 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27a0c561] was not registered for synchronization because synchronization is not active
2025-06-15 21:48:42 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:47:27.615}] will not be managed by Spring
2025-06-15 21:48:42 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:48:42 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:48:42 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:48:42 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27a0c561]
2025-06-15 21:48:42 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:48:42 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:48:42 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:48:42 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@543af00] was not registered for synchronization because synchronization is not active
2025-06-15 21:48:42 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:47:27.615}] will not be managed by Spring
2025-06-15 21:48:42 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:48:42 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:48:42 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:48:42 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@543af00]
2025-06-15 21:49:29 [http-nio-8080-exec-8] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:49:29 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:49:29 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:49:29 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@174a59ec] was not registered for synchronization because synchronization is not active
2025-06-15 21:49:29 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:47:27.615}] will not be managed by Spring
2025-06-15 21:49:29 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:49:29 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:49:29 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:49:29 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@174a59ec]
2025-06-15 21:49:29 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:49:29 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:49:29 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:49:29 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31cb028d] was not registered for synchronization because synchronization is not active
2025-06-15 21:49:29 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:47:27.615}] will not be managed by Spring
2025-06-15 21:49:29 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:49:29 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:49:29 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:49:29 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31cb028d]
2025-06-15 21:49:30 [http-nio-8080-exec-10] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:49:30 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:49:30 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:49:30 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b0515d1] was not registered for synchronization because synchronization is not active
2025-06-15 21:49:30 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:47:27.615}] will not be managed by Spring
2025-06-15 21:49:30 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:49:30 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:49:30 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:49:30 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b0515d1]
2025-06-15 21:49:30 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:49:30 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:49:30 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:49:30 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a6d24af] was not registered for synchronization because synchronization is not active
2025-06-15 21:49:30 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:47:27.615}] will not be managed by Spring
2025-06-15 21:49:30 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:49:30 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:49:30 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:49:30 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a6d24af]
2025-06-15 21:50:34 [http-nio-8080-exec-5] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:50:34 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:50:34 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:50:34 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27b5f3d1] was not registered for synchronization because synchronization is not active
2025-06-15 21:50:34 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:50:34.196}] will not be managed by Spring
2025-06-15 21:50:34 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:50:34 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:50:34 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:50:34 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27b5f3d1]
2025-06-15 21:50:34 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:50:34 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:50:34 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:50:34 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d3c7b74] was not registered for synchronization because synchronization is not active
2025-06-15 21:50:34 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:50:34.196}] will not be managed by Spring
2025-06-15 21:50:34 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:50:34 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:50:34 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:50:34 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d3c7b74]
2025-06-15 21:52:03 [http-nio-8080-exec-6] INFO  c.e.q.controller.ChatController - 收到用户请求: ls1, 提示词: 我好久没玩原神了
2025-06-15 21:52:03 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:52:03 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:52:03 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c6dab] was not registered for synchronization because synchronization is not active
2025-06-15 21:52:03 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:52:03.922}] will not be managed by Spring
2025-06-15 21:52:03 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:52:03 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:52:03 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:52:03 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c6dab]
2025-06-15 21:52:03 [http-nio-8080-exec-6] INFO  c.e.qasystem.service.ChatService - Processing chat request for userId: 6, prompt: 我好久没玩原神了
2025-06-15 21:52:03 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:52:03 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@691a4011]
2025-06-15 21:52:03 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:52:03.922}] will be managed by Spring
2025-06-15 21:52:03 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM chat_history WHERE user_id = ? ORDER BY created_at
2025-06-15 21:52:03 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 21:52:03 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.findByUserId - <==      Total: 70
2025-06-15 21:52:03 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@691a4011]
2025-06-15 21:52:03 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@691a4011] from current transaction
2025-06-15 21:52:03 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.updateConversation - ==>  Preparing: UPDATE conversation SET name = ? WHERE id = ?
2025-06-15 21:52:03 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.updateConversation - ==> Parameters: 我好久没玩原神了(String), 26(Long)
2025-06-15 21:52:03 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.updateConversation - <==    Updates: 1
2025-06-15 21:52:03 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@691a4011]
2025-06-15 21:52:03 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@691a4011] from current transaction
2025-06-15 21:52:03 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.insertChatHistory - ==>  Preparing: INSERT INTO chat_history (user_id, user_message, ai_response, version, created_at, conversation_id) VALUES (?, ?, ?,?, ?,?)
2025-06-15 21:52:03 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.insertChatHistory - ==> Parameters: 6(Long), 我好久没玩原神了(String), null, 64(Long), 2025-06-15T21:52:03.932470(LocalDateTime), 26(Long)
2025-06-15 21:52:03 [http-nio-8080-exec-6] DEBUG c.e.q.m.C.insertChatHistory - <==    Updates: 1
2025-06-15 21:52:03 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@691a4011]
2025-06-15 21:52:03 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.ChatService - 保存历史记录: 我好久没玩原神了
2025-06-15 21:52:03 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@691a4011]
2025-06-15 21:52:03 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@691a4011]
2025-06-15 21:52:03 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@691a4011]
2025-06-15 21:52:15 [boundedElastic-14] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 听起来你可能因为忙碌或者其他原因暂时放下了游戏，不过没关系，原神是一款可以随时回来继续的游戏。
2025-06-15 21:52:16 [boundedElastic-14] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 如果你想念它，可以抽空重新进入提瓦特大陆，看看有没有新的角色、剧情或者活动，可能会让你重新找回当初的乐趣！
2025-06-15 21:52:17 [boundedElastic-14] DEBUG c.e.qasystem.service.ChatService - Sending chunk: 如果需要，我可以帮你查一下最近的游戏更新或者活动信息哦！
2025-06-15 21:52:17 [boundedElastic-14] INFO  c.e.qasystem.service.ChatService - Streaming response completed for userId: 6, response: 听起来你可能因为忙碌或者其他原因暂时放下了游戏，不过没关系，原神是一款可以随时回来继续的游戏。如果你想念它，可以抽空重新进入提瓦特大陆，看看有没有新的角色、剧情或者活动，可能会让你重新找回当初的乐趣！如果需要，我可以帮你查一下最近的游戏更新或者活动信息哦！
2025-06-15 21:52:17 [boundedElastic-14] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:52:17 [boundedElastic-14] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56cc3d] was not registered for synchronization because synchronization is not active
2025-06-15 21:52:17 [boundedElastic-14] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:52:03.922}] will not be managed by Spring
2025-06-15 21:52:17 [boundedElastic-14] DEBUG c.e.q.m.C.updateChatHistory - ==>  Preparing: Update chat_history SET ai_response = ? where version = ?
2025-06-15 21:52:17 [boundedElastic-14] DEBUG c.e.q.m.C.updateChatHistory - ==> Parameters: 听起来你可能因为忙碌或者其他原因暂时放下了游戏，不过没关系，原神是一款可以随时回来继续的游戏。如果你想念它，可以抽空重新进入提瓦特大陆，看看有没有新的角色、剧情或者活动，可能会让你重新找回当初的乐趣！如果需要，我可以帮你查一下最近的游戏更新或者活动信息哦！(String), 64(Long)
2025-06-15 21:52:17 [boundedElastic-14] DEBUG c.e.q.m.C.updateChatHistory - <==    Updates: 1
2025-06-15 21:52:17 [boundedElastic-14] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56cc3d]
2025-06-15 21:52:17 [boundedElastic-14] DEBUG c.e.qasystem.service.ChatService - Updated AI response to chat history
2025-06-15 21:54:04 [http-nio-8080-exec-4] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:54:04 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:54:04 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:54:04 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@773a0bbb] was not registered for synchronization because synchronization is not active
2025-06-15 21:54:04 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:54:04.546}] will not be managed by Spring
2025-06-15 21:54:04 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:54:04 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:54:04 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:54:04 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@773a0bbb]
2025-06-15 21:54:04 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:54:04 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:54:04 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:54:04 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51cee050] was not registered for synchronization because synchronization is not active
2025-06-15 21:54:04 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:54:04.546}] will not be managed by Spring
2025-06-15 21:54:04 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:54:04 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:54:04 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:54:04 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51cee050]
2025-06-15 21:54:04 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:54:04 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@388a04af] was not registered for synchronization because synchronization is not active
2025-06-15 21:54:04 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:54:04.546}] will not be managed by Spring
2025-06-15 21:54:04 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.findByUserId - ==>  Preparing: SELECT * FROM conversation WHERE user_id = ?
2025-06-15 21:54:04 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.findByUserId - ==> Parameters: 6(Long)
2025-06-15 21:54:04 [http-nio-8080-exec-10] DEBUG c.e.q.m.C.findByUserId - <==      Total: 14
2025-06-15 21:54:04 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@388a04af]
2025-06-15 21:54:05 [http-nio-8080-exec-3] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:54:05 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:54:05 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:54:05 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3af3687] was not registered for synchronization because synchronization is not active
2025-06-15 21:54:05 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:54:04.546}] will not be managed by Spring
2025-06-15 21:54:05 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:54:05 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:54:05 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:54:05 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3af3687]
2025-06-15 21:54:05 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:54:05 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:54:05 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:54:05 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@684813ca] was not registered for synchronization because synchronization is not active
2025-06-15 21:54:05 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:54:04.546}] will not be managed by Spring
2025-06-15 21:54:05 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:54:05 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:54:05 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:54:05 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@684813ca]
2025-06-15 21:54:15 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:54:15 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4797c62d] was not registered for synchronization because synchronization is not active
2025-06-15 21:54:15 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 20:24:42.168, closeCount=0, lastValidateTimeMillis=2025-06-15 21:54:04.546}] will not be managed by Spring
2025-06-15 21:54:15 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.findByConversationId - ==>  Preparing: SELECT * FROM chat_history WHERE conversation_id = ?
2025-06-15 21:54:15 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.findByConversationId - ==> Parameters: 26(Long)
2025-06-15 21:54:15 [http-nio-8080-exec-3] DEBUG c.e.q.m.C.findByConversationId - <==      Total: 5
2025-06-15 21:54:15 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4797c62d]
2025-06-15 21:55:31 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 21:55:31 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 21:55:31 [SpringApplicationShutdownHook] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-14} closing ...
2025-06-15 21:55:31 [SpringApplicationShutdownHook] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-14} closed
2025-06-15 21:55:34 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Starting QaSystemApplication using Java 17.0.12 with PID 75468 (E:\ai-chat\qa-system\target\classes started by 赤 in E:\ai-chat\qa-system)
2025-06-15 21:55:34 [restartedMain] DEBUG c.e.qasystem.QaSystemApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-15 21:55:34 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-15 21:55:34 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-06-15 21:55:34 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-06-15 21:55:35 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-06-15 21:55:35 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.qasystem'
2025-06-15 21:55:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 21:55:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-06-15 21:55:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 0 JDBC repository interfaces.
2025-06-15 21:55:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-15 21:55:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-15 21:55:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-06-15 21:55:35 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ChatHistoryMapper.class]
2025-06-15 21:55:35 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\ConversationMapper.class]
2025-06-15 21:55:35 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\ai-chat\qa-system\target\classes\com\example\qasystem\mapper\UserMapper.class]
2025-06-15 21:55:35 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatHistoryMapper' and 'com.example.qasystem.mapper.ChatHistoryMapper' mapperInterface
2025-06-15 21:55:35 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'conversationMapper' and 'com.example.qasystem.mapper.ConversationMapper' mapperInterface
2025-06-15 21:55:35 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.qasystem.mapper.UserMapper' mapperInterface
2025-06-15 21:55:35 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-15 21:55:35 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-15 21:55:35 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-15 21:55:35 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-15 21:55:36 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-15 21:55:36 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1361 ms
2025-06-15 21:55:36 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-06-15 21:55:36 [restartedMain] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-06-15 21:55:36 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ChatHistoryMapper.xml]'
2025-06-15 21:55:36 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\ConversationMapper.xml]'
2025-06-15 21:55:36 [restartedMain] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [E:\ai-chat\qa-system\target\classes\mapper\UserMapper.xml]'
2025-06-15 21:55:36 [restartedMain] WARN  o.s.ai.openai.OpenAiChatModel - This constructor is deprecated and will be removed in the next milestone. Please use the OpenAiChatModel.Builder or the new constructor accepting ToolCallingManager instead.
2025-06-15 21:55:37 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-06-15 21:55:37 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-06-15 21:55:37 [restartedMain] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-06-15 21:55:37 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-15 21:55:37 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-06-15 21:55:37 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-06-15 21:55:37 [restartedMain] INFO  c.e.qasystem.QaSystemApplication - Started QaSystemApplication in 3.805 seconds (process running for 4.856)
2025-06-15 21:55:40 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-15 21:55:40 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-15 21:55:40 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-15 21:55:40 [http-nio-8080-exec-2] DEBUG c.e.q.controller.UserController - 显示登录页面
2025-06-15 21:55:45 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:55:45 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e43c66] was not registered for synchronization because synchronization is not active
2025-06-15 21:55:45 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 21:55:36.369}] will not be managed by Spring
2025-06-15 21:55:45 [http-nio-8080-exec-3] DEBUG c.e.q.mapper.UserMapper.findByUser - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:55:45 [http-nio-8080-exec-3] DEBUG c.e.q.mapper.UserMapper.findByUser - ==> Parameters: ls1(String)
2025-06-15 21:55:45 [http-nio-8080-exec-3] DEBUG c.e.q.mapper.UserMapper.findByUser - <==      Total: 1
2025-06-15 21:55:45 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e43c66]
2025-06-15 21:55:45 [http-nio-8080-exec-4] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:55:45 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:55:45 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:55:45 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@269a01d4] was not registered for synchronization because synchronization is not active
2025-06-15 21:55:45 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 21:55:36.369}] will not be managed by Spring
2025-06-15 21:55:45 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:55:45 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:55:45 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:55:45 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@269a01d4]
2025-06-15 21:55:45 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:55:46 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:55:46 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:55:46 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e92afc4] was not registered for synchronization because synchronization is not active
2025-06-15 21:55:46 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 21:55:36.369}] will not be managed by Spring
2025-06-15 21:55:46 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:55:46 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:55:46 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:55:46 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e92afc4]
2025-06-15 21:56:20 [http-nio-8080-exec-5] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 21:56:20 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:56:20 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:56:20 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@572da6c] was not registered for synchronization because synchronization is not active
2025-06-15 21:56:20 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 21:55:36.369}] will not be managed by Spring
2025-06-15 21:56:20 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:56:20 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:56:20 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:56:20 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@572da6c]
2025-06-15 21:56:20 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 21:56:20 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 21:56:20 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 21:56:20 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53e36b01] was not registered for synchronization because synchronization is not active
2025-06-15 21:56:20 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 21:55:36.369}] will not be managed by Spring
2025-06-15 21:56:20 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 21:56:20 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 21:56:20 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 21:56:20 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53e36b01]
2025-06-15 22:00:48 [http-nio-8080-exec-6] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:00:48 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:00:48 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:00:48 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40f163af] was not registered for synchronization because synchronization is not active
2025-06-15 22:00:48 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:00:48.061}] will not be managed by Spring
2025-06-15 22:00:48 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:00:48 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:00:48 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:00:48 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40f163af]
2025-06-15 22:00:48 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:00:48 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:00:48 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:00:48 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a87dece] was not registered for synchronization because synchronization is not active
2025-06-15 22:00:48 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:00:48.061}] will not be managed by Spring
2025-06-15 22:00:48 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:00:48 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:00:48 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:00:48 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a87dece]
2025-06-15 22:00:48 [http-nio-8080-exec-9] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:00:48 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:00:48 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:00:48 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47dd19cf] was not registered for synchronization because synchronization is not active
2025-06-15 22:00:48 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:00:48.061}] will not be managed by Spring
2025-06-15 22:00:48 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:00:48 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:00:48 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:00:48 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47dd19cf]
2025-06-15 22:00:48 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:00:48 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:00:48 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:00:48 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6673a3d1] was not registered for synchronization because synchronization is not active
2025-06-15 22:00:48 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:00:48.061}] will not be managed by Spring
2025-06-15 22:00:48 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:00:48 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:00:48 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:00:48 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6673a3d1]
2025-06-15 22:00:49 [http-nio-8080-exec-6] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:00:49 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:00:49 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:00:49 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50958763] was not registered for synchronization because synchronization is not active
2025-06-15 22:00:49 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:00:48.061}] will not be managed by Spring
2025-06-15 22:00:49 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:00:49 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:00:49 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:00:49 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50958763]
2025-06-15 22:00:49 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:00:49 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:00:49 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:00:49 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25d773e3] was not registered for synchronization because synchronization is not active
2025-06-15 22:00:49 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:00:48.061}] will not be managed by Spring
2025-06-15 22:00:49 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:00:49 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:00:49 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:00:49 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25d773e3]
2025-06-15 22:01:26 [http-nio-8080-exec-4] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:01:26 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:01:26 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:01:26 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6606a21d] was not registered for synchronization because synchronization is not active
2025-06-15 22:01:26 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:00:48.061}] will not be managed by Spring
2025-06-15 22:01:26 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:01:26 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:01:26 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:01:26 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6606a21d]
2025-06-15 22:01:26 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:01:26 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:01:26 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:01:26 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3359bb6d] was not registered for synchronization because synchronization is not active
2025-06-15 22:01:26 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:00:48.061}] will not be managed by Spring
2025-06-15 22:01:26 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:01:26 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:01:26 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:01:26 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3359bb6d]
2025-06-15 22:03:02 [http-nio-8080-exec-3] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:03:02 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:03:02 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:03:02 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8e486c3] was not registered for synchronization because synchronization is not active
2025-06-15 22:03:02 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:03:02.978}] will not be managed by Spring
2025-06-15 22:03:02 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:03:02 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:03:02 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:03:02 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8e486c3]
2025-06-15 22:03:02 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:03:03 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:03:03 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:03:03 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50340aa6] was not registered for synchronization because synchronization is not active
2025-06-15 22:03:03 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:03:02.978}] will not be managed by Spring
2025-06-15 22:03:03 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:03:03 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:03:03 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:03:03 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50340aa6]
2025-06-15 22:13:42 [http-nio-8080-exec-7] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:13:42 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:13:42 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:13:42 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f8dd76d] was not registered for synchronization because synchronization is not active
2025-06-15 22:13:42 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:13:42.879}] will not be managed by Spring
2025-06-15 22:13:42 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:13:42 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:13:42 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:13:42 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f8dd76d]
2025-06-15 22:13:42 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:13:42 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:13:42 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:13:42 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60b49c] was not registered for synchronization because synchronization is not active
2025-06-15 22:13:42 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:13:42.879}] will not be managed by Spring
2025-06-15 22:13:42 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:13:42 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:13:42 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:13:42 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60b49c]
2025-06-15 22:13:43 [http-nio-8080-exec-8] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:13:43 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:13:43 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:13:43 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57c8fdee] was not registered for synchronization because synchronization is not active
2025-06-15 22:13:43 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:13:42.879}] will not be managed by Spring
2025-06-15 22:13:43 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:13:43 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:13:43 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:13:43 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57c8fdee]
2025-06-15 22:13:43 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:13:43 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:13:43 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:13:43 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8e418bb] was not registered for synchronization because synchronization is not active
2025-06-15 22:13:43 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:13:42.879}] will not be managed by Spring
2025-06-15 22:13:43 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:13:43 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:13:43 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:13:43 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8e418bb]
2025-06-15 22:14:32 [http-nio-8080-exec-3] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:14:32 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:14:32 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:14:32 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e1b0e6c] was not registered for synchronization because synchronization is not active
2025-06-15 22:14:32 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:13:42.879}] will not be managed by Spring
2025-06-15 22:14:32 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:14:32 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:14:32 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:14:32 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e1b0e6c]
2025-06-15 22:14:32 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:14:32 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:14:32 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:14:32 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ad48a2] was not registered for synchronization because synchronization is not active
2025-06-15 22:14:32 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:13:42.879}] will not be managed by Spring
2025-06-15 22:14:32 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:14:32 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:14:32 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:14:32 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ad48a2]
2025-06-15 22:14:32 [http-nio-8080-exec-10] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:14:32 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:14:32 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:14:32 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49cb7a87] was not registered for synchronization because synchronization is not active
2025-06-15 22:14:32 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:13:42.879}] will not be managed by Spring
2025-06-15 22:14:32 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:14:32 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:14:32 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:14:32 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49cb7a87]
2025-06-15 22:14:32 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:14:32 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:14:32 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:14:32 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59f88227] was not registered for synchronization because synchronization is not active
2025-06-15 22:14:32 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:13:42.879}] will not be managed by Spring
2025-06-15 22:14:32 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:14:32 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:14:32 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:14:32 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59f88227]
2025-06-15 22:15:36 [http-nio-8080-exec-1] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:15:36 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:15:36 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:15:36 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73d38b5d] was not registered for synchronization because synchronization is not active
2025-06-15 22:15:36 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:15:36.642}] will not be managed by Spring
2025-06-15 22:15:36 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:15:36 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:15:36 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:15:36 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73d38b5d]
2025-06-15 22:15:36 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:15:36 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:15:36 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:15:36 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eddfe52] was not registered for synchronization because synchronization is not active
2025-06-15 22:15:36 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:15:36.642}] will not be managed by Spring
2025-06-15 22:15:36 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:15:36 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:15:36 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:15:36 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eddfe52]
2025-06-15 22:15:37 [http-nio-8080-exec-6] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:15:37 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:15:37 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:15:37 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41683534] was not registered for synchronization because synchronization is not active
2025-06-15 22:15:37 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:15:36.642}] will not be managed by Spring
2025-06-15 22:15:37 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:15:37 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:15:37 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:15:37 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41683534]
2025-06-15 22:15:37 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:15:37 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:15:37 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:15:37 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6688d442] was not registered for synchronization because synchronization is not active
2025-06-15 22:15:37 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:15:36.642}] will not be managed by Spring
2025-06-15 22:15:37 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:15:37 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:15:37 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:15:37 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6688d442]
2025-06-15 22:15:58 [http-nio-8080-exec-6] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:15:58 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:15:58 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:15:58 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ec878aa] was not registered for synchronization because synchronization is not active
2025-06-15 22:15:58 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:15:36.642}] will not be managed by Spring
2025-06-15 22:15:58 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:15:58 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:15:58 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:15:58 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ec878aa]
2025-06-15 22:15:58 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:15:58 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:15:58 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:15:58 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f16f1c7] was not registered for synchronization because synchronization is not active
2025-06-15 22:15:58 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:15:36.642}] will not be managed by Spring
2025-06-15 22:15:58 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:15:58 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:15:58 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:15:58 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f16f1c7]
2025-06-15 22:29:43 [http-nio-8080-exec-3] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:29:43 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:29:43 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:29:43 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3588fe0a] was not registered for synchronization because synchronization is not active
2025-06-15 22:29:43 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:29:43.407}] will not be managed by Spring
2025-06-15 22:29:43 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:29:43 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:29:43 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:29:43 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3588fe0a]
2025-06-15 22:29:43 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:29:43 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:29:43 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:29:43 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@441de3f4] was not registered for synchronization because synchronization is not active
2025-06-15 22:29:43 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:29:43.407}] will not be managed by Spring
2025-06-15 22:29:43 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:29:43 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:29:43 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:29:43 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@441de3f4]
2025-06-15 22:30:29 [http-nio-8080-exec-10] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:30:29 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:30:29 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:30:29 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e70de0c] was not registered for synchronization because synchronization is not active
2025-06-15 22:30:29 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:29:43.407}] will not be managed by Spring
2025-06-15 22:30:29 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:30:29 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:30:29 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:30:29 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e70de0c]
2025-06-15 22:30:29 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:30:29 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:30:29 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:30:29 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71013245] was not registered for synchronization because synchronization is not active
2025-06-15 22:30:29 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:29:43.407}] will not be managed by Spring
2025-06-15 22:30:29 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:30:29 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:30:29 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:30:29 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71013245]
2025-06-15 22:30:36 [http-nio-8080-exec-3] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:30:36 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:30:36 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:30:36 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@add726d] was not registered for synchronization because synchronization is not active
2025-06-15 22:30:36 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:29:43.407}] will not be managed by Spring
2025-06-15 22:30:36 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:30:36 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:30:36 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:30:36 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@add726d]
2025-06-15 22:30:36 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:30:36 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:30:36 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:30:36 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@303bed48] was not registered for synchronization because synchronization is not active
2025-06-15 22:30:36 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:29:43.407}] will not be managed by Spring
2025-06-15 22:30:36 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:30:36 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:30:36 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:30:36 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@303bed48]
2025-06-15 22:30:45 [http-nio-8080-exec-10] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:30:45 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:30:45 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:30:45 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@534ec4f1] was not registered for synchronization because synchronization is not active
2025-06-15 22:30:45 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:29:43.407}] will not be managed by Spring
2025-06-15 22:30:45 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:30:45 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:30:45 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:30:45 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@534ec4f1]
2025-06-15 22:30:45 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:30:45 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:30:45 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:30:45 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32cb5ac0] was not registered for synchronization because synchronization is not active
2025-06-15 22:30:45 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:29:43.407}] will not be managed by Spring
2025-06-15 22:30:45 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:30:45 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:30:45 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:30:45 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32cb5ac0]
2025-06-15 22:30:45 [http-nio-8080-exec-3] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:30:45 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:30:45 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:30:45 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6567d20a] was not registered for synchronization because synchronization is not active
2025-06-15 22:30:45 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:29:43.407}] will not be managed by Spring
2025-06-15 22:30:45 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:30:45 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:30:45 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:30:45 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6567d20a]
2025-06-15 22:30:45 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:30:45 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:30:45 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:30:45 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6008cd55] was not registered for synchronization because synchronization is not active
2025-06-15 22:30:45 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:29:43.407}] will not be managed by Spring
2025-06-15 22:30:45 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:30:45 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:30:45 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:30:45 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6008cd55]
2025-06-15 22:30:57 [http-nio-8080-exec-9] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:30:57 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:30:57 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:30:57 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4867efbb] was not registered for synchronization because synchronization is not active
2025-06-15 22:30:57 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:29:43.407}] will not be managed by Spring
2025-06-15 22:30:57 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:30:57 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:30:57 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:30:57 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4867efbb]
2025-06-15 22:30:57 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:30:57 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:30:57 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:30:57 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20b73bc4] was not registered for synchronization because synchronization is not active
2025-06-15 22:30:57 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:29:43.407}] will not be managed by Spring
2025-06-15 22:30:57 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:30:57 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:30:57 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:30:57 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20b73bc4]
2025-06-15 22:31:10 [http-nio-8080-exec-2] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:31:10 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:31:10 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:31:10 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7211faf] was not registered for synchronization because synchronization is not active
2025-06-15 22:31:10 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:29:43.407}] will not be managed by Spring
2025-06-15 22:31:10 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:31:10 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:31:10 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:31:10 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7211faf]
2025-06-15 22:31:10 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:31:10 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:31:10 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:31:10 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eb5e8e0] was not registered for synchronization because synchronization is not active
2025-06-15 22:31:10 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:29:43.407}] will not be managed by Spring
2025-06-15 22:31:10 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:31:10 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:31:10 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:31:10 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eb5e8e0]
2025-06-15 22:31:28 [http-nio-8080-exec-6] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:31:28 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:31:28 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:31:28 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b186cf6] was not registered for synchronization because synchronization is not active
2025-06-15 22:31:28 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:29:43.407}] will not be managed by Spring
2025-06-15 22:31:28 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:31:28 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:31:28 [http-nio-8080-exec-6] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:31:28 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b186cf6]
2025-06-15 22:31:28 [http-nio-8080-exec-6] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:31:28 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:31:28 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:31:28 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@598ba404] was not registered for synchronization because synchronization is not active
2025-06-15 22:31:28 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:29:43.407}] will not be managed by Spring
2025-06-15 22:31:28 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:31:28 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:31:28 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:31:28 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@598ba404]
2025-06-15 22:31:33 [http-nio-8080-exec-8] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:31:33 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:31:33 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:31:33 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d982a96] was not registered for synchronization because synchronization is not active
2025-06-15 22:31:33 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:29:43.407}] will not be managed by Spring
2025-06-15 22:31:33 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:31:33 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:31:33 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:31:33 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d982a96]
2025-06-15 22:31:33 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:31:33 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:31:33 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:31:33 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@165edabd] was not registered for synchronization because synchronization is not active
2025-06-15 22:31:33 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:29:43.407}] will not be managed by Spring
2025-06-15 22:31:33 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:31:33 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:31:33 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:31:33 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@165edabd]
2025-06-15 22:32:06 [http-nio-8080-exec-10] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:32:06 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:32:06 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:32:06 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64bff160] was not registered for synchronization because synchronization is not active
2025-06-15 22:32:06 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:29:43.407}] will not be managed by Spring
2025-06-15 22:32:06 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:32:06 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:32:06 [http-nio-8080-exec-10] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:32:06 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64bff160]
2025-06-15 22:32:06 [http-nio-8080-exec-10] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:32:06 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:32:06 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:32:06 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a613f79] was not registered for synchronization because synchronization is not active
2025-06-15 22:32:06 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:29:43.407}] will not be managed by Spring
2025-06-15 22:32:06 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:32:06 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:32:06 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:32:06 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a613f79]
2025-06-15 22:32:34 [http-nio-8080-exec-5] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:32:34 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:32:34 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:32:34 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13d09573] was not registered for synchronization because synchronization is not active
2025-06-15 22:32:34 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:29:43.407}] will not be managed by Spring
2025-06-15 22:32:34 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:32:34 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:32:34 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:32:34 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13d09573]
2025-06-15 22:32:34 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:32:34 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:32:34 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:32:34 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fffdea6] was not registered for synchronization because synchronization is not active
2025-06-15 22:32:34 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:29:43.407}] will not be managed by Spring
2025-06-15 22:32:34 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:32:34 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:32:34 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:32:34 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fffdea6]
2025-06-15 22:35:52 [http-nio-8080-exec-9] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:35:52 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:35:52 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:35:52 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cf3f0e2] was not registered for synchronization because synchronization is not active
2025-06-15 22:35:52 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:35:52.137}] will not be managed by Spring
2025-06-15 22:35:52 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:35:52 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:35:52 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:35:52 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cf3f0e2]
2025-06-15 22:35:52 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:35:52 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:35:52 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:35:52 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30b1549c] was not registered for synchronization because synchronization is not active
2025-06-15 22:35:52 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:35:52.137}] will not be managed by Spring
2025-06-15 22:35:52 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:35:52 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:35:52 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:35:52 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30b1549c]
2025-06-15 22:35:57 [http-nio-8080-exec-7] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:35:57 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:35:57 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:35:57 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22bc499] was not registered for synchronization because synchronization is not active
2025-06-15 22:35:57 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:35:52.137}] will not be managed by Spring
2025-06-15 22:35:57 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:35:57 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:35:57 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:35:57 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22bc499]
2025-06-15 22:35:57 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:35:57 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:35:57 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:35:57 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19109f2f] was not registered for synchronization because synchronization is not active
2025-06-15 22:35:57 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:35:52.137}] will not be managed by Spring
2025-06-15 22:35:57 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:35:57 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:35:57 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:35:57 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19109f2f]
2025-06-15 22:36:25 [http-nio-8080-exec-9] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:36:25 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:36:25 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:36:25 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c621260] was not registered for synchronization because synchronization is not active
2025-06-15 22:36:25 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:35:52.137}] will not be managed by Spring
2025-06-15 22:36:25 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:36:25 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:36:25 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:36:25 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c621260]
2025-06-15 22:36:25 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:36:26 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:36:26 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:36:26 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ed7a1e3] was not registered for synchronization because synchronization is not active
2025-06-15 22:36:26 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:35:52.137}] will not be managed by Spring
2025-06-15 22:36:26 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:36:26 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:36:26 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:36:26 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ed7a1e3]
2025-06-15 22:36:41 [http-nio-8080-exec-8] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:36:41 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:36:41 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:36:41 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@477d7d68] was not registered for synchronization because synchronization is not active
2025-06-15 22:36:41 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:35:52.137}] will not be managed by Spring
2025-06-15 22:36:41 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:36:41 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:36:41 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:36:41 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@477d7d68]
2025-06-15 22:36:41 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:36:41 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:36:41 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:36:41 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d184497] was not registered for synchronization because synchronization is not active
2025-06-15 22:36:41 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:35:52.137}] will not be managed by Spring
2025-06-15 22:36:41 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:36:41 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:36:41 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:36:41 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d184497]
2025-06-15 22:37:10 [http-nio-8080-exec-5] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:37:10 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:37:10 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:37:10 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60764cde] was not registered for synchronization because synchronization is not active
2025-06-15 22:37:10 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:35:52.137}] will not be managed by Spring
2025-06-15 22:37:10 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:37:10 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:37:10 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:37:10 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60764cde]
2025-06-15 22:37:10 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:37:10 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:37:10 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:37:10 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@723d6fbd] was not registered for synchronization because synchronization is not active
2025-06-15 22:37:10 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:35:52.137}] will not be managed by Spring
2025-06-15 22:37:10 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:37:10 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:37:10 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:37:10 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@723d6fbd]
2025-06-15 22:38:03 [http-nio-8080-exec-8] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:38:03 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:38:03 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:38:03 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@696fd2ed] was not registered for synchronization because synchronization is not active
2025-06-15 22:38:03 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:35:52.137}] will not be managed by Spring
2025-06-15 22:38:03 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:38:03 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:38:03 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:38:03 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@696fd2ed]
2025-06-15 22:38:03 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:38:03 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:38:03 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:38:03 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f9dec6f] was not registered for synchronization because synchronization is not active
2025-06-15 22:38:03 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:35:52.137}] will not be managed by Spring
2025-06-15 22:38:03 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:38:03 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:38:03 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:38:03 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f9dec6f]
2025-06-15 22:38:39 [http-nio-8080-exec-8] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:38:39 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:38:39 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:38:39 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78dc2e42] was not registered for synchronization because synchronization is not active
2025-06-15 22:38:39 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:35:52.137}] will not be managed by Spring
2025-06-15 22:38:39 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:38:39 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:38:39 [http-nio-8080-exec-8] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:38:39 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78dc2e42]
2025-06-15 22:38:39 [http-nio-8080-exec-8] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:38:39 [http-nio-8080-exec-2] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:38:39 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:38:39 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@400aa179] was not registered for synchronization because synchronization is not active
2025-06-15 22:38:39 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:35:52.137}] will not be managed by Spring
2025-06-15 22:38:39 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:38:39 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:38:39 [http-nio-8080-exec-2] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:38:39 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@400aa179]
2025-06-15 22:39:06 [http-nio-8080-exec-1] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:39:06 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:39:06 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:39:06 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dffe9be] was not registered for synchronization because synchronization is not active
2025-06-15 22:39:06 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:35:52.137}] will not be managed by Spring
2025-06-15 22:39:06 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:39:06 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:39:06 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:39:06 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dffe9be]
2025-06-15 22:39:06 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:39:06 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:39:06 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:39:06 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72b5a68a] was not registered for synchronization because synchronization is not active
2025-06-15 22:39:06 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:35:52.137}] will not be managed by Spring
2025-06-15 22:39:06 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:39:06 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:39:06 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:39:06 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72b5a68a]
2025-06-15 22:39:07 [http-nio-8080-exec-3] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:39:07 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:39:07 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:39:07 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c154aa8] was not registered for synchronization because synchronization is not active
2025-06-15 22:39:07 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:35:52.137}] will not be managed by Spring
2025-06-15 22:39:07 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:39:07 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:39:07 [http-nio-8080-exec-3] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:39:07 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c154aa8]
2025-06-15 22:39:07 [http-nio-8080-exec-3] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:39:07 [http-nio-8080-exec-5] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:39:07 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:39:07 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28f03f30] was not registered for synchronization because synchronization is not active
2025-06-15 22:39:07 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:35:52.137}] will not be managed by Spring
2025-06-15 22:39:07 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:39:07 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:39:07 [http-nio-8080-exec-5] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:39:07 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28f03f30]
2025-06-15 22:39:07 [http-nio-8080-exec-1] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:39:07 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:39:07 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:39:07 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c76cf94] was not registered for synchronization because synchronization is not active
2025-06-15 22:39:07 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:35:52.137}] will not be managed by Spring
2025-06-15 22:39:07 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:39:07 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:39:07 [http-nio-8080-exec-1] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:39:07 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c76cf94]
2025-06-15 22:39:07 [http-nio-8080-exec-1] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:39:07 [http-nio-8080-exec-9] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:39:07 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:39:07 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71d7b0b2] was not registered for synchronization because synchronization is not active
2025-06-15 22:39:07 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:35:52.137}] will not be managed by Spring
2025-06-15 22:39:07 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:39:07 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:39:07 [http-nio-8080-exec-9] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:39:07 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71d7b0b2]
2025-06-15 22:39:19 [http-nio-8080-exec-4] DEBUG c.e.q.controller.ChatController - 向用户展示聊天界面: ls1
2025-06-15 22:39:19 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:39:19 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:39:19 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b236cd] was not registered for synchronization because synchronization is not active
2025-06-15 22:39:19 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:35:52.137}] will not be managed by Spring
2025-06-15 22:39:19 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:39:19 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:39:19 [http-nio-8080-exec-4] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:39:19 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b236cd]
2025-06-15 22:39:19 [http-nio-8080-exec-4] DEBUG c.e.qasystem.service.ChatService - Retrieving chat history for userId: 6
2025-06-15 22:39:19 [http-nio-8080-exec-7] DEBUG c.e.qasystem.service.UserService - 通过用户名寻找用户: ls1
2025-06-15 22:39:19 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-06-15 22:39:19 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fa965b5] was not registered for synchronization because synchronization is not active
2025-06-15 22:39:19 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ConnectionProxyImpl{connectedTime=2025-06-15 21:55:36.369, closeCount=0, lastValidateTimeMillis=2025-06-15 22:35:52.137}] will not be managed by Spring
2025-06-15 22:39:19 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==>  Preparing: SELECT * FROM users WHERE username = ?
2025-06-15 22:39:19 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - ==> Parameters: ls1(String)
2025-06-15 22:39:19 [http-nio-8080-exec-7] DEBUG c.e.q.m.UserMapper.findByUsername - <==      Total: 1
2025-06-15 22:39:19 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fa965b5]
2025-06-15 22:39:30 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-15 22:39:31 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-15 22:39:31 [SpringApplicationShutdownHook] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-06-15 22:39:31 [SpringApplicationShutdownHook] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
